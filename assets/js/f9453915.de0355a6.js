"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7467],{8940:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var o=s(6540),r=s(1656);s(8591);const a={testTensorColor:"testTensorColor_LQOr",referenceTensorColor:"referenceTensorColor_xtZ6",differenceTensorColor:"differenceTensorColor_XV79",testTensorText:"testTensorText_BrHP",referenceTensorText:"referenceTensorText_SApb",container:"container_AcWV",mainGrid:"mainGrid_n2wD",inputColumn:"inputColumn_hJkx",inputSection:"inputSection_C7Tt",header:"header_hSkD",workerStatus:"workerStatus_plMm",statusIndicator:"statusIndicator_eFtZ",ready:"ready_IrDx",loading:"loading_qQNw",pulse:"pulse_aZWe",exampleButtons:"exampleButtons_ODbm",exampleButton:"exampleButton_GPFI",tensorInput:"tensorInput_hXSv",analyzeButton:"analyzeButton_VfGY",errorMessage:"errorMessage_bMLK",logOutput:"logOutput_CW6x",logEntries:"logEntries_wist",logEntry:"logEntry_zWqD",info:"info_fYyA",warning:"warning_gskO",error:"error_NJer",debug:"debug_N8f2",message:"message_LnST",resultsColumn:"resultsColumn_eqno",propertiesCard:"propertiesCard_wW4j",copyButton:"copyButton_XJvZ",tablesGrid:"tablesGrid_WZtn",tableCell:"tableCell_NTy8",eigenvaluesCell:"eigenvaluesCell_tyIq",propertiesTable:"propertiesTable_sLOX",highlightRow:"highlightRow_oHbk",naCell:"naCell_A7Si",chartsSection:"chartsSection_Fym3",chartControls:"chartControls_Mycp",propertySelect:"propertySelect__phA",planeSelect:"planeSelect_rQZn",checkboxLabel:"checkboxLabel_ezkD",checkbox:"checkbox_oYj9",radioGroup:"radioGroup_PcH8",radioLabel:"radioLabel_ixtg",radio:"radio_DLz1",modeToggle:"modeToggle_igdJ",tensorNameInput:"tensorNameInput_j6od",tensorActions:"tensorActions_T1i2",saveButton:"saveButton_k5AZ",loadButton:"loadButton_a2QW",loadDropdown:"loadDropdown_DbjL",loadDropdownItem:"loadDropdownItem_ZLLk",tensorInfo:"tensorInfo_xNYb",tensorTimestamp:"tensorTimestamp_X0T6",deleteButton:"deleteButton_Brc7",polarChartsGrid:"polarChartsGrid_WEmc",sectionTitle:"sectionTitle_vlxf",chartLabel:"chartLabel_x0p6",surfaceChartContainer:"surfaceChartContainer_XRy4",directionalChartsGrid:"directionalChartsGrid_axvh",directionalChartContainer:"directionalChartContainer_Elam",chartsGrid:"chartsGrid_xZtP",chartContainer:"chartContainer_mWGr",rotationSection:"rotationSection_MHcq",rotationControls:"rotationControls_qelK",rotationRow:"rotationRow_PGfs",rotationLabel:"rotationLabel_nZVM",rotationInput:"rotationInput_uxD9",axisSelect:"axisSelect_XBAW",customAxisInputs:"customAxisInputs_RcVX",axisComponent:"axisComponent_fVDk",axisInput:"axisInput_YsT5",rotationButton:"rotationButton_EIIe"},i=(e,t)=>e&&t&&e.length===t.length?e.map(((e,s)=>{const o=t[s];return{angle:e.angle,angleRad:e.angleRad,value:e.value-o.value,valueMin:(e.valueMin||0)-(o.valueMin||0),valueMax:(e.valueMax||0)-(o.valueMax||0),x:void 0!==e.x&&void 0!==o.x?e.x-o.x:void 0,y:void 0!==e.y&&void 0!==o.y?e.y-o.y:void 0}})):[],n=e=>Math.abs(e)<.001?"var(--ifm-color-emphasis-600)":e>0?"#28a745":"#dc3545",l=e=>Math.abs(e)<.001?"\xb1":e>0?"+":"-",c=(e,t)=>{let s="";"averages"===e?(s="Averaging scheme\tBulk modulus (GPa)\tYoung's modulus (GPa)\tShear modulus (GPa)\tPoisson's ratio\n",s+=`Voigt\t${t.properties.bulkModulus.voigt.toFixed(3)}\t${t.properties.youngsModulus.voigt.toFixed(3)}\t${t.properties.shearModulus.voigt.toFixed(3)}\t${t.properties.poissonRatio.voigt.toFixed(5)}\n`,s+=`Reuss\t${t.properties.bulkModulus.reuss.toFixed(3)}\t${t.properties.youngsModulus.reuss.toFixed(3)}\t${t.properties.shearModulus.reuss.toFixed(3)}\t${t.properties.poissonRatio.reuss.toFixed(5)}\n`,s+=`Hill\t${t.properties.bulkModulus.hill.toFixed(3)}\t${t.properties.youngsModulus.hill.toFixed(3)}\t${t.properties.shearModulus.hill.toFixed(3)}\t${t.properties.poissonRatio.hill.toFixed(5)}`):"eigenvalues"===e?(s="Eigenvalue\tValue (GPa)\n",t.eigenvalues.forEach(((e,t)=>{s+=`\u03bb${t+1}\t${e.toFixed(3)}\n`})),s=s.trim()):"variations"===e&&(s="Property\tMinimum\tMaximum\tAnisotropy\n",s+=`Young's modulus (GPa)\t${t.extrema.youngsModulus.min.toFixed(3)}\t${t.extrema.youngsModulus.max.toFixed(3)}\t${t.extrema.youngsModulus.anisotropy.toFixed(2)}\n`,s+=`Linear compressibility (TPa\u207b\xb9)\t${t.extrema.linearCompressibility.min.toFixed(3)}\t${t.extrema.linearCompressibility.max.toFixed(3)}\t${t.extrema.linearCompressibility.anisotropy.toFixed(4)}\n`,s+=`Shear modulus (GPa)\t${t.extrema.shearModulus.min.toFixed(3)}\t${t.extrema.shearModulus.max.toFixed(3)}\t${t.extrema.shearModulus.anisotropy.toFixed(2)}\n`,s+=`Poisson's ratio\t${t.extrema.poissonRatio.min.toFixed(5)}\t${t.extrema.poissonRatio.max.toFixed(5)}\t${isFinite(t.extrema.poissonRatio.anisotropy)?t.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"}`),navigator.clipboard.writeText(s).then((()=>{console.log("Table copied to clipboard")})).catch((e=>{console.error("Failed to copy table: ",e)}))};function d(e){return{youngs:"Young's Modulus",linear_compressibility:"Linear Compressibility",shear:"Shear Modulus",poisson:"Poisson's Ratio"}[e]||e}function u(e){return{youngs:"GPa",linear_compressibility:"TPa\u207b\xb9",shear:"GPa",poisson:""}[e]||""}const m={TEST_VALUE:"var(--tensor-test-color)",REFERENCE_VALUE:"var(--tensor-reference-color)",DIFFERENCE_LIGHT:"var(--tensor-text-light)",DIFFERENCE_DARK:"var(--tensor-text-dark)",SMALL_DIFF:"var(--tensor-text-small-diff)"};function h(){const e=getComputedStyle(document.documentElement);return{testColor:e.getPropertyValue("--tensor-test-color").trim()||"#ff6600",referenceColor:e.getPropertyValue("--tensor-reference-color").trim()||"#0066cc",differenceColor:e.getPropertyValue("--tensor-difference-color").trim()||"#cc0066",diffNegativeColor:e.getPropertyValue("--tensor-matrix-diff-negative").trim()||"#2196f3",diffZeroColor:e.getPropertyValue("--tensor-matrix-diff-zero").trim()||"#ffffff",diffPositiveColor:e.getPropertyValue("--tensor-matrix-diff-positive").trim()||"#f44336",singleLowColor:e.getPropertyValue("--tensor-matrix-single-low").trim()||"#ffffff",singleMidColor:e.getPropertyValue("--tensor-matrix-single-mid").trim()||"#9e9e9e",singleHighColor:e.getPropertyValue("--tensor-matrix-single-high").trim()||"#757575"}}var x=s(5098),p=s(4848);const f=o.forwardRef(((e,t)=>{const{data:s,property:r,referenceData:a,comparisonMode:n=!1,showDifference:l=!1,testTensorName:c="Test Tensor",referenceTensorName:m="Reference Tensor"}=e,f=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!f.current||0===s.length)return;const e=x.Ts(f.current),t=h(),o="shear"===r||"poisson"===r,p=[];let y=s.map((e=>e.value));n&&a&&(y=[...y,...a.map((e=>e.value))]);Math.min(...y),Math.max(...y);if(n&&a)if(l){const e=i(s,a);p.push({name:`Difference (${c} - ${m})`,type:"line",data:e.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:3,color:t.differenceColor},areaStyle:{color:t.differenceColor,opacity:.4},itemStyle:{color:t.differenceColor},symbol:"none",animation:!1})}else o?p.push({name:`${c} Max`,type:"line",data:s.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.testColor},areaStyle:{color:t.testColor,opacity:.2},itemStyle:{color:t.testColor},symbol:"none",animation:!1},{name:`${c} Min`,type:"line",data:s.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:"#ff9944"},areaStyle:{color:"#ff9944",opacity:.2},itemStyle:{color:"#ff9944"},symbol:"none",animation:!1},{name:`${m} Max`,type:"line",data:a.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.referenceColor,type:"dashed"},areaStyle:{color:t.referenceColor,opacity:.1},itemStyle:{color:t.referenceColor},symbol:"none",animation:!1},{name:`${m} Min`,type:"line",data:a.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:"#4499cc",type:"dashed"},areaStyle:{color:"#4499cc",opacity:.1},itemStyle:{color:"#4499cc"},symbol:"none",animation:!1}):p.push({name:c,type:"line",data:s.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.testColor},areaStyle:{color:t.testColor,opacity:.2},itemStyle:{color:t.testColor},symbol:"none",animation:!1},{name:m,type:"line",data:a.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.referenceColor,type:"dashed"},areaStyle:{color:t.referenceColor,opacity:.1},itemStyle:{color:t.referenceColor},symbol:"none",animation:!1});else if(o){const e=s.map((e=>e.valueMin||0)),o=[...y,...e];Math.min(...o),Math.max(...o);p.push({name:"Maximum",type:"line",data:s.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.testColor},areaStyle:{color:t.testColor,opacity:.3},itemStyle:{color:t.testColor},symbol:"none",animation:!1}),p.push({name:"Minimum",type:"line",data:s.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:t.referenceColor},areaStyle:{color:t.referenceColor,opacity:.3},itemStyle:{color:t.referenceColor},symbol:"none",animation:!1})}else p.push({name:"Value",type:"line",data:s.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:t.referenceColor},areaStyle:{color:t.referenceColor,opacity:.3},itemStyle:{color:t.referenceColor},symbol:"none",animation:!1});const g={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#ffffff",pixelRatio:2}}},grid:{left:80,right:40,top:70,bottom:70,borderWidth:0},tooltip:{trigger:"axis",formatter:e=>{let t=`Angle: ${e[0].data[0].toFixed(1)}\xb0<br/>`;return e.forEach((e=>{t+=`${e.seriesName}: ${e.data[1].toFixed(3)} ${u(r)}<br/>`})),t}},legend:{show:!0,top:10,textStyle:{color:"var(--ifm-color-emphasis-800)",fontSize:12},data:n&&a?l?[{name:`Difference (${c} - ${m})`,itemStyle:{color:t.differenceColor}}]:o?[{name:`${c} Max`,itemStyle:{color:t.testColor}},{name:`${c} Min`,itemStyle:{color:"#ff9944"}},{name:`${m} Max`,itemStyle:{color:t.referenceColor}},{name:`${m} Min`,itemStyle:{color:"#4499cc"}}]:[{name:c,itemStyle:{color:t.testColor}},{name:m,itemStyle:{color:t.referenceColor}}]:o?[{name:"Maximum",itemStyle:{color:t.testColor}},{name:"Minimum",itemStyle:{color:t.referenceColor}}]:[{name:"Value",itemStyle:{color:t.referenceColor}}]},xAxis:{type:"value",name:"Angle (degrees)",nameLocation:"center",nameGap:30,min:0,max:360,axisLabel:{formatter:"{value}\xb0",margin:15}},yAxis:{type:"value",name:`${d(r)} (${u(r)})`,nameLocation:"center",nameGap:60,nameRotate:90,scale:!0,axisLabel:{margin:15}},series:p};e.setOption(g);const j=()=>e.resize();return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),e.dispose()}}),[s,r,a,n,l,c,m]),(0,p.jsx)("div",{ref:f,style:{width:"100%",height:"100%",aspectRatio:"1/1"}})})),y=({data:e,property:t,plane:s,referenceData:r,comparisonMode:a=!1,showDifference:n=!1,testTensorName:l="Test Tensor",referenceTensorName:c="Reference Tensor"})=>{const d=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!d.current||0===e.length)return;const o=h(),m=x.Ts(d.current),p=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const t=e.angleRad,s=e.value;let o,r;return o=s*Math.cos(t),r=s*Math.sin(t),[o,r]}));let f=p.flat();if(a&&r&&r.length>0){const e=r.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]}));f=[...f,...e.flat()]}const y=Math.max(...f.map((e=>Math.abs(e)))),g=e.map((e=>e.value)),j=(Math.min(...g),Math.max(...g),(e=>{switch(e){case"xy":default:return{x:"X",y:"Y"};case"xz":return{x:"X",y:"Z"};case"yz":return{x:"Y",y:"Z"}}})(s)),v={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#ffffff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{const[s,o]=e.data,r=Math.sqrt(s*s+o*o),a=180*Math.atan2(o,s)/Math.PI;return`${j.x}: ${s.toFixed(2)}<br/>${j.y}: ${o.toFixed(2)}<br/>Value: ${r.toFixed(3)} ${u(t)}<br/>Angle: ${a.toFixed(1)}\xb0`}},grid:{left:80,right:40,top:70,bottom:70,borderWidth:0},xAxis:{type:"value",name:j.x,nameLocation:"center",nameGap:35,min:1.1*-y,max:1.1*y,axisLabel:{fontSize:10,formatter:e=>e.toFixed(0),margin:15}},yAxis:{type:"value",name:j.y,nameLocation:"center",nameGap:35,min:1.1*-y,max:1.1*y,axisLabel:{fontSize:10,formatter:e=>e.toFixed(0),margin:15}},series:(()=>{const s="shear"===t||"poisson"===t,d=[];if(a&&r)if(n){const t=i(e,r).map((e=>{const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]}));d.push({name:`Difference (${l} - ${c})`,type:"line",data:t,smooth:!1,lineStyle:{width:3,color:o.differenceColor,type:"solid"},areaStyle:{opacity:.4,color:o.differenceColor},symbol:"circle",symbolSize:4,itemStyle:{color:o.differenceColor},animation:!1,connectNulls:!0,emphasis:{lineStyle:{width:4},itemStyle:{borderWidth:2,borderColor:"#ffffff"}}})}else if(s){const t=e.map((e=>{const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]})),s=e.map((e=>{const t=e.angleRad,s=e.valueMin||0;return[s*Math.cos(t),s*Math.sin(t)]})),a=r.map((e=>{const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]})),i=r.map((e=>{const t=e.angleRad,s=e.valueMin||0;return[s*Math.cos(t),s*Math.sin(t)]}));d.push({name:`${l} Max`,type:"line",data:t,smooth:!1,lineStyle:{width:2,color:o.testColor},areaStyle:{opacity:.2,color:o.testColor},symbol:"none",animation:!1,connectNulls:!0},{name:`${l} Min`,type:"line",data:s,smooth:!1,lineStyle:{width:2,color:"#ff9944"},areaStyle:{opacity:.2,color:"#ff9944"},symbol:"none",animation:!1,connectNulls:!0},{name:`${c} Max`,type:"line",data:a,smooth:!1,lineStyle:{width:2,color:o.referenceColor,type:"dashed"},areaStyle:{opacity:.1,color:o.referenceColor},symbol:"none",animation:!1,connectNulls:!0},{name:`${c} Min`,type:"line",data:i,smooth:!1,lineStyle:{width:2,color:"#4499cc",type:"dashed"},areaStyle:{opacity:.1,color:"#4499cc"},symbol:"none",animation:!1,connectNulls:!0})}else{const t=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]})),s=r.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]}));d.push({name:l,type:"line",data:t,smooth:!1,lineStyle:{width:2,color:o.testColor},areaStyle:{opacity:.2,color:o.testColor},symbol:"none",animation:!1,connectNulls:!0},{name:c,type:"line",data:s,smooth:!1,lineStyle:{width:2,color:o.referenceColor,type:"dashed"},areaStyle:{opacity:.1,color:o.referenceColor},symbol:"none",animation:!1,connectNulls:!0})}else if(s){const t=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const t=e.angleRad,s=e.value;return[s*Math.cos(t),s*Math.sin(t)]})),s=e.map((e=>{const t=e.angleRad,s=e.valueMin||0;return[s*Math.cos(t),s*Math.sin(t)]}));d.push({name:"Maximum",type:"line",data:t,smooth:!1,lineStyle:{width:2,color:o.testColor},areaStyle:{opacity:.3,color:o.testColor},symbol:"none",animation:!1,connectNulls:!0},{name:"Minimum",type:"line",data:s,smooth:!1,lineStyle:{width:2,color:o.referenceColor},areaStyle:{opacity:.3,color:o.referenceColor},symbol:"none",animation:!1,connectNulls:!0})}else d.push({type:"line",data:p,smooth:!1,lineStyle:{width:2,color:o.referenceColor},areaStyle:{opacity:.3,color:o.referenceColor},symbol:"none",animation:!1,connectNulls:!0});return d})(),legend:{show:"shear"===t||"poisson"===t||a&&r,top:30,textStyle:{color:"var(--ifm-color-emphasis-800)",fontSize:12},data:a&&r?n?[{name:`Difference (${l} - ${c})`,itemStyle:{color:o.differenceColor}}]:"shear"===t||"poisson"===t?[{name:`${l} Max`,itemStyle:{color:o.testColor}},{name:`${l} Min`,itemStyle:{color:"#ff9944"}},{name:`${c} Max`,itemStyle:{color:o.referenceColor}},{name:`${c} Min`,itemStyle:{color:"#4499cc"}}]:[{name:l,itemStyle:{color:o.testColor}},{name:c,itemStyle:{color:o.referenceColor}}]:"shear"===t||"poisson"===t?[{name:"Maximum",itemStyle:{color:o.testColor}},{name:"Minimum",itemStyle:{color:o.referenceColor}}]:[]},tooltip:{trigger:"item",formatter:e=>{const[s,o]=e.data,r=Math.sqrt(s*s+o*o),a=180*Math.atan2(o,s)/Math.PI;return`${j.x}: ${s.toFixed(2)}<br/>${j.y}: ${o.toFixed(2)}<br/>Value: ${r.toFixed(3)} ${u(t)}<br/>Angle: ${a.toFixed(1)}\xb0`}},grid:{left:"10%",right:"10%",top:"15%",bottom:"15%"}};m.setOption(v);const M=()=>m.resize();return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),m.dispose()}}),[e,t,s,r,a,n,l,c]),(0,p.jsx)("div",{ref:d,style:{width:"100%",height:"100%",aspectRatio:"1/1"}})},g=({data:e,property:t,useScatter:s=!0,referenceData:r,comparisonMode:a=!1,showDifference:i=!1,testTensorName:n="Test Tensor",referenceTensorName:l="Reference Tensor"})=>{const c=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!c.current||!e)return;const o=x.Ts(c.current),m=h(),p=e.surfaceData.flat().sort(((e,t)=>e-t)),f=p[Math.floor(.05*p.length)],y=p[Math.floor(.95*p.length)],g=f,j=y,v={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#ffffff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{if(a&&r&&i){const s=e.value[3];return`Difference: ${s>=0?"+":""}${s.toFixed(3)} ${u(t)}`}{const s=e.value[2];return`${d(t)}: ${s.toFixed(3)} ${u(t)}`}}},visualMap:(()=>{if(!a||!r||i){if(a&&r&&i){const t=[];for(let o=0;o<e.numU&&o<r.numU;o++)for(let s=0;s<e.numV&&s<r.numV;s++){const a=e.surfaceData[o]&&e.surfaceData[o][s]?e.surfaceData[o][s]:0,i=r.surfaceData[o]&&r.surfaceData[o][s]?r.surfaceData[o][s]:0;t.push(a-i)}const s=Math.max(...t.map(Math.abs));return{show:!1,dimension:3,min:-s,max:s,calculable:!0,realtime:!1,inRange:{color:[m.referenceColor,m.diffZeroColor,m.testColor]}}}return{show:!1,dimension:3,min:g,max:j,calculable:!0,realtime:!1,inRange:{color:[m.referenceColor,m.testColor]}}}})(),xAxis3D:{type:"value",name:"X",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},yAxis3D:{type:"value",name:"Y",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},zAxis3D:{type:"value",name:"Z",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},grid3D:{viewControl:{projection:"perspective"}},legend:{show:a&&r,data:a&&r&&i?[`Difference (${n} - ${l})`]:a&&r?[n,l]:[],textStyle:{color:"var(--ifm-color-emphasis-800)"}},series:(()=>{const t=[];return a&&r&&i?s?t.push({name:`Difference (${n} - ${l})`,type:"scatter3D",data:(()=>{const t=[];for(let s=0;s<e.numU&&s<r.numU;s++)for(let o=0;o<e.numV&&o<r.numV;o++){const a=s/(e.numU-1)*2*Math.PI,i=o/(e.numV-1)*Math.PI,n=(e.surfaceData[s]&&e.surfaceData[s][o]?e.surfaceData[s][o]:0)-(r.surfaceData[s]&&r.surfaceData[s][o]?r.surfaceData[s][o]:0),l=n*Math.sin(i)*Math.cos(a),c=n*Math.sin(i)*Math.sin(a),d=n*Math.cos(i);t.push([l,c,d,n])}return t})(),symbolSize:2.5,itemStyle:{opacity:.9}}):t.push({name:`Difference (${n} - ${l})`,type:"surface",parametric:!0,itemStyle:{opacity:.8},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(e.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(e.numV-1)},x:(t,s)=>{const o=Math.round(t/(2*Math.PI)*(e.numU-1)),a=Math.round(s/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][a]?e.surfaceData[o][a]:0)-(r.surfaceData[o]&&r.surfaceData[o][a]?r.surfaceData[o][a]:0))*Math.sin(s)*Math.cos(t)},y:(t,s)=>{const o=Math.round(t/(2*Math.PI)*(e.numU-1)),a=Math.round(s/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][a]?e.surfaceData[o][a]:0)-(r.surfaceData[o]&&r.surfaceData[o][a]?r.surfaceData[o][a]:0))*Math.sin(s)*Math.sin(t)},z:(t,s)=>{const o=Math.round(t/(2*Math.PI)*(e.numU-1)),a=Math.round(s/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][a]?e.surfaceData[o][a]:0)-(r.surfaceData[o]&&r.surfaceData[o][a]?r.surfaceData[o][a]:0))*Math.cos(s)}},data:(()=>{const t=[];for(let s=0;s<e.numU;s++){const o=[];for(let t=0;t<e.numV;t++){const a=e.surfaceData[s]&&e.surfaceData[s][t]?e.surfaceData[s][t]:0,i=r.surfaceData[s]&&r.surfaceData[s][t]?r.surfaceData[s][t]:0;o.push(a-i)}t.push(o)}return t})()}):s?(t.push({name:a&&r?n:"Data",type:"scatter3D",data:(()=>{const t=[];for(let s=0;s<e.numU;s++)for(let o=0;o<e.numV;o++){const r=s/(e.numU-1)*2*Math.PI,a=o/(e.numV-1)*Math.PI,i=e.surfaceData[s]&&e.surfaceData[s][o]?e.surfaceData[s][o]:0,n=i*Math.sin(a)*Math.cos(r),l=i*Math.sin(a)*Math.sin(r),c=i*Math.cos(a);t.push([n,l,c,i])}return t})(),symbolSize:2.5,itemStyle:{opacity:.9,color:a&&r?m.testColor:void 0}}),a&&r&&t.push({name:l,type:"scatter3D",data:(()=>{const e=[];for(let t=0;t<r.numU;t++)for(let s=0;s<r.numV;s++){const o=t/(r.numU-1)*2*Math.PI,a=s/(r.numV-1)*Math.PI,i=r.surfaceData[t]&&r.surfaceData[t][s]?r.surfaceData[t][s]:0,n=i*Math.sin(a)*Math.cos(o),l=i*Math.sin(a)*Math.sin(o),c=i*Math.cos(a);e.push([n,l,c,i])}return e})(),symbolSize:2.5,itemStyle:{opacity:.7,color:m.referenceColor}})):(t.push({type:"surface",parametric:!0,shading:"lambert",wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.1)",width:.5}},itemStyle:{opacity:.8,color:a&&r?m.testColor:void 0},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(e.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(e.numV-1)},x:function(t,s){const o=Math.round(t/(2*Math.PI)*(e.numU-1)),r=Math.round(s/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.sin(s)*Math.cos(t)},y:function(t,s){const o=Math.round(t/(2*Math.PI)*(e.numU-1)),r=Math.round(s/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.sin(s)*Math.sin(t)},z:function(t,s){const o=Math.round(t/(2*Math.PI)*(e.numU-1)),r=Math.round(s/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.cos(s)}}}),a&&r&&t.push({type:"surface",parametric:!0,shading:"lambert",wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.1)",width:.5}},itemStyle:{opacity:.6,color:m.referenceColor},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(r.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(r.numV-1)},x:function(e,t){const s=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(t/Math.PI*(r.numV-1));return(r.surfaceData[s]&&r.surfaceData[s][o]?r.surfaceData[s][o]:0)*Math.sin(t)*Math.cos(e)},y:function(e,t){const s=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(t/Math.PI*(r.numV-1));return(r.surfaceData[s]&&r.surfaceData[s][o]?r.surfaceData[s][o]:0)*Math.sin(t)*Math.sin(e)},z:function(e,t){const s=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(t/Math.PI*(r.numV-1));return(r.surfaceData[s]&&r.surfaceData[s][o]?r.surfaceData[s][o]:0)*Math.cos(t)}}})),t})()};o.setOption(v);const M=()=>o.resize();return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),o.dispose()}}),[e,t,s,r,a,i,n,l]),(0,p.jsx)("div",{ref:c,style:{width:"100%",height:"100%",minHeight:"400px"}})},j=({data:e,referenceData:t,comparisonMode:s=!1,showDifference:r=!1,testTensorName:a="Test Tensor",referenceTensorName:i="Reference Tensor"})=>{const n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!n.current||!e)return;const o=x.Ts(n.current),l=h(),c=n.current.getBoundingClientRect(),d=c.width||400,u=c.height||400,p=Math.min(d,u),f=Math.max(10,Math.min(20,p/25)),y=f,g=Math.max(10,.8*f),j=Math.max(8,.7*f),v=Math.max(7,.6*f),M=[],b=[];if(s&&t&&r)for(let s=0;s<6;s++)for(let o=0;o<6;o++){const r=e[s][o]-t[s][o],a=e[s][o],i=t[s][o];(Math.abs(r)>1e-10||Math.abs(a)>1e-10||Math.abs(i)>1e-10)&&(M.push([o,5-s,r,a,i]),b.push(r))}else if(s&&t)for(let s=0;s<6;s++)for(let o=0;o<6;o++){const r=e[s][o],a=t[s][o];(Math.abs(r)>1e-10||Math.abs(a)>1e-10)&&(M.push([o,5-s,r,a]),b.push(r),b.push(a))}else for(let t=0;t<6;t++)for(let s=0;s<6;s++){const o=e[t][s];Math.abs(o)>1e-10&&(M.push([s,5-t,o]),b.push(o))}const C=Math.min(...b),S=Math.max(...b),T=s&&t&&r,N=T?Math.max(Math.abs(C),Math.abs(S)):0;const F={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#ffffff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{const[o,r,n]=e.data,l=`C${5-r+1}${o+1}`;if(T){const t=e.data[2],s=e.data[3],o=e.data[4],r=0!==o?(s-o)/Math.abs(o)*100:0;return`${l}<br/>${a}: ${s.toFixed(3)} GPa<br/>${i}: ${o.toFixed(3)} GPa<br/>Difference: ${t>=0?"+":""}${t.toFixed(3)} GPa<br/>Change: ${r>=0?"+":""}${r.toFixed(1)}%`}if(s&&t){const t=e.data[2],s=e.data[3],o=t-s,r=0!==s?(t-s)/Math.abs(s)*100:0;return`${l}<br/>${a}: ${t.toFixed(3)} GPa<br/>${i}: ${s.toFixed(3)} GPa<br/>Difference: ${o>=0?"+":""}${o.toFixed(3)} GPa<br/>Change: ${r>=0?"+":""}${r.toFixed(1)}%`}return`${l}: ${n.toFixed(3)} GPa`}},grid:{height:"60%",width:"60%",left:"center",top:60,containLabel:!0},xAxis:{type:"category",data:["C\u2081\u2081","C\u2081\u2082","C\u2081\u2083","C\u2081\u2084","C\u2081\u2085","C\u2081\u2086"],position:"top",axisLine:{show:!0},axisTick:{show:!1},axisLabel:{fontSize:g,color:"var(--ifm-color-emphasis-800)"},splitLine:{show:!1}},yAxis:{type:"category",data:["C\u2086\u2081","C\u2085\u2081","C\u2084\u2081","C\u2083\u2081","C\u2082\u2081","C\u2081\u2081"],axisLine:{show:!0},axisTick:{show:!1},axisLabel:{fontSize:g,color:"var(--ifm-color-emphasis-800)"},splitLine:{show:!1}},visualMap:{min:T?-N:C,max:T?N:S,calculable:!0,orient:"horizontal",left:"center",bottom:"5%",splitNumber:T?4:3,inRange:T?{color:[l.diffNegativeColor,l.diffPositiveColor]}:{color:[l.singleLowColor,l.singleMidColor,l.singleHighColor]},text:T?[`${i} Higher`,`${a} Higher`]:["Low","High"],textStyle:{color:"var(--ifm-color-emphasis-800)",fontSize:Math.max(8,.8*g)}},series:[{name:"Tensor Values",type:"heatmap",data:M,label:{show:!0,formatter:e=>{const o=e.data;if(T){const e=o[2],t=e>=0?"+":"";return Math.abs(e)>=100?`${t}${e.toFixed(0)}`:`${t}${e.toFixed(2)}`}if(s&&t&&o.length>=4){const e=o[2],t=o[3];return`{test|${Math.abs(e)>=100?e.toFixed(0):e.toFixed(2)}}\n{ref|${Math.abs(t)>=100?t.toFixed(0):t.toFixed(2)}}`}{const e=o[2];return Math.abs(e)>=100?e.toFixed(0):e.toFixed(2)}},color:T?"#000000":m.DIFFERENCE_LIGHT,fontSize:T?.85*y:s&&t&&!r?j:y,lineHeight:s&&t&&!r?1.2*j:1.1*y,rich:s&&t&&!r?{test:{color:l.testColor,fontWeight:"bold",fontSize:j},ref:{color:l.referenceColor,fontWeight:"normal",fontSize:v}}:void 0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(F);const w=()=>{o.resize()};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),o.dispose()}}),[e,t,s,r,a,i]),(0,p.jsx)("div",{ref:n,style:{width:"100%",height:"100%",minHeight:"350px",aspectRatio:"1/1"}})},v=({stiffnessMatrix:e,complianceMatrix:t,referenceStiffness:s,referenceCompliance:o,comparisonMode:r=!1,showDifference:i=!1,testTensorName:n="Test Tensor",referenceTensorName:l="Reference Tensor"})=>{const c=(e,t)=>{let s=`${t}\n`;s+=e.map((e=>e.map((e=>e.toFixed(3).padStart(10))).join(""))).join("\n"),navigator.clipboard.writeText(s)},d=(e,t,s)=>{let o=`${s} Comparison\n`;o+=`${n} vs ${l}\n\n`,o+=`${n}:\n`,o+=e.map((e=>e.map((e=>e.toFixed(3).padStart(10))).join(""))).join("\n"),o+=`\n\n${l}:\n`,o+=t.map((e=>e.map((e=>e.toFixed(3).padStart(10))).join(""))).join("\n"),o+=`\n\nDifferences (${n} - ${l}):\n`,o+=e.map(((e,s)=>e.map(((e,o)=>{const r=e-t[s][o];return(r>=0?"+":"")+r.toFixed(3).padStart(10)})).join(""))).join("\n"),navigator.clipboard.writeText(o)};return(0,p.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",width:"100%",minHeight:"450px",height:"auto"},children:[(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",flex:"none"},children:[(0,p.jsx)("h4",{style:{color:"var(--ifm-color-emphasis-800)",fontSize:"1rem",fontWeight:"600",margin:0},children:"Stiffness Matrix (C) - GPa"}),(0,p.jsxs)("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[r&&s?(0,p.jsx)("button",{onClick:()=>d(e,s,"Stiffness Matrix (C) - GPa"),className:a.copyButton,title:"Copy stiffness matrix comparison to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,p.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,p.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}):(0,p.jsx)("button",{onClick:()=>c(e,`Stiffness Matrix (C) - GPa - ${n}`),className:a.copyButton,title:"Copy stiffness matrix to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,p.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,p.jsx)("button",{onClick:()=>{const e=document.querySelector(".stiffness-matrix-chart");if(e){const t=x.FP(e);if(t){const e=t.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download=`Stiffness_Matrix_${n.replace(/\s+/g,"_")}.png`,s.href=e,s.click()}}},className:a.copyButton,title:"Save stiffness matrix as PNG",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,p.jsx)("polyline",{points:"17,21 17,13 7,13 7,21"}),(0,p.jsx)("polyline",{points:"7,3 7,8 15,8"})]})})]})]}),(0,p.jsx)("div",{style:{flex:"1",minHeight:"400px"},children:(0,p.jsx)("div",{className:"stiffness-matrix-chart",children:(0,p.jsx)(j,{data:e,referenceData:s,comparisonMode:r,showDifference:i,testTensorName:n,referenceTensorName:l})})})]}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",flex:"none"},children:[(0,p.jsx)("h4",{style:{color:"var(--ifm-color-emphasis-800)",fontSize:"1rem",fontWeight:"600",margin:0},children:"Compliance Matrix (S) - GPa\u207b\xb9"}),(0,p.jsxs)("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[r&&o?(0,p.jsx)("button",{onClick:()=>d(t,o,"Compliance Matrix (S) - GPa\u207b\xb9"),className:a.copyButton,title:"Copy compliance matrix comparison to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,p.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,p.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}):(0,p.jsx)("button",{onClick:()=>c(t,`Compliance Matrix (S) - GPa\u207b\xb9 - ${n}`),className:a.copyButton,title:"Copy compliance matrix to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,p.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,p.jsx)("button",{onClick:()=>{const e=document.querySelector(".compliance-matrix-chart");if(e){const t=x.FP(e);if(t){const e=t.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download=`Compliance_Matrix_${n.replace(/\s+/g,"_")}.png`,s.href=e,s.click()}}},className:a.copyButton,title:"Save compliance matrix as PNG",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,p.jsx)("polyline",{points:"17,21 17,13 7,13 7,21"}),(0,p.jsx)("polyline",{points:"7,3 7,8 15,8"})]})})]})]}),(0,p.jsx)("div",{style:{flex:"1",minHeight:"400px"},children:(0,p.jsx)("div",{className:"compliance-matrix-chart",children:(0,p.jsx)(j,{data:t,referenceData:o,comparisonMode:r,showDifference:i,testTensorName:n,referenceTensorName:l})})})]})]})};function M(e,t){const s=e*Math.PI/180,[o,r,a]=function(e){const[t,s,o]=e,r=Math.sqrt(t*t+s*s+o*o);if(0===r)return[0,0,1];return[t/r,s/r,o/r]}(t),i=Math.cos(s),n=Math.sin(s),l=1-i;return[[i+o*o*l,o*r*l-a*n,o*a*l+r*n],[r*o*l+a*n,i+r*r*l,r*a*l-o*n],[a*o*l-r*n,a*r*l+o*n,i+a*a*l]]}function b(e,t){const s=function(e){const t=Array(3).fill(0).map((()=>Array(3).fill(0).map((()=>Array(3).fill(0).map((()=>Array(3).fill(0))))))),s=[[0,0],[1,1],[2,2],[1,2],[0,2],[0,1]];for(let o=0;o<6;o++)for(let r=0;r<6;r++){const[a,i]=s[o],[n,l]=s[r];t[a][i][n][l]=e[o][r],t[i][a][n][l]=e[o][r],t[a][i][l][n]=e[o][r],t[i][a][l][n]=e[o][r]}return t}(e),o=Array(3).fill(0).map((()=>Array(3).fill(0).map((()=>Array(3).fill(0).map((()=>Array(3).fill(0))))))),r=t;for(let a=0;a<3;a++)for(let e=0;e<3;e++)for(let t=0;t<3;t++)for(let i=0;i<3;i++){let n=0;for(let o=0;o<3;o++)for(let l=0;l<3;l++)for(let c=0;c<3;c++)for(let d=0;d<3;d++)n+=r[a][o]*r[e][l]*r[t][c]*r[i][d]*s[o][l][c][d];o[a][e][t][i]=n}return function(e){const t=Array(6).fill(0).map((()=>Array(6).fill(0))),s=[[0,0],[1,1],[2,2],[1,2],[0,2],[0,1]];for(let o=0;o<6;o++)for(let r=0;r<6;r++){const[a,i]=s[o],[n,l]=s[r];t[o][r]=e[a][i][n][l]}return t}(o)}const C={X:[1,0,0],Y:[0,1,0],Z:[0,0,1],BODY_DIAGONAL:[1,1,1],FACE_DIAGONAL_XY:[1,1,0],FACE_DIAGONAL_XZ:[1,0,1],FACE_DIAGONAL_YZ:[0,1,1]},S=()=>{const[e,t]=(0,o.useState)(null),[r,i]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),[m,h]=(0,o.useState)(null),[x,j]=(0,o.useState)(null),[S,T]=(0,o.useState)("youngs"),[N,F]=(0,o.useState)("xy"),[w,D]=(0,o.useState)({}),[k,R]=(0,o.useState)(null),[$,P]=(0,o.useState)(!1),[I,z]=(0,o.useState)(!0),[L,_]=(0,o.useState)(!1),[A,E]=(0,o.useState)(""),[G,V]=(0,o.useState)(null),B=(0,o.useRef)(null),[W,H]=(0,o.useState)(null),[U,O]=(0,o.useState)({}),[Y,Z]=(0,o.useState)(null),[X,q]=(0,o.useState)(0),[Q,J]=(0,o.useState)(!1),K=(0,o.useRef)(!1),[ee,te]=(0,o.useState)(!1),[se,oe]=(0,o.useState)(!1),[re,ae]=(0,o.useState)(""),[ie,ne]=(0,o.useState)([]),[le,ce]=(0,o.useState)(""),[de,ue]=(0,o.useState)(""),[me,he]=(0,o.useState)([]),[xe,pe]=(0,o.useState)(!1),[fe,ye]=(0,o.useState)(!1),[ge,je]=(0,o.useState)(!1),[ve,Me]=(0,o.useState)(0),[be,Ce]=(0,o.useState)([0,0,1]),[Se,Te]=(0,o.useState)("Z"),[Ne,Fe]=(0,o.useState)(null);(0,o.useEffect)((()=>(we(),$e(),()=>{e&&e.terminate()})),[]);const we=async()=>{try{const e=new Worker(new URL(s.p+s.u(9761),s.b),{type:void 0});e.onmessage=De,e.onerror=e=>{console.error("Worker error:",e),ae("Worker error: "+e.message),i(!1)},t(e),e.postMessage({type:"init",data:{}})}catch(re){console.error("Failed to initialize worker:",re),ae("Failed to initialize Web Worker: "+re.message)}},De=e=>{const{type:t,...s}=e.data;switch(t){case"initialized":s.success?(i(!0),Re("Worker initialized successfully","info")):(i(!1),ae("Worker initialization failed: "+s.error));break;case"log":Re(s.message,ke(s.level));break;case"analysisResult":s.success?K.current?(H(s.data),J(!1),K.current=!1,setTimeout((()=>Ae()),100),oe(!1)):(j(s.data),L||(setTimeout((()=>Ae()),100),oe(!1))):(ae("Analysis failed: "+s.error),oe(!1));break;case"directionalDataResult":s.success?s.isReference?O((e=>({...e,[s.plane]:s.data}))):D((e=>({...e,[s.plane]:s.data}))):ae("Directional data generation failed: "+s.error);break;case"3DSurfaceResult":s.success?s.isReference?Z(s.data):R(s.data):ae("3D surface generation failed: "+s.error);break;case"error":console.error("Worker error:",s.error),ae("Calculation error: "+s.error),oe(!1)}},ke=e=>{switch(e){case 0:case 1:return"debug";case 2:return"info";case 3:return"warning";default:return"error"}},Re=(e,t)=>{ne((s=>[...s,{message:e,level:t,timestamp:new Date}]))},$e=()=>{try{const e=localStorage.getItem("elasticTensors");if(e){const t=JSON.parse(e).map((e=>({...e,timestamp:new Date(e.timestamp)})));he(t)}}catch(re){console.error("Failed to load saved tensors:",re)}},Pe=(e,t)=>{if(e.trim()&&t.trim())try{const s=[{name:e.trim(),data:t.trim(),timestamp:new Date},...me.filter((t=>t.name!==e.trim()))];he(s),localStorage.setItem("elasticTensors",JSON.stringify(s)),Re(`Saved tensor: ${e}`,"info")}catch(re){console.error("Failed to save tensor:",re),ae("Failed to save tensor to localStorage")}},Ie=e=>{try{const t=me.filter((t=>t.name!==e));he(t),localStorage.setItem("elasticTensors",JSON.stringify(t)),Re(`Deleted tensor: ${e}`,"info")}catch(re){console.error("Failed to delete tensor:",re)}},ze=(e,t=!1)=>{const s=me.find((t=>t.name===e));s&&(t?(E(s.data),ue(e)):(u(s.data),ce(e)),Re(`Loaded tensor: ${e}`,"info"))},Le=()=>le.trim()||"Test Tensor",_e=()=>de.trim()||"Reference Tensor",Ae=()=>{e&&r&&(m&&(["xy","xz","yz"].forEach((t=>{e.postMessage({type:"generateDirectionalData",data:{tensorData:m,property:S,plane:t,numPoints:180,isReference:!1}})})),e.postMessage({type:"generate3DSurfaceData",data:{tensorData:m,property:S,isReference:!1}})),L&&B.current&&(["xy","xz","yz"].forEach((t=>{e.postMessage({type:"generateDirectionalData",data:{tensorData:B.current,property:S,plane:t,numPoints:180,isReference:!0}})})),e.postMessage({type:"generate3DSurfaceData",data:{tensorData:B.current,property:S,isReference:!0}})))},Ee=e=>{const t=e.trim().split("\n").filter((e=>e.trim()));if(6!==t.length)throw new Error("Elastic tensor must have exactly 6 rows");const s=[];for(let a=0;a<t.length;a++){const e=t[a].trim().split(/\s+/).map(parseFloat);if(e.some(isNaN))throw new Error("All values must be valid numbers");s.push(e)}const o=s.every(((e,t)=>e.length===6-t)),r=s.every((e=>6===e.length));if(!o&&!r)throw new Error("Matrix must be either full 6x6 or upper triangular format");if(o){const e=Array(6).fill(0).map((()=>Array(6).fill(0)));for(let t=0;t<6;t++)for(let o=0;o<s[t].length;o++){const r=s[t][o],a=t+o;e[t][a]=r,e[a][t]=r}return e}return s},Ge=e=>{if(!ge||0===ve)return e;try{const t=function(e,t,s){const o=M(t,s);return{rotatedMatrix:b(e,o),rotationMatrix:o,params:{angle:t,axis:s}}}(e,ve,be);return Re(`Applied rotation: ${ve}\xb0 about axis [${be.join(", ")}]`,"info"),t.rotatedMatrix}catch(re){return Re(`Rotation failed: ${re.message}`,"error"),e}};(0,o.useEffect)((()=>{te(!1)}),[L]),(0,o.useEffect)((()=>{const e=e=>{e.target.closest(".loadDropdownContainer")||(pe(!1),ye(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]),(0,o.useEffect)((()=>{m&&r&&(D({}),O({}),R(null),Z(null),Ae())}),[S,m,r,L]);const Ve=e=>{if("silicon"===e){u("166  64  64   0   0   0\n 64 166  64   0   0   0\n 64  64 166   0   0   0\n  0   0   0  80   0   0\n  0   0   0   0  80   0\n  0   0   0   0   0  80"),ce("Silicon")}else if("quartz"===e){u("48.137 11.411 12.783  0.000 -3.654  0.000\n11.411 34.968 14.749  0.000 -0.094  0.000\n12.783 14.749 26.015  0.000 -4.528  0.000\n 0.000  0.000  0.000 14.545  0.000  0.006\n-3.654 -0.094 -4.528  0.000 10.771  0.000\n 0.000  0.000  0.000  0.006  0.000 11.947"),ce("Quartz")}},Be=e=>{if("silicon"===e){E("166  64  64   0   0   0\n 64 166  64   0   0   0\n 64  64 166   0   0   0\n  0   0   0  80   0   0\n  0   0   0   0  80   0\n  0   0   0   0   0  80"),ue("Silicon")}else if("quartz"===e){E("48.137 11.411 12.783  0.000 -3.654  0.000\n11.411 34.968 14.749  0.000 -0.094  0.000\n12.783 14.749 26.015  0.000 -4.528  0.000\n 0.000  0.000  0.000 14.545  0.000  0.006\n-3.654 -0.094 -4.528  0.000 10.771  0.000\n 0.000  0.000  0.000  0.006  0.000 11.947"),ue("Quartz")}};return(0,p.jsx)("div",{className:a.container,children:(0,p.jsxs)("div",{className:a.mainGrid,children:[(0,p.jsx)("div",{className:a.inputColumn,children:(0,p.jsxs)("div",{className:a.inputSection,children:[(0,p.jsxs)("div",{className:a.header,children:[(0,p.jsx)("h3",{children:L?"Primary Tensor Input":"Elastic Tensor Input"}),(0,p.jsxs)("div",{className:a.workerStatus,children:[(0,p.jsx)("span",{className:`${a.statusIndicator} ${r?a.ready:a.loading}`,children:r?"\u25cf":"\u25cb"}),r?"Ready":"Loading..."]})]}),(0,p.jsx)("div",{className:a.modeToggle,children:(0,p.jsxs)("label",{className:a.checkboxLabel,children:[(0,p.jsx)("input",{type:"checkbox",checked:L,onChange:e=>_(e.target.checked),className:a.checkbox}),"Comparison Mode"]})}),(0,p.jsx)("input",{type:"text",value:le,onChange:e=>ce(e.target.value),placeholder:"Tensor name (e.g., 'Silicon_modified')",className:a.tensorNameInput}),(0,p.jsxs)("div",{className:a.tensorActions,children:[(0,p.jsxs)("div",{style:{position:"relative",flex:1},className:"loadDropdownContainer",children:[(0,p.jsxs)("button",{onClick:e=>{e.stopPropagation(),pe(!xe)},className:a.loadButton,style:{width:"100%"},children:["Load Tensor (",me.length+2,") \u25bc"]}),xe&&(0,p.jsxs)("div",{className:a.loadDropdown,children:[(0,p.jsxs)("div",{style:{borderBottom:"1px solid var(--ifm-color-emphasis-300)",paddingBottom:"0.25rem",marginBottom:"0.25rem"},children:[(0,p.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Example Tensors"}),(0,p.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Ve("silicon"),pe(!1)},style:{cursor:"pointer"},children:(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:"Silicon"}),(0,p.jsx)("div",{className:a.tensorTimestamp,children:"Cubic crystal example"})]})}),(0,p.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Ve("quartz"),pe(!1)},style:{cursor:"pointer"},children:(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:"Quartz"}),(0,p.jsx)("div",{className:a.tensorTimestamp,children:"Trigonal crystal example"})]})})]}),me.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Saved Tensors"}),me.map((e=>(0,p.jsxs)("div",{className:a.loadDropdownItem,onClick:()=>{ze(e.name,!1),pe(!1)},style:{cursor:"pointer"},children:[(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:e.name}),(0,p.jsxs)("div",{className:a.tensorTimestamp,children:[e.timestamp.toLocaleDateString()," ",e.timestamp.toLocaleTimeString()]})]}),(0,p.jsx)("button",{onClick:t=>{t.stopPropagation(),Ie(e.name)},className:a.deleteButton,title:"Delete tensor",children:(0,p.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,p.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]},e.name)))]})]})]}),(0,p.jsx)("button",{onClick:()=>Pe(le,d),disabled:!le.trim()||!d.trim(),className:a.saveButton,style:{flex:1},children:"Save Tensor"})]}),(0,p.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),placeholder:"6x6 elastic stiffness matrix (GPa)...",rows:6,className:a.tensorInput}),L&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:a.header,style:{marginTop:"1rem"},children:(0,p.jsx)("h3",{children:"Comparison Tensor Input"})}),(0,p.jsx)("input",{type:"text",value:de,onChange:e=>ue(e.target.value),placeholder:"Reference tensor name",className:a.tensorNameInput}),(0,p.jsxs)("div",{className:a.tensorActions,children:[(0,p.jsxs)("div",{style:{position:"relative",flex:1},className:"loadDropdownContainer",children:[(0,p.jsxs)("button",{onClick:e=>{e.stopPropagation(),ye(!fe)},className:a.loadButton,style:{width:"100%"},children:["Load Tensor (",me.length+2,") \u25bc"]}),fe&&(0,p.jsxs)("div",{className:a.loadDropdown,children:[(0,p.jsxs)("div",{style:{borderBottom:"1px solid var(--ifm-color-emphasis-300)",paddingBottom:"0.5rem",marginBottom:"0.5rem"},children:[(0,p.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--ifm-color-emphasis-600)",padding:"0.25rem 0.5rem"},children:"Example Tensors"}),(0,p.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Be("silicon"),ye(!1)},style:{cursor:"pointer"},children:(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:"Silicon"}),(0,p.jsx)("div",{className:a.tensorTimestamp,children:"Cubic crystal example"})]})}),(0,p.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Be("quartz"),ye(!1)},style:{cursor:"pointer"},children:(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:"Quartz"}),(0,p.jsx)("div",{className:a.tensorTimestamp,children:"Trigonal crystal example"})]})})]}),me.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Saved Tensors"}),me.map((e=>(0,p.jsxs)("div",{className:a.loadDropdownItem,onClick:()=>{ze(e.name,!0),ye(!1)},style:{cursor:"pointer"},children:[(0,p.jsxs)("div",{className:a.tensorInfo,children:[(0,p.jsx)("div",{children:e.name}),(0,p.jsxs)("div",{className:a.tensorTimestamp,children:[e.timestamp.toLocaleDateString()," ",e.timestamp.toLocaleTimeString()]})]}),(0,p.jsx)("button",{onClick:t=>{t.stopPropagation(),Ie(e.name)},className:a.deleteButton,title:"Delete tensor",children:(0,p.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,p.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]},e.name)))]})]})]}),(0,p.jsx)("button",{onClick:()=>Pe(de,A),disabled:!de.trim()||!A.trim(),className:a.saveButton,style:{flex:1},children:"Save Tensor"})]}),(0,p.jsx)("textarea",{value:A,onChange:e=>E(e.target.value),placeholder:"6x6 reference elastic stiffness matrix for comparison (GPa)...",rows:6,className:a.tensorInput})]}),(0,p.jsxs)("div",{className:a.rotationSection,children:[(0,p.jsx)("div",{className:a.header,children:(0,p.jsx)("h4",{children:"Tensor Rotation"})}),(0,p.jsxs)("label",{className:a.checkboxLabel,children:[(0,p.jsx)("input",{type:"checkbox",checked:ge,onChange:e=>je(e.target.checked),className:a.checkbox}),"Enable Rotation"]}),ge&&(0,p.jsxs)("div",{className:a.rotationControls,children:[(0,p.jsx)("div",{className:a.rotationRow,children:(0,p.jsxs)("label",{className:a.rotationLabel,children:["Angle (degrees):",(0,p.jsx)("input",{type:"number",value:ve,onChange:e=>Me(parseFloat(e.target.value)||0),step:"1",min:"-360",max:"360",className:a.rotationInput})]})}),(0,p.jsx)("div",{className:a.rotationRow,children:(0,p.jsxs)("label",{className:a.rotationLabel,children:["Rotation Axis:",(0,p.jsxs)("select",{value:Se,onChange:e=>(e=>{if(Te(e),"CUSTOM"===e)return;const t=C[e];t&&Ce(t)})(e.target.value),className:a.axisSelect,children:[(0,p.jsx)("option",{value:"X",children:"X-axis (1,0,0)"}),(0,p.jsx)("option",{value:"Y",children:"Y-axis (0,1,0)"}),(0,p.jsx)("option",{value:"Z",children:"Z-axis (0,0,1)"}),(0,p.jsx)("option",{value:"BODY_DIAGONAL",children:"Body diagonal (1,1,1)"}),(0,p.jsx)("option",{value:"FACE_DIAGONAL_XY",children:"Face diagonal XY (1,1,0)"}),(0,p.jsx)("option",{value:"FACE_DIAGONAL_XZ",children:"Face diagonal XZ (1,0,1)"}),(0,p.jsx)("option",{value:"FACE_DIAGONAL_YZ",children:"Face diagonal YZ (0,1,1)"}),(0,p.jsx)("option",{value:"CUSTOM",children:"Custom"})]})]})}),"CUSTOM"===Se&&(0,p.jsx)("div",{className:a.rotationRow,children:(0,p.jsxs)("div",{className:a.customAxisInputs,children:[(0,p.jsxs)("label",{className:a.axisComponent,children:["X:",(0,p.jsx)("input",{type:"number",value:be[0],onChange:e=>Ce([parseFloat(e.target.value)||0,be[1],be[2]]),step:"0.1",className:a.axisInput})]}),(0,p.jsxs)("label",{className:a.axisComponent,children:["Y:",(0,p.jsx)("input",{type:"number",value:be[1],onChange:e=>Ce([be[0],parseFloat(e.target.value)||0,be[2]]),step:"0.1",className:a.axisInput})]}),(0,p.jsxs)("label",{className:a.axisComponent,children:["Z:",(0,p.jsx)("input",{type:"number",value:be[2],onChange:e=>Ce([be[0],be[1],parseFloat(e.target.value)||0]),step:"0.1",className:a.axisInput})]})]})}),Ne&&(0,p.jsx)("div",{className:a.rotationRow,children:(0,p.jsx)("button",{onClick:()=>{if(!Ne)return void ae("No tensor data to rotate");const t=Ge(Ne);h(t),e&&r&&(oe(!0),e.postMessage({type:"analyzeTensor",data:{tensorData:t}}))},disabled:!r||se,className:a.rotationButton,children:"Apply Rotation & Re-analyze"})})]})]}),(0,p.jsx)("button",{onClick:()=>{if(r)try{ae(""),ne([]);const t=Ee(d);Fe(t);const s=Ge(t);if(h(s),oe(!0),L&&A.trim()){const t=Ee(A);V(t),B.current=t,e?.postMessage({type:"analyzeTensor",data:{tensorData:s}}),setTimeout((()=>{J(!0),K.current=!0,e?.postMessage({type:"analyzeTensor",data:{tensorData:t}})}),100)}else V(null),H(null),B.current=null,e?.postMessage({type:"analyzeTensor",data:{tensorData:s}})}catch(t){ae(t.message),h(null),j(null),V(null),H(null)}else ae("Worker not ready. Please wait for initialization.")},disabled:!r||se,className:a.analyzeButton,children:se?"Analyzing...":"Analyze"}),re&&(0,p.jsx)("div",{className:a.errorMessage,children:re}),ie.length>0&&(0,p.jsx)("div",{className:a.logOutput,children:(0,p.jsx)("div",{className:a.logEntries,children:ie.slice(-3).map(((e,t)=>(0,p.jsx)("div",{className:`${a.logEntry} ${a[e.level]}`,children:(0,p.jsx)("span",{className:a.message,children:e.message})},t)))})})]})}),(0,p.jsx)("div",{className:a.resultsColumn,children:x&&(0,p.jsxs)(p.Fragment,{children:[x.eigenvalues&&!x.isPositiveDefinite&&(0,p.jsxs)("div",{className:a.errorBanner,style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderLeft:"4px solid #dc3545",padding:"12px 16px",marginBottom:"20px",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,p.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#dc3545",strokeWidth:"2",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,p.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{style:{color:"#721c24"},children:"Error: Tensor Not Positive Definite"}),(0,p.jsxs)("div",{style:{fontSize:"0.9em",color:"#721c24",marginTop:"4px"},children:["This elastic tensor has ",x.eigenvalues.filter((e=>e<=0)).length," non-positive eigenvalue(s), indicating this is not a stable minimum. The calculated properties and visualizations are not physically meaningful."]})]})]}),x.eigenvalueError&&(0,p.jsxs)("div",{className:a.warningBanner,style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderLeft:"4px solid #dc3545",padding:"12px 16px",marginBottom:"20px",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,p.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#dc3545",strokeWidth:"2",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,p.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{style:{color:"#721c24"},children:"Error: Cannot Calculate Eigenvalues"}),(0,p.jsx)("div",{style:{fontSize:"0.9em",color:"#721c24",marginTop:"4px"},children:x.eigenvalueError})]})]}),(0,p.jsxs)("div",{className:a.tablesGrid,children:[(0,p.jsxs)("div",{className:a.tableCell,children:[(0,p.jsxs)("h3",{children:[L&&W?"Comparison - Average Properties":"Average Properties",L&&!W&&" (Processing Reference...)",L&&W&&" \u2713",L&&W&&(0,p.jsxs)("span",{style:{fontSize:"0.7em",marginLeft:"1rem",color:"var(--ifm-color-emphasis-600)"},children:["Ref Data: ",Object.keys(U).join(", ")||"None"]}),(0,p.jsx)("button",{onClick:()=>c("averages",x),className:a.copyButton,title:"Copy table to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,p.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,p.jsxs)("table",{className:a.propertiesTable,children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Averaging scheme"}),(0,p.jsx)("th",{children:"Bulk modulus (GPa)"}),(0,p.jsx)("th",{children:"Young's modulus (GPa)"}),(0,p.jsx)("th",{children:"Shear modulus (GPa)"}),(0,p.jsx)("th",{children:"Poisson's ratio"})]})}),(0,p.jsx)("tbody",{children:L&&W?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Voigt"}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.bulkModulus.voigt.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.bulkModulus.voigt.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.bulkModulus.voigt-W.properties.bulkModulus.voigt)},children:[l(x.properties.bulkModulus.voigt-W.properties.bulkModulus.voigt),Math.abs(x.properties.bulkModulus.voigt-W.properties.bulkModulus.voigt).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.youngsModulus.voigt.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.youngsModulus.voigt.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.youngsModulus.voigt-W.properties.youngsModulus.voigt)},children:["(",l(x.properties.youngsModulus.voigt-W.properties.youngsModulus.voigt),Math.abs(x.properties.youngsModulus.voigt-W.properties.youngsModulus.voigt).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.shearModulus.voigt.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.shearModulus.voigt.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.shearModulus.voigt-W.properties.shearModulus.voigt)},children:["(",l(x.properties.shearModulus.voigt-W.properties.shearModulus.voigt),Math.abs(x.properties.shearModulus.voigt-W.properties.shearModulus.voigt).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.poissonRatio.voigt.toFixed(5)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.poissonRatio.voigt.toFixed(5),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.poissonRatio.voigt-W.properties.poissonRatio.voigt)},children:["(",l(x.properties.poissonRatio.voigt-W.properties.poissonRatio.voigt),Math.abs(x.properties.poissonRatio.voigt-W.properties.poissonRatio.voigt).toFixed(5),")"]})]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Reuss"}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.bulkModulus.reuss.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.bulkModulus.reuss.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.bulkModulus.reuss-W.properties.bulkModulus.reuss)},children:["(",l(x.properties.bulkModulus.reuss-W.properties.bulkModulus.reuss),Math.abs(x.properties.bulkModulus.reuss-W.properties.bulkModulus.reuss).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.youngsModulus.reuss.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.youngsModulus.reuss.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.youngsModulus.reuss-W.properties.youngsModulus.reuss)},children:["(",l(x.properties.youngsModulus.reuss-W.properties.youngsModulus.reuss),Math.abs(x.properties.youngsModulus.reuss-W.properties.youngsModulus.reuss).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.shearModulus.reuss.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.shearModulus.reuss.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.shearModulus.reuss-W.properties.shearModulus.reuss)},children:["(",l(x.properties.shearModulus.reuss-W.properties.shearModulus.reuss),Math.abs(x.properties.shearModulus.reuss-W.properties.shearModulus.reuss).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.poissonRatio.reuss.toFixed(5)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.poissonRatio.reuss.toFixed(5),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.poissonRatio.reuss-W.properties.poissonRatio.reuss)},children:["(",l(x.properties.poissonRatio.reuss-W.properties.poissonRatio.reuss),Math.abs(x.properties.poissonRatio.reuss-W.properties.poissonRatio.reuss).toFixed(5),")"]})]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Hill"}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.bulkModulus.hill.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.bulkModulus.hill.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.bulkModulus.hill-W.properties.bulkModulus.hill)},children:["(",l(x.properties.bulkModulus.hill-W.properties.bulkModulus.hill),Math.abs(x.properties.bulkModulus.hill-W.properties.bulkModulus.hill).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.youngsModulus.hill.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.youngsModulus.hill.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.youngsModulus.hill-W.properties.youngsModulus.hill)},children:["(",l(x.properties.youngsModulus.hill-W.properties.youngsModulus.hill),Math.abs(x.properties.youngsModulus.hill-W.properties.youngsModulus.hill).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.shearModulus.hill.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.shearModulus.hill.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.shearModulus.hill-W.properties.shearModulus.hill)},children:["(",l(x.properties.shearModulus.hill-W.properties.shearModulus.hill),Math.abs(x.properties.shearModulus.hill-W.properties.shearModulus.hill).toFixed(3),")"]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.properties.poissonRatio.hill.toFixed(5)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.properties.poissonRatio.hill.toFixed(5),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.properties.poissonRatio.hill-W.properties.poissonRatio.hill)},children:["(",l(x.properties.poissonRatio.hill-W.properties.poissonRatio.hill),Math.abs(x.properties.poissonRatio.hill-W.properties.poissonRatio.hill).toFixed(5),")"]})]})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Voigt"}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"K"}),(0,p.jsx)("sub",{children:"V"})," = ",x.properties.bulkModulus.voigt.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"E"}),(0,p.jsx)("sub",{children:"V"})," = ",x.properties.youngsModulus.voigt.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"G"}),(0,p.jsx)("sub",{children:"V"})," = ",x.properties.shearModulus.voigt.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"\u03bd"}),(0,p.jsx)("sub",{children:"V"})," = ",x.properties.poissonRatio.voigt.toFixed(5)]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Reuss"}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"K"}),(0,p.jsx)("sub",{children:"R"})," = ",x.properties.bulkModulus.reuss.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"E"}),(0,p.jsx)("sub",{children:"R"})," = ",x.properties.youngsModulus.reuss.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"G"}),(0,p.jsx)("sub",{children:"R"})," = ",x.properties.shearModulus.reuss.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"\u03bd"}),(0,p.jsx)("sub",{children:"R"})," = ",x.properties.poissonRatio.reuss.toFixed(5)]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Hill"}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"K"}),(0,p.jsx)("sub",{children:"H"})," = ",x.properties.bulkModulus.hill.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"E"}),(0,p.jsx)("sub",{children:"H"})," = ",x.properties.youngsModulus.hill.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"G"}),(0,p.jsx)("sub",{children:"H"})," = ",x.properties.shearModulus.hill.toFixed(3)]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("em",{children:"\u03bd"}),(0,p.jsx)("sub",{children:"H"})," = ",x.properties.poissonRatio.hill.toFixed(5)]})]})]})})]})]}),(0,p.jsxs)("div",{className:`${a.tableCell} ${a.eigenvaluesCell}`,children:[(0,p.jsxs)("h3",{children:["Eigenvalues of the stiffness matrix",(0,p.jsx)("button",{onClick:()=>c("eigenvalues",x),className:a.copyButton,title:"Copy table to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,p.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,p.jsxs)("table",{className:a.propertiesTable,children:[(0,p.jsx)("thead",{children:L&&W?(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsx)("th",{children:"Values (GPa)"}),(0,p.jsx)("th",{children:"Difference"})]}):(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsx)("th",{children:"Value (GPa)"})]})}),(0,p.jsx)("tbody",{children:L&&W?x.eigenvalues.map(((e,t)=>(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:["\u03bb",(0,p.jsx)("sub",{children:t+1})]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:e.toFixed(3)}),W.eigenvalues[t]&&(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.eigenvalues[t].toFixed(3),")"]})]}),(0,p.jsx)("td",{style:{color:W.eigenvalues[t]?n(e-W.eigenvalues[t]):"inherit"},children:W.eigenvalues[t]?`${l(e-W.eigenvalues[t])}${Math.abs(e-W.eigenvalues[t]).toFixed(3)}`:"N/A"})]},t))):x.eigenvalues.map(((e,t)=>(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:["\u03bb",(0,p.jsx)("sub",{children:t+1})]}),(0,p.jsx)("td",{children:e.toFixed(3)})]},t)))})]})]}),(0,p.jsxs)("div",{className:a.tableCell,children:[(0,p.jsxs)("h3",{children:["Variations of the elastic moduli",(0,p.jsx)("button",{onClick:()=>c("variations",x),className:a.copyButton,title:"Copy table to clipboard",children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,p.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,p.jsxs)("table",{className:a.propertiesTable,children:[(0,p.jsxs)("thead",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsx)("th",{colSpan:"2",children:"Young's modulus (GPa)"}),(0,p.jsxs)("th",{colSpan:"2",children:["Linear compressibility (TPa",(0,p.jsx)("sup",{children:"\u22121"}),")"]}),(0,p.jsx)("th",{colSpan:"2",children:"Shear modulus (GPa)"}),(0,p.jsx)("th",{colSpan:"2",children:"Poisson's ratio"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsxs)("th",{children:[(0,p.jsx)("em",{children:"E"}),(0,p.jsx)("sub",{children:"min"})]}),(0,p.jsxs)("th",{children:[(0,p.jsx)("em",{children:"E"}),(0,p.jsx)("sub",{children:"max"})]}),(0,p.jsxs)("th",{children:["\u03b2",(0,p.jsx)("sub",{children:"min"})]}),(0,p.jsxs)("th",{children:["\u03b2",(0,p.jsx)("sub",{children:"max"})]}),(0,p.jsxs)("th",{children:[(0,p.jsx)("em",{children:"G"}),(0,p.jsx)("sub",{children:"min"})]}),(0,p.jsxs)("th",{children:[(0,p.jsx)("em",{children:"G"}),(0,p.jsx)("sub",{children:"max"})]}),(0,p.jsxs)("th",{children:["\u03bd",(0,p.jsx)("sub",{children:"min"})]}),(0,p.jsxs)("th",{children:["\u03bd",(0,p.jsx)("sub",{children:"max"})]})]})]}),(0,p.jsx)("tbody",{children:L&&W?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Value"}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.youngsModulus.min.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.youngsModulus.min.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.youngsModulus.min-W.extrema.youngsModulus.min)},children:[l(x.extrema.youngsModulus.min-W.extrema.youngsModulus.min),Math.abs(x.extrema.youngsModulus.min-W.extrema.youngsModulus.min).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.youngsModulus.max.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.youngsModulus.max.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.youngsModulus.max-W.extrema.youngsModulus.max)},children:[l(x.extrema.youngsModulus.max-W.extrema.youngsModulus.max),Math.abs(x.extrema.youngsModulus.max-W.extrema.youngsModulus.max).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.linearCompressibility.min.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.linearCompressibility.min.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.linearCompressibility.min-W.extrema.linearCompressibility.min)},children:[l(x.extrema.linearCompressibility.min-W.extrema.linearCompressibility.min),Math.abs(x.extrema.linearCompressibility.min-W.extrema.linearCompressibility.min).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.linearCompressibility.max.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.linearCompressibility.max.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.linearCompressibility.max-W.extrema.linearCompressibility.max)},children:[l(x.extrema.linearCompressibility.max-W.extrema.linearCompressibility.max),Math.abs(x.extrema.linearCompressibility.max-W.extrema.linearCompressibility.max).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.shearModulus.min.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.shearModulus.min.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.shearModulus.min-W.extrema.shearModulus.min)},children:[l(x.extrema.shearModulus.min-W.extrema.shearModulus.min),Math.abs(x.extrema.shearModulus.min-W.extrema.shearModulus.min).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.shearModulus.max.toFixed(3)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.shearModulus.max.toFixed(3),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.shearModulus.max-W.extrema.shearModulus.max)},children:[l(x.extrema.shearModulus.max-W.extrema.shearModulus.max),Math.abs(x.extrema.shearModulus.max-W.extrema.shearModulus.max).toFixed(3)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.poissonRatio.min.toFixed(5)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.poissonRatio.min.toFixed(5),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.poissonRatio.min-W.extrema.poissonRatio.min)},children:[l(x.extrema.poissonRatio.min-W.extrema.poissonRatio.min),Math.abs(x.extrema.poissonRatio.min-W.extrema.poissonRatio.min).toFixed(5)]})]}),(0,p.jsxs)("td",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.poissonRatio.max.toFixed(5)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.poissonRatio.max.toFixed(5),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.poissonRatio.max-W.extrema.poissonRatio.max)},children:[l(x.extrema.poissonRatio.max-W.extrema.poissonRatio.max),Math.abs(x.extrema.poissonRatio.max-W.extrema.poissonRatio.max).toFixed(5)]})]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Anisotropy"}),(0,p.jsxs)("td",{colSpan:"2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.youngsModulus.anisotropy.toFixed(2)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.youngsModulus.anisotropy.toFixed(2),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.youngsModulus.anisotropy-W.extrema.youngsModulus.anisotropy)},children:[l(x.extrema.youngsModulus.anisotropy-W.extrema.youngsModulus.anisotropy),Math.abs(x.extrema.youngsModulus.anisotropy-W.extrema.youngsModulus.anisotropy).toFixed(2)]})]}),(0,p.jsxs)("td",{colSpan:"2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.linearCompressibility.anisotropy.toFixed(4)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.linearCompressibility.anisotropy.toFixed(4),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.linearCompressibility.anisotropy-W.extrema.linearCompressibility.anisotropy)},children:[l(x.extrema.linearCompressibility.anisotropy-W.extrema.linearCompressibility.anisotropy),Math.abs(x.extrema.linearCompressibility.anisotropy-W.extrema.linearCompressibility.anisotropy).toFixed(4)]})]}),(0,p.jsxs)("td",{colSpan:"2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:x.extrema.shearModulus.anisotropy.toFixed(2)}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",W.extrema.shearModulus.anisotropy.toFixed(2),")"]})]}),(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.shearModulus.anisotropy-W.extrema.shearModulus.anisotropy)},children:[l(x.extrema.shearModulus.anisotropy-W.extrema.shearModulus.anisotropy),Math.abs(x.extrema.shearModulus.anisotropy-W.extrema.shearModulus.anisotropy).toFixed(2)]})]}),(0,p.jsxs)("td",{colSpan:"2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:a.testTensorText,children:isFinite(x.extrema.poissonRatio.anisotropy)?x.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"}),(0,p.jsxs)("span",{className:a.referenceTensorText,children:["(",isFinite(W.extrema.poissonRatio.anisotropy)?W.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e",")"]})]}),isFinite(x.extrema.poissonRatio.anisotropy)&&isFinite(W.extrema.poissonRatio.anisotropy)&&(0,p.jsxs)("div",{style:{fontSize:"0.8em",color:n(x.extrema.poissonRatio.anisotropy-W.extrema.poissonRatio.anisotropy)},children:[l(x.extrema.poissonRatio.anisotropy-W.extrema.poissonRatio.anisotropy),Math.abs(x.extrema.poissonRatio.anisotropy-W.extrema.poissonRatio.anisotropy).toFixed(2)]})]})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Value"}),(0,p.jsx)("td",{children:x.extrema.youngsModulus.min.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.youngsModulus.max.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.linearCompressibility.min.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.linearCompressibility.max.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.shearModulus.min.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.shearModulus.max.toFixed(3)}),(0,p.jsx)("td",{children:x.extrema.poissonRatio.min.toFixed(5)}),(0,p.jsx)("td",{children:x.extrema.poissonRatio.max.toFixed(5)})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Anisotropy"}),(0,p.jsx)("td",{colSpan:"2",children:x.extrema.youngsModulus.anisotropy.toFixed(2)}),(0,p.jsx)("td",{colSpan:"2",children:x.extrema.linearCompressibility.anisotropy.toFixed(4)}),(0,p.jsx)("td",{colSpan:"2",children:x.extrema.shearModulus.anisotropy.toFixed(2)}),(0,p.jsx)("td",{colSpan:"2",children:isFinite(x.extrema.poissonRatio.anisotropy)?x.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"})]})]})})]})]})]}),(0,p.jsxs)("div",{className:a.chartsSection,children:[(0,p.jsxs)("div",{className:a.chartControls,children:[(0,p.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:a.propertySelect,children:[(0,p.jsx)("option",{value:"youngs",children:"Young's Modulus"}),(0,p.jsx)("option",{value:"linear_compressibility",children:"Linear Compressibility"}),(0,p.jsx)("option",{value:"shear",children:"Shear Modulus"}),(0,p.jsx)("option",{value:"poisson",children:"Poisson's Ratio"}),(0,p.jsx)("option",{value:"matrix",children:"Tensor Matrices"})]}),(0,p.jsxs)("label",{className:a.checkboxLabel,children:[(0,p.jsx)("input",{type:"checkbox",checked:$,onChange:e=>P(e.target.checked),className:a.checkbox}),"Show 3D View"]}),$&&(0,p.jsxs)("div",{className:a.radioGroup,children:[(0,p.jsxs)("label",{className:a.radioLabel,children:[(0,p.jsx)("input",{type:"radio",name:"3dMode",checked:I,onChange:()=>z(!0),className:a.radio}),"Scatter"]}),(0,p.jsxs)("label",{className:a.radioLabel,children:[(0,p.jsx)("input",{type:"radio",name:"3dMode",checked:!I,onChange:()=>z(!1),className:a.radio}),"Surface"]})]}),L&&U&&Object.keys(U).length>0&&(0,p.jsxs)("div",{className:a.radioGroup,children:[(0,p.jsxs)("label",{className:a.radioLabel,children:[(0,p.jsx)("input",{type:"radio",name:"comparisonView",checked:!ee,onChange:()=>te(!1),className:a.radio}),"Overlay"]}),(0,p.jsxs)("label",{className:a.radioLabel,children:[(0,p.jsx)("input",{type:"radio",name:"comparisonView",checked:ee,onChange:()=>te(!0),className:a.radio}),"Difference"]})]})]}),"matrix"===S?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:a.sectionTitle,children:"Stiffness & Compliance Matrices"}),(0,p.jsx)("div",{className:a.surfaceChartContainer,children:x&&(0,p.jsx)(v,{stiffnessMatrix:x.stiffnessMatrix,complianceMatrix:x.complianceMatrix,referenceStiffness:L&&W?W.stiffnessMatrix:void 0,referenceCompliance:L&&W?W.complianceMatrix:void 0,comparisonMode:L,showDifference:ee,testTensorName:Le(),referenceTensorName:_e()})})]}):$&&"matrix"!==S?(0,p.jsx)(p.Fragment,{children:x.isPositiveDefinite?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:a.sectionTitle,children:"3D Property Surface"}),(0,p.jsx)("div",{className:a.surfaceChartContainer,children:k&&(0,p.jsx)(g,{data:k,property:S,useScatter:I,referenceData:L?Y:void 0,comparisonMode:L,showDifference:ee,testTensorName:Le(),referenceTensorName:_e()})})]}):(0,p.jsx)("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--ifm-color-emphasis-600)",fontStyle:"italic"},children:"3D visualization disabled: Tensor is not positive definite"})}):"matrix"!==S?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:a.sectionTitle,children:"Property Surface Plots"}),(0,p.jsx)("div",{className:a.polarChartsGrid,children:["xy","xz","yz"].map((e=>(0,p.jsxs)("div",{className:a.chartContainer,children:[(0,p.jsxs)("div",{className:a.chartLabel,children:[e.toUpperCase()," Plane"]}),w[e]&&(0,p.jsx)(y,{data:w[e],property:S,plane:e,referenceData:L?U[e]:void 0,comparisonMode:L,testTensorName:Le(),referenceTensorName:_e(),showDifference:ee})]},e)))}),(0,p.jsx)("div",{className:a.sectionTitle,children:"Angular Variation"}),(0,p.jsx)("div",{className:a.directionalChartsGrid,children:["xy","xz","yz"].map((e=>(0,p.jsxs)("div",{className:a.chartContainer,children:[(0,p.jsxs)("div",{className:a.chartLabel,children:[e.toUpperCase()," Plane"]}),w[e]&&(0,p.jsx)(f,{data:w[e],property:S,referenceData:L?U[e]:void 0,comparisonMode:L,showDifference:ee,testTensorName:Le(),referenceTensorName:_e()})]},e)))})]}):null]})]})})]})})};function T(){return(0,p.jsx)(r.A,{title:"Elastic Tensor Calculator",description:"Interactive elastic tensor analysis tool for calculating elastic properties and visualizations",children:(0,p.jsxs)("main",{style:{minHeight:"calc(100vh - 60px)"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0.5rem 1rem",flexWrap:"wrap",gap:"0.5rem",margin:"1rem",marginBottom:"1.5rem"},children:[(0,p.jsx)("h1",{style:{marginBottom:0,fontSize:"1.5rem",flex:"1 1 auto"},children:"Elastic Tensor Calculator"}),(0,p.jsxs)("small",{style:{color:"var(--ifm-color-emphasis-600)",flex:"0 0 auto"},children:["Inspired by ",(0,p.jsx)("a",{href:"https://progs.coudert.name/elate",target:"_blank",rel:"noopener noreferrer",children:"ELATE"})]})]}),(0,p.jsx)(S,{})]})})}}}]);