"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1288],{7595:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Pe});var a=t(6540),r=t(1656);const n="container_Qh_B",l="layout_SyMw",i="sidebar_Cwvp",o="content_ak_G",c="section_fAXK",d="status_l6dK",u="statusLoading_AJab",h="statusReady_FVt8",m="moleculeInfo_KKVy",x="button_XSDO",p="stickyButtons_GEQA",j="buttonPrimary_eux_",v="buttonDanger_gLI_",g="tabs_tRXw",N="tab_F12w",f="tabActive_fzT3",_="tabContent_hF_7",b="propertiesTab_ipsn",y="structureTab_HvbL",S="noStructure_y5fR",C="matricesSection_omrz",w="noMatrices_bajq",k="orbitalsCard_tkcK",$="orbitalGrid_Wtwa",E="orbitalItem_DTbW",F="orbitalIndex_qbBV",L="orbitalEnergy_S07_",M="moreOrbitals_oRmJ",D="errorModal_HssV",O="errorContent_nEMj",R="section_X2kF",T="inputContainer_aHUj",A="headerRow_MA_E",I="label_1fak",z="controls_Azqc",B="browseButton_eNgL",H="combinedInput_AOvI",V="dragging_F5j2",W="clearButton_KExK",X="xyzTextarea_Jaou";var Y=t(4848);const P=({onFileLoad:e})=>{const[s,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(!1),o=(0,a.useRef)(null),c=async s=>{const a=s.name.split(".").pop()?.toLowerCase();if("xyz"===a){t(s.name);try{const t=await s.text();n(t),e(t)}catch(r){console.error("Error reading file:",r),alert("Failed to read file: "+r.message)}}else alert("Please upload an XYZ file.")};return(0,Y.jsx)("div",{className:R,children:(0,Y.jsxs)("div",{className:T,children:[(0,Y.jsxs)("div",{className:A,children:[(0,Y.jsx)("span",{className:I,children:"XYZ Coordinates"}),(0,Y.jsxs)("div",{className:z,children:[(0,Y.jsx)("button",{onClick:e=>{e.stopPropagation(),o.current?.click()},className:B,children:"Browse"}),(s||r)&&(0,Y.jsx)("button",{onClick:()=>{t(""),n(""),o.current&&(o.current.value="")},className:W,children:"Clear"})]})]}),(0,Y.jsxs)("div",{className:`${H} ${l?V:""}`,onDrop:e=>{e.preventDefault(),i(!1);const s=e.dataTransfer.files[0];s&&c(s)},onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:()=>{i(!1)},children:[(0,Y.jsx)("textarea",{value:r,onChange:s=>{const a=s.target.value;n(a),a.trim()&&(t(""),e(a))},placeholder:s?`Loaded: ${s}`:"3\nWater molecule\nO  0.000000  0.000000  0.000000\nH  0.757000  0.586000  0.000000\nH -0.757000  0.586000  0.000000\n\n...or drag & drop XYZ file here",rows:8,className:X}),(0,Y.jsx)("input",{ref:o,type:"file",accept:".xyz",onChange:e=>{const s=e.target.files?.[0];s&&c(s)},style:{display:"none"}})]})]})})},U="section_H6hy",G="field_rd2A",Z=({method:e,setMethod:s,basisSet:t,setBasisSet:a,maxIterations:r,setMaxIterations:n,energyTolerance:l,setEnergyTolerance:i,logLevel:o,setLogLevel:c})=>(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:U,children:[(0,Y.jsx)("h3",{children:"Calculation Method"}),(0,Y.jsxs)("div",{className:G,children:[(0,Y.jsx)("label",{children:"Theory Level"}),(0,Y.jsxs)("select",{value:e,onChange:e=>s(e.target.value),children:[(0,Y.jsx)("option",{value:"hf",children:"Hartree-Fock (HF)"}),(0,Y.jsx)("option",{value:"dft-b3lyp",children:"DFT (B3LYP)"}),(0,Y.jsx)("option",{value:"dft-pbe",children:"DFT (PBE)"}),(0,Y.jsx)("option",{value:"dft-blyp",children:"DFT (BLYP)"}),(0,Y.jsx)("option",{value:"dft-wb97x",children:"DFT (\u03c9B97X)"}),(0,Y.jsx)("option",{value:"dft-wb97m",children:"DFT (\u03c9B97M-V)"}),(0,Y.jsx)("option",{value:"dft-m06-2x",children:"DFT (M06-2X)"}),(0,Y.jsx)("option",{value:"dft-pbe0",children:"DFT (PBE0)"})]})]}),(0,Y.jsxs)("div",{className:G,children:[(0,Y.jsx)("label",{children:"Basis Set"}),(0,Y.jsxs)("select",{value:t,onChange:e=>a(e.target.value),children:[(0,Y.jsx)("option",{value:"sto-3g",children:"STO-3G"}),(0,Y.jsx)("option",{value:"3-21g",children:"3-21G"}),(0,Y.jsx)("option",{value:"6-31g",children:"6-31G"}),(0,Y.jsx)("option",{value:"6-31g(d,p)",children:"6-31G(d,p)"}),(0,Y.jsx)("option",{value:"def2-svp",children:"def2-SVP"}),(0,Y.jsx)("option",{value:"def2-tzvp",children:"def2-TZVP"}),(0,Y.jsx)("option",{value:"cc-pvdz",children:"cc-pVDZ"}),(0,Y.jsx)("option",{value:"cc-pvtz",children:"cc-pVTZ"})]})]})]}),(0,Y.jsxs)("div",{className:U,children:[(0,Y.jsx)("h3",{children:"SCF Settings"}),(0,Y.jsxs)("div",{className:G,children:[(0,Y.jsx)("label",{children:"Max Iterations"}),(0,Y.jsx)("input",{type:"number",min:"10",max:"500",value:r,onChange:e=>n(parseInt(e.target.value))})]}),(0,Y.jsxs)("div",{className:G,children:[(0,Y.jsx)("label",{children:"Energy Tolerance"}),(0,Y.jsxs)("select",{value:l.toString(),onChange:e=>i(parseFloat(e.target.value)),children:[(0,Y.jsx)("option",{value:"1e-6",children:"1e-6"}),(0,Y.jsx)("option",{value:"1e-7",children:"1e-7"}),(0,Y.jsx)("option",{value:"1e-8",children:"1e-8"}),(0,Y.jsx)("option",{value:"1e-9",children:"1e-9"}),(0,Y.jsx)("option",{value:"1e-10",children:"1e-10"})]})]}),(0,Y.jsxs)("div",{className:G,children:[(0,Y.jsx)("label",{children:"Log Level"}),(0,Y.jsxs)("select",{value:o,onChange:e=>c(parseInt(e.target.value)),children:[(0,Y.jsx)("option",{value:"0",children:"Trace"}),(0,Y.jsx)("option",{value:"1",children:"Debug"}),(0,Y.jsx)("option",{value:"2",children:"Info"}),(0,Y.jsx)("option",{value:"3",children:"Warning"}),(0,Y.jsx)("option",{value:"4",children:"Error"}),(0,Y.jsx)("option",{value:"5",children:"Critical"})]})]})]})]}),K="container_R89I",q="summaryGrid_ag2i",J="energyCard_YXOX",Q="statusCard_RoU8",ee="propertiesCard_AHmH",se="energyValues_pzt_",te="primaryEnergy_Xokq",ae="secondaryEnergy_Gl5x",re="statusInfo_hd1b",ne="convergenceStatus_AYcc",le="converged_xwWE",ie="notConverged_Y8IO",oe="timing_HvIZ",ce="propertyList_aAAD",de="propertyItem_grVF",ue="propertyLabel_Acxr",he="propertyValue_OR5o",me="exportSection_Tufw",xe="exportButtons_Op6D",pe="exportButton_Xvg9",je="noResults_jWfa",ve=({results:e})=>{if(!e)return(0,Y.jsxs)("div",{className:je,children:[(0,Y.jsx)("h3",{children:"No Results Yet"}),(0,Y.jsx)("p",{children:"Run a calculation to see results here."})]});const s=s=>{if(!e.wavefunctionData)return;let t,a,r;switch(s){case"fchk":if(!e.wavefunctionData.fchk)return void alert("FCHK data not available.");t=e.wavefunctionData.fchk,a="wavefunction.fchk",r="text/plain";break;case"json":t=JSON.stringify({energy:e.energy,energyInEV:e.energyInEV,properties:e.properties,numBasisFunctions:e.wavefunctionData.numBasisFunctions,numAtoms:e.wavefunctionData.numAtoms,calculationTime:e.elapsedMs},null,2),a="wavefunction.json",r="application/json"}const n=new Blob([t],{type:r}),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=a,i.click(),URL.revokeObjectURL(l)};return(0,Y.jsxs)("div",{className:K,children:[(0,Y.jsxs)("div",{className:q,children:[(0,Y.jsxs)("div",{className:J,children:[(0,Y.jsx)("h4",{children:"Total Energy"}),(0,Y.jsxs)("div",{className:se,children:[(0,Y.jsxs)("div",{className:te,children:[e.energy.toFixed(8)," Eh"]}),(0,Y.jsxs)("div",{className:ae,children:[e.energyInEV.toFixed(6)," eV"]})]})]}),(0,Y.jsxs)("div",{className:Q,children:[(0,Y.jsx)("h4",{children:"Status"}),(0,Y.jsxs)("div",{className:re,children:[(0,Y.jsx)("div",{className:`${ne} ${e.converged?le:ie}`,children:e.converged?"\u2713 Converged":"\u2717 Not Converged"}),(0,Y.jsx)("div",{className:oe,children:(t=e.elapsedMs,`${Math.floor(t/1e3)}s ${Math.round(t%1e3)}ms`)})]})]}),e.properties&&(0,Y.jsxs)("div",{className:ee,children:[(0,Y.jsx)("h4",{children:"Key Properties"}),(0,Y.jsxs)("div",{className:ce,children:[void 0!==e.properties.homo&&(0,Y.jsxs)("div",{className:de,children:[(0,Y.jsx)("span",{className:ue,children:"HOMO:"}),(0,Y.jsxs)("span",{className:he,children:[e.properties.homo.toFixed(6)," Eh"]})]}),void 0!==e.properties.lumo&&(0,Y.jsxs)("div",{className:de,children:[(0,Y.jsx)("span",{className:ue,children:"LUMO:"}),(0,Y.jsxs)("span",{className:he,children:[e.properties.lumo.toFixed(6)," Eh"]})]}),void 0!==e.properties.gap&&(0,Y.jsxs)("div",{className:de,children:[(0,Y.jsx)("span",{className:ue,children:"Gap:"}),(0,Y.jsxs)("span",{className:he,children:[e.properties.gap.toFixed(6)," Eh"]})]})]})]})]}),e.wavefunctionData&&(0,Y.jsxs)("div",{className:me,children:[(0,Y.jsx)("h4",{children:"Export Wavefunction"}),(0,Y.jsxs)("div",{className:xe,children:[(0,Y.jsx)("button",{className:pe,onClick:()=>s("json"),children:"\u2193 JSON"}),e.wavefunctionData.fchk&&(0,Y.jsx)("button",{className:pe,onClick:()=>s("fchk"),children:"\u2193 FCHK"})]})]})]});var t},ge={container:"container_BYXD",header:"header_RGzB",controls:"controls_Rvup",button:"button_YEOU",buttonActive:"buttonActive_nb5D",logOutput:"logOutput_RpAa",noLogs:"noLogs_oYTM",logEntry:"logEntry_Oa3L",timestamp:"timestamp__Tyr",message:"message_A8Nt","log-debug":"log-debug_cHxc","log-info":"log-info_Lwm5","log-warn":"log-warn_SwuY","log-error":"log-error_TdP2"},Ne=({logs:e})=>{const[s,t]=(0,a.useState)(!0),r=(0,a.useRef)(null);(0,a.useEffect)((()=>{s&&r.current&&(r.current.scrollTop=r.current.scrollHeight)}),[e,s]);return(0,Y.jsxs)("div",{className:ge.container,children:[(0,Y.jsxs)("div",{className:ge.header,children:[(0,Y.jsx)("h3",{children:"Calculation Output"}),(0,Y.jsx)("div",{className:ge.controls,children:(0,Y.jsx)("button",{className:`${ge.button} ${s?ge.buttonActive:""}`,onClick:()=>t(!s),children:s?"Auto-scroll ON":"Auto-scroll OFF"})})]}),(0,Y.jsx)("div",{ref:r,className:ge.logOutput,children:0===e.length?(0,Y.jsx)("div",{className:ge.noLogs,children:"No output yet. Run a calculation to see logs."}):e.map(((e,s)=>{return(0,Y.jsxs)("div",{className:`${ge.logEntry} ${ge[`log-${e.level}`]}`,children:[(0,Y.jsxs)("span",{className:ge.timestamp,children:["[",(t=e.timestamp,t.toLocaleTimeString()),"]"]}),(0,Y.jsx)("span",{className:ge.message,children:e.message})]},s);var t}))})]})},fe="matrixContainer__RiK",_e="header_t7QL",be="controls_sj24",ye="dimensions_G9Ce",Se="toggleButton_ziSy",Ce="downloadButton_yZ_5",we="matrixWrapper_lIP_",ke="matrix_UPd_",$e="fullMatrix_FIje",Ee="matrixElement_jLaA",Fe="truncationNotice_Npk0",Le="matrixInfo_AD0u",Me="infoToggle_sbWR",De="infoContent_XCc5",Oe=({matrix:e,title:s,precision:t=6,maxDisplaySize:r=8})=>{const[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1);if(!e||!e.data)return(0,Y.jsxs)("div",{className:fe,children:[(0,Y.jsx)("h4",{children:s}),(0,Y.jsx)("p",{children:"Matrix data not available"})]});const{rows:c,cols:d,data:u}=e,h=c>r||d>r,m=i?c:Math.min(c,r),x=i?d:Math.min(d,r),p=e=>Math.abs(e)<1e-10?"0.000000":e.toFixed(t);return(0,Y.jsxs)("div",{className:fe,children:[(0,Y.jsxs)("div",{className:_e,children:[(0,Y.jsx)("h4",{children:s}),(0,Y.jsxs)("div",{className:be,children:[(0,Y.jsxs)("span",{className:ye,children:[c," \xd7 ",d]}),h&&(0,Y.jsx)("button",{className:Se,onClick:()=>o(!i),children:i?"Show Preview":"Show Full"}),(0,Y.jsx)("button",{className:Ce,onClick:()=>{const e=u.map((e=>e.map((e=>p(e))).join(","))).join("\n"),t=new Blob([e],{type:"text/csv"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`${s.toLowerCase().replace(/\s+/g,"_")}_matrix.csv`,r.click(),URL.revokeObjectURL(a)},title:"Download as CSV",children:"\u2193 CSV"})]})]}),(0,Y.jsxs)("div",{className:we,children:[(0,Y.jsx)("div",{className:`${ke} ${i?$e:""}`,style:{gridTemplateColumns:`repeat(${x}, 1fr)`},children:Array.from({length:m},((e,s)=>Array.from({length:x},((e,t)=>(0,Y.jsx)("div",{className:Ee,title:`[${s+1},${t+1}] = ${u[s]?.[t]||0}`,children:p(u[s]?.[t]||0)},`${s}-${t}`)))))}),h&&!i&&(0,Y.jsxs)("div",{className:Fe,children:["Showing ",m," \xd7 ",x," of ",c," \xd7 ",d," matrix"]})]}),(0,Y.jsxs)("div",{className:Le,children:[(0,Y.jsxs)("button",{className:Me,onClick:()=>l(!n),children:[n?"\u25bc":"\u25b6"," Matrix Information"]}),n&&(0,Y.jsxs)("div",{className:De,children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:"Dimensions:"})," ",c," rows \xd7 ",d," columns"]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:"Total elements:"})," ",c*d]}),u.length>0&&u[0]&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:"Max value:"})," ",Math.max(...u.flat()).toFixed(t)]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:"Min value:"})," ",Math.min(...u.flat()).toFixed(t)]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:"Trace (diagonal sum):"})," ",u.reduce(((e,s,t)=>e+(s[t]||0)),0).toFixed(t)]})]})]})]})]})};var Re=t(7851);const Te="container_BTtL",Ae="header_Zg_R",Ie="controls_krEJ",ze="controlButton_kE_9",Be="viewer_MOiN",He="placeholder_XAIu",Ve="loading_XCE6",We="error_fQgs",Xe=({xyzData:e,moleculeName:s="Molecule"})=>{const t=(0,a.useRef)(null),r=(0,a.useRef)(null),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("");(0,a.useEffect)((()=>{if(!t.current)return;r.current=new Re.BI(t.current,{backgroundColor:"white",quality:"medium"});const e=()=>{r.current&&r.current.handleResize()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),r.current&&r.current.dispose()}}),[]);(0,a.useEffect)((()=>{if(!e||!r.current)return;(async()=>{l(!0),o("");try{r.current.removeAllComponents();const t=((e,s)=>{const t=e.trim().split("\n"),a=parseInt(t[0]),r=t[1]||s,n=[];for(let h=2;h<2+a;h++){const e=t[h].trim().split(/\s+/);n.push({element:e[0],x:parseFloat(e[1]),y:parseFloat(e[2]),z:parseFloat(e[3])})}const l={"H-H":.74,"H-C":1.09,"H-N":1.01,"H-O":.96,"H-S":1.34,"C-C":1.54,"C-N":1.47,"C-O":1.43,"C-S":1.82,"N-N":1.45,"N-O":1.4,"N-S":1.68,"O-O":1.48,"O-S":1.66,"S-S":2.05},i=(e,s)=>{const t=e.x-s.x,a=e.y-s.y,r=e.z-s.z;return Math.sqrt(t*t+a*a+r*r)},o=[];for(let h=0;h<n.length;h++)for(let e=h+1;e<n.length;e++){const s=i(n[h],n[e]),t=l[`${c=n[h].element}-${d=n[e].element}`]||l[`${d}-${c}`]||2;if(s<=1.3*t){let a=1;s<.85*t&&(a=2),s<.75*t&&(a=3),o.push({atom1:h+1,atom2:e+1,order:a})}}var c,d;let u=`${r}\n`;return u+="  Generated from XYZ with bond guessing\n",u+="\n",u+=`${a.toString().padStart(3," ")}${o.length.toString().padStart(3," ")}  0  0  0  0  0  0  0  0999 V2000\n`,n.forEach((e=>{const s=e.x.toFixed(4).padStart(10," "),t=e.y.toFixed(4).padStart(10," "),a=e.z.toFixed(4).padStart(10," ");u+=`${s}${t}${a} ${e.element.padEnd(3," ")} 0  0  0  0  0  0  0  0  0  0  0  0\n`})),o.forEach((e=>{u+=`${e.atom1.toString().padStart(3," ")}${e.atom2.toString().padStart(3," ")}${e.order.toString().padStart(3," ")}  0  0  0  0\n`})),u+="M  END\n$$$$\n",u})(e,s),a=new Blob([t],{type:"text/plain"});(await r.current.loadFile(a,{ext:"sdf",name:s})).addRepresentation("ball+stick",{colorScheme:"element",radiusScale:.8,bondScale:.3}),r.current.autoView(),l(!1)}catch(t){console.error("Error loading molecule:",t),o("Failed to load molecule structure"),l(!1)}})()}),[e,s]);return e?(0,Y.jsxs)("div",{className:Te,children:[(0,Y.jsxs)("div",{className:Ae,children:[(0,Y.jsx)("h4",{children:"3D Structure"}),(0,Y.jsxs)("div",{className:Ie,children:[(0,Y.jsx)("button",{className:ze,onClick:()=>{r.current&&r.current.autoView()},title:"Reset view",children:"\u2302"}),(0,Y.jsx)("button",{className:ze,onClick:()=>{r.current&&r.current.toggleFullscreen()},title:"Toggle fullscreen",children:"\u26f6"})]})]}),i&&(0,Y.jsx)("div",{className:We,children:(0,Y.jsx)("p",{children:i})}),n&&(0,Y.jsx)("div",{className:Ve,children:(0,Y.jsx)("p",{children:"Loading molecule..."})}),(0,Y.jsx)("div",{ref:t,className:Be,style:{opacity:n?.5:1}})]}):(0,Y.jsx)("div",{className:Te,children:(0,Y.jsxs)("div",{className:He,children:[(0,Y.jsx)("h4",{children:"Molecule Viewer"}),(0,Y.jsx)("p",{children:"Load a molecule to see its 3D structure"})]})})},Ye=()=>{const[e,s]=(0,a.useState)(null),[r,R]=(0,a.useState)(!1),[T,A]=(0,a.useState)(""),[I,z]=(0,a.useState)(null),[B,H]=(0,a.useState)(!1),[V,W]=(0,a.useState)(null),[X,U]=(0,a.useState)([]),[G,K]=(0,a.useState)("output"),[q,J]=(0,a.useState)(""),[Q,ee]=(0,a.useState)("hf"),[se,te]=(0,a.useState)("6-31g(d,p)"),[ae,re]=(0,a.useState)(100),[ne,le]=(0,a.useState)(1e-8),[ie,oe]=(0,a.useState)(2);(0,a.useEffect)((()=>(ce(),()=>{e&&e.terminate()})),[]);const ce=async()=>{try{const e=new Worker(new URL(t.p+t.u(842),t.b),{type:void 0});e.onmessage=de,e.onerror=e=>{console.error("Worker error:",e),J("Worker error: "+e.message),R(!1)},s(e),e.postMessage({type:"init",data:{}})}catch(q){console.error("Failed to initialize worker:",q),J("Failed to initialize Web Worker: "+q.message)}},de=e=>{const{type:s,...t}=e.data;switch(s){case"initialized":t.success?(R(!0),he("Worker initialized successfully","info")):(R(!1),J("Worker initialization failed: "+t.error));break;case"log":he(t.message,ue(t.level));break;case"progress":he(t.message,"info"),"complete"===t.stage&&H(!1);break;case"result":me(t);break;case"error":console.error("Worker error:",t.error),J("Calculation error: "+t.error),H(!1)}},ue=e=>{switch(e){case 0:case 1:return"debug";case 2:default:return"info";case 3:return"warn";case 4:case 5:return"error"}},he=(e,s)=>{U((t=>[...t,{message:e,level:s,timestamp:new Date}]))},me=e=>{H(!1),e.success?(W(e.results),K("results"),he("Calculation completed successfully!","info")):J("Calculation failed: "+e.error)};return(0,Y.jsxs)("div",{className:n,children:[(0,Y.jsxs)("div",{className:l,children:[(0,Y.jsxs)("div",{className:i,children:[(0,Y.jsx)("div",{className:`${d} ${r?h:u}`,children:r?"\u2713 Ready":"\u23f3 Loading..."}),(0,Y.jsx)(P,{onFileLoad:e=>{A(e);try{const s=e.trim().split("\n"),t=parseInt(s[0]),a=s[1]||"Loaded Molecule",r=new Map;for(let e=2;e<2+t;e++){const t=s[e].trim().split(/\s+/)[0];r.set(t,(r.get(t)||0)+1)}const n=Array.from(r.entries()).map((([e,s])=>s>1?`${e}${s}`:e)).join("");z({name:a,formula:n,numAtoms:t}),he(`Molecule loaded: ${n} (${t} atoms)`,"info")}catch(q){console.error("Error parsing XYZ:",q),J("Failed to parse XYZ data: "+q.message)}}}),I&&(0,Y.jsx)("div",{className:c,children:(0,Y.jsx)("div",{className:m,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)("strong",{children:I.formula})," (",I.numAtoms," atoms)"]})})}),T&&(0,Y.jsx)(Z,{method:Q,setMethod:ee,basisSet:se,setBasisSet:te,maxIterations:ae,setMaxIterations:re,energyTolerance:ne,setEnergyTolerance:le,logLevel:ie,setLogLevel:oe}),T&&(0,Y.jsxs)("div",{className:p,children:[(0,Y.jsx)("button",{className:`${x} ${j}`,onClick:()=>{if(!T)return void J("Please load a molecule first.");if(!e||!r)return void J("Web Worker not ready.");W(null),U([]),K("output"),H(!0),e.postMessage({type:"setLogLevel",data:{level:ie}});const s={xyzData:T,method:Q,basisSet:se,maxIterations:ae,energyTolerance:ne};he("Starting calculation...","info"),e.postMessage({type:"calculate",data:s})},disabled:B||!r,children:B?"Calculating...":"Run Calculation"}),B&&(0,Y.jsx)("button",{className:`${x} ${v}`,onClick:()=>{e&&B&&(e.terminate(),he("Calculation cancelled. Restarting worker...","warn"),ce(),H(!1))},children:"Cancel"})]})]}),(0,Y.jsxs)("div",{className:o,children:[T&&(0,Y.jsxs)("div",{className:g,children:[(0,Y.jsx)("button",{className:`${N} ${"output"===G?f:""}`,onClick:()=>K("output"),children:"Output"}),(0,Y.jsx)("button",{className:`${N} ${"results"===G?f:""}`,onClick:()=>K("results"),children:"Results"}),(0,Y.jsx)("button",{className:`${N} ${"structure"===G?f:""}`,onClick:()=>K("structure"),children:"Structure"}),(0,Y.jsx)("button",{className:`${N} ${"properties"===G?f:""}`,onClick:()=>K("properties"),children:"Properties"})]}),(0,Y.jsxs)("div",{className:_,children:["output"===G&&(0,Y.jsx)(Ne,{logs:X}),"results"===G&&(0,Y.jsx)(ve,{results:V}),"structure"===G&&(0,Y.jsx)("div",{className:y,children:T?(0,Y.jsx)(Xe,{xyzData:T,moleculeName:I?.name||"Molecule"}):(0,Y.jsxs)("div",{className:S,children:[(0,Y.jsx)("h3",{children:"No Structure Loaded"}),(0,Y.jsx)("p",{children:"Load a molecule to see its 3D structure visualization."})]})}),"properties"===G&&V&&(0,Y.jsxs)("div",{className:b,children:[V.orbitalEnergies&&V.orbitalEnergies.length>0&&(0,Y.jsxs)("div",{className:k,children:[(0,Y.jsx)("h4",{children:"Orbital Energies"}),(0,Y.jsx)("div",{className:$,children:V.orbitalEnergies.slice(0,20).map(((e,s)=>(0,Y.jsxs)("div",{className:E,children:[(0,Y.jsxs)("span",{className:F,children:["Orbital ",s+1,":"]}),(0,Y.jsxs)("span",{className:L,children:[e.toFixed(6)," Eh (",(27.2114*e).toFixed(3)," eV)"]})]},s)))}),V.orbitalEnergies.length>20&&(0,Y.jsxs)("div",{className:M,children:["... and ",V.orbitalEnergies.length-20," more orbitals"]})]}),V.matrices&&Object.keys(V.matrices).length>0?(0,Y.jsx)("div",{className:C,children:Object.entries(V.matrices).map((([e,s])=>s?(0,Y.jsx)(Oe,{matrix:s,title:`${e.charAt(0).toUpperCase()}${e.slice(1)} Matrix`,precision:6,maxDisplaySize:6},e):null))}):(0,Y.jsx)("div",{className:w,children:(0,Y.jsx)("p",{children:"No matrix data available. Matrices are generated during SCF calculations and may depend on the calculation method and settings."})})]})]})]})]}),q&&(0,Y.jsx)("div",{className:D,children:(0,Y.jsxs)("div",{className:O,children:[(0,Y.jsx)("h3",{children:"Error"}),(0,Y.jsx)("p",{children:q}),(0,Y.jsx)("button",{onClick:()=>J(""),children:"Close"})]})})]})};function Pe(){return(0,Y.jsx)(r.A,{title:"Wavefunction Calculator",description:"Quantum Chemistry Calculations in Your Browser",children:(0,Y.jsx)("main",{style:{minHeight:"calc(100vh - 60px)"},children:(0,Y.jsx)(Ye,{})})})}}}]);