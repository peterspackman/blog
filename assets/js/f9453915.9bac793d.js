"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7467],{7989:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var o=t(6540),r=t(1656),i=t(5098);t(8591);const a={container:"container_AcWV",mainGrid:"mainGrid_n2wD",inputColumn:"inputColumn_hJkx",inputSection:"inputSection_C7Tt",header:"header_hSkD",workerStatus:"workerStatus_plMm",statusIndicator:"statusIndicator_eFtZ",ready:"ready_IrDx",loading:"loading_qQNw",pulse:"pulse_aZWe",exampleButtons:"exampleButtons_ODbm",exampleButton:"exampleButton_GPFI",tensorInput:"tensorInput_hXSv",analyzeButton:"analyzeButton_VfGY",errorMessage:"errorMessage_bMLK",logOutput:"logOutput_CW6x",logEntries:"logEntries_wist",logEntry:"logEntry_zWqD",info:"info_fYyA",warning:"warning_gskO",error:"error_NJer",debug:"debug_N8f2",message:"message_LnST",resultsColumn:"resultsColumn_eqno",propertiesCard:"propertiesCard_wW4j",copyButton:"copyButton_XJvZ",tablesGrid:"tablesGrid_WZtn",tableCell:"tableCell_NTy8",eigenvaluesCell:"eigenvaluesCell_tyIq",propertiesTable:"propertiesTable_sLOX",highlightRow:"highlightRow_oHbk",naCell:"naCell_A7Si",chartsSection:"chartsSection_Fym3",chartControls:"chartControls_Mycp",propertySelect:"propertySelect__phA",planeSelect:"planeSelect_rQZn",checkboxLabel:"checkboxLabel_ezkD",checkbox:"checkbox_oYj9",radioGroup:"radioGroup_PcH8",radioLabel:"radioLabel_ixtg",radio:"radio_DLz1",modeToggle:"modeToggle_igdJ",tensorNameInput:"tensorNameInput_j6od",tensorActions:"tensorActions_T1i2",saveButton:"saveButton_k5AZ",loadButton:"loadButton_a2QW",loadDropdown:"loadDropdown_DbjL",loadDropdownItem:"loadDropdownItem_ZLLk",tensorInfo:"tensorInfo_xNYb",tensorTimestamp:"tensorTimestamp_X0T6",deleteButton:"deleteButton_Brc7",polarChartsGrid:"polarChartsGrid_WEmc",sectionTitle:"sectionTitle_vlxf",chartLabel:"chartLabel_x0p6",surfaceChartContainer:"surfaceChartContainer_XRy4",directionalChartsGrid:"directionalChartsGrid_axvh",directionalChartContainer:"directionalChartContainer_Elam",chartsGrid:"chartsGrid_xZtP",chartContainer:"chartContainer_mWGr"};var n=t(4848);const l=o.forwardRef(((e,s)=>{const{data:t,property:r,referenceData:a,comparisonMode:l=!1,showDifference:c=!1,testTensorName:d="Test Tensor",referenceTensorName:m="Reference Tensor"}=e,u=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!u.current||0===t.length)return;const e=i.Ts(u.current),s="shear"===r||"poisson"===r,o=[];let n=t.map((e=>e.value));l&&a&&(n=[...n,...a.map((e=>e.value))]);Math.min(...n),Math.max(...n);if(l&&a)if(c){const e=x(t,a);o.push({name:`Difference (${d} - ${m})`,type:"line",data:e.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:3,color:"#cc0066"},areaStyle:{color:"#cc0066",opacity:.4},itemStyle:{color:"#cc0066"},symbol:"none",animation:!1})}else s?o.push({name:`${d} Max`,type:"line",data:t.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#ff6600"},areaStyle:{color:"#ff6600",opacity:.2},itemStyle:{color:"#ff6600"},symbol:"none",animation:!1},{name:`${d} Min`,type:"line",data:t.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:"#ff9944"},areaStyle:{color:"#ff9944",opacity:.2},itemStyle:{color:"#ff9944"},symbol:"none",animation:!1},{name:`${m} Max`,type:"line",data:a.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#0066cc",type:"dashed"},areaStyle:{color:"#0066cc",opacity:.1},itemStyle:{color:"#0066cc"},symbol:"none",animation:!1},{name:`${m} Min`,type:"line",data:a.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:"#4499cc",type:"dashed"},areaStyle:{color:"#4499cc",opacity:.1},itemStyle:{color:"#4499cc"},symbol:"none",animation:!1}):o.push({name:d,type:"line",data:t.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#ff6600"},areaStyle:{color:"#ff6600",opacity:.2},itemStyle:{color:"#ff6600"},symbol:"none",animation:!1},{name:m,type:"line",data:a.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#0066cc",type:"dashed"},areaStyle:{color:"#0066cc",opacity:.1},itemStyle:{color:"#0066cc"},symbol:"none",animation:!1});else if(s){const e=t.map((e=>e.valueMin||0)),s=[...n,...e];Math.min(...s),Math.max(...s);o.push({name:"Maximum",type:"line",data:t.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#ff6600"},areaStyle:{color:"#ff6600",opacity:.3},itemStyle:{color:"#ff6600"},symbol:"none",animation:!1}),o.push({name:"Minimum",type:"line",data:t.map((e=>[e.angle,e.valueMin||0])),smooth:!0,lineStyle:{width:2,color:"#0066cc"},areaStyle:{color:"#0066cc",opacity:.3},itemStyle:{color:"#0066cc"},symbol:"none",animation:!1})}else o.push({name:"Value",type:"line",data:t.map((e=>[e.angle,e.value])),smooth:!0,lineStyle:{width:2,color:"#0066cc"},areaStyle:{color:"#0066cc",opacity:.3},itemStyle:{color:"#0066cc"},symbol:"none",animation:!1});const f={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#fff",pixelRatio:2}}},grid:{left:80,right:40,top:70,bottom:70,borderWidth:0},tooltip:{trigger:"axis",formatter:e=>{let s=`Angle: ${e[0].data[0].toFixed(1)}\xb0<br/>`;return e.forEach((e=>{s+=`${e.seriesName}: ${e.data[1].toFixed(3)} ${p(r)}<br/>`})),s}},legend:{show:!0,top:10,textStyle:{color:"var(--ifm-color-emphasis-800)",fontSize:12},data:l&&a?c?[{name:`Difference (${d} - ${m})`,itemStyle:{color:"#cc0066"}}]:s?[{name:`${d} Max`,itemStyle:{color:"#ff6600"}},{name:`${d} Min`,itemStyle:{color:"#ff9944"}},{name:`${m} Max`,itemStyle:{color:"#0066cc"}},{name:`${m} Min`,itemStyle:{color:"#4499cc"}}]:[{name:d,itemStyle:{color:"#ff6600"}},{name:m,itemStyle:{color:"#0066cc"}}]:s?[{name:"Maximum",itemStyle:{color:"#ff6600"}},{name:"Minimum",itemStyle:{color:"#0066cc"}}]:[{name:"Value",itemStyle:{color:"#0066cc"}}]},xAxis:{type:"value",name:"Angle (degrees)",nameLocation:"center",nameGap:30,min:0,max:360,axisLabel:{formatter:"{value}\xb0",margin:15}},yAxis:{type:"value",name:`${h(r)} (${p(r)})`,nameLocation:"center",nameGap:60,nameRotate:90,scale:!0,axisLabel:{margin:15}},series:o};e.setOption(f);const y=()=>e.resize();return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),e.dispose()}}),[t,r,a,l,c,d,m]),(0,n.jsx)("div",{ref:u,style:{width:"100%",height:"100%",aspectRatio:"1/1"}})})),c=({data:e,property:s,plane:t,referenceData:r,comparisonMode:a=!1,showDifference:l=!1,testTensorName:c="Test Tensor",referenceTensorName:d="Reference Tensor"})=>{const m=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!m.current||0===e.length)return;const o=i.Ts(m.current),n=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const s=e.angleRad,t=e.value;let o,r;return o=t*Math.cos(s),r=t*Math.sin(s),[o,r]}));let u=n.flat();if(a&&r&&r.length>0){const e=r.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]}));u=[...u,...e.flat()]}const h=Math.max(...u.map((e=>Math.abs(e)))),f=e.map((e=>e.value)),y=(Math.min(...f),Math.max(...f),(e=>{switch(e){case"xy":default:return{x:"X",y:"Y"};case"xz":return{x:"X",y:"Z"};case"yz":return{x:"Y",y:"Z"}}})(t)),g={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#fff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{const[t,o]=e.data,r=Math.sqrt(t*t+o*o),i=180*Math.atan2(o,t)/Math.PI;return`${y.x}: ${t.toFixed(2)}<br/>${y.y}: ${o.toFixed(2)}<br/>Value: ${r.toFixed(3)} ${p(s)}<br/>Angle: ${i.toFixed(1)}\xb0`}},grid:{left:80,right:40,top:70,bottom:70,borderWidth:0},xAxis:{type:"value",name:y.x,nameLocation:"center",nameGap:35,min:1.1*-h,max:1.1*h,axisLabel:{fontSize:10,formatter:e=>e.toFixed(0),margin:15}},yAxis:{type:"value",name:y.y,nameLocation:"center",nameGap:35,min:1.1*-h,max:1.1*h,axisLabel:{fontSize:10,formatter:e=>e.toFixed(0),margin:15}},series:(()=>{const t="shear"===s||"poisson"===s,o=[];if(a&&r)if(l){const s=x(e,r).map((e=>{const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]}));o.push({name:`Difference (${c} - ${d})`,type:"line",data:s,smooth:!1,lineStyle:{width:3,color:"#cc0066",type:"solid"},areaStyle:{opacity:.4,color:"#cc0066"},symbol:"circle",symbolSize:4,itemStyle:{color:"#cc0066"},animation:!1,connectNulls:!0,emphasis:{lineStyle:{width:4},itemStyle:{borderWidth:2,borderColor:"#fff"}}})}else if(t){const s=e.map((e=>{const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]})),t=e.map((e=>{const s=e.angleRad,t=e.valueMin||0;return[t*Math.cos(s),t*Math.sin(s)]})),i=r.map((e=>{const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]})),a=r.map((e=>{const s=e.angleRad,t=e.valueMin||0;return[t*Math.cos(s),t*Math.sin(s)]}));o.push({name:`${c} Max`,type:"line",data:s,smooth:!1,lineStyle:{width:2,color:"#ff6600"},areaStyle:{opacity:.2,color:"#ff6600"},symbol:"none",animation:!1,connectNulls:!0},{name:`${c} Min`,type:"line",data:t,smooth:!1,lineStyle:{width:2,color:"#ff9944"},areaStyle:{opacity:.2,color:"#ff9944"},symbol:"none",animation:!1,connectNulls:!0},{name:`${d} Max`,type:"line",data:i,smooth:!1,lineStyle:{width:2,color:"#0066cc",type:"dashed"},areaStyle:{opacity:.1,color:"#0066cc"},symbol:"none",animation:!1,connectNulls:!0},{name:`${d} Min`,type:"line",data:a,smooth:!1,lineStyle:{width:2,color:"#4499cc",type:"dashed"},areaStyle:{opacity:.1,color:"#4499cc"},symbol:"none",animation:!1,connectNulls:!0})}else{const s=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]})),t=r.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]}));o.push({name:c,type:"line",data:s,smooth:!1,lineStyle:{width:2,color:"#ff6600"},areaStyle:{opacity:.2,color:"#ff6600"},symbol:"none",animation:!1,connectNulls:!0},{name:d,type:"line",data:t,smooth:!1,lineStyle:{width:2,color:"#0066cc",type:"dashed"},areaStyle:{opacity:.1,color:"#0066cc"},symbol:"none",animation:!1,connectNulls:!0})}else if(t){const s=e.map((e=>{if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y];const s=e.angleRad,t=e.value;return[t*Math.cos(s),t*Math.sin(s)]})),t=e.map((e=>{const s=e.angleRad,t=e.valueMin||0;return[t*Math.cos(s),t*Math.sin(s)]}));o.push({name:"Maximum",type:"line",data:s,smooth:!1,lineStyle:{width:2,color:"#ff6600"},areaStyle:{opacity:.3,color:"#ff6600"},symbol:"none",animation:!1,connectNulls:!0},{name:"Minimum",type:"line",data:t,smooth:!1,lineStyle:{width:2,color:"#0066cc"},areaStyle:{opacity:.3,color:"#0066cc"},symbol:"none",animation:!1,connectNulls:!0})}else o.push({type:"line",data:n,smooth:!1,lineStyle:{width:2,color:"#0066cc"},areaStyle:{opacity:.3,color:"#0066cc"},symbol:"none",animation:!1,connectNulls:!0});return o})(),legend:{show:"shear"===s||"poisson"===s||a&&r,top:30,textStyle:{color:"var(--ifm-color-emphasis-800)",fontSize:12},data:a&&r?l?[{name:`Difference (${c} - ${d})`,itemStyle:{color:"#cc0066"}}]:"shear"===s||"poisson"===s?[{name:`${c} Max`,itemStyle:{color:"#ff6600"}},{name:`${c} Min`,itemStyle:{color:"#ff9944"}},{name:`${d} Max`,itemStyle:{color:"#0066cc"}},{name:`${d} Min`,itemStyle:{color:"#4499cc"}}]:[{name:c,itemStyle:{color:"#ff6600"}},{name:d,itemStyle:{color:"#0066cc"}}]:"shear"===s||"poisson"===s?[{name:"Maximum",itemStyle:{color:"#ff6600"}},{name:"Minimum",itemStyle:{color:"#0066cc"}}]:[]},tooltip:{trigger:"item",formatter:e=>{const[t,o]=e.data,r=Math.sqrt(t*t+o*o),i=180*Math.atan2(o,t)/Math.PI;return`${y.x}: ${t.toFixed(2)}<br/>${y.y}: ${o.toFixed(2)}<br/>Value: ${r.toFixed(3)} ${p(s)}<br/>Angle: ${i.toFixed(1)}\xb0`}},grid:{left:"10%",right:"10%",top:"15%",bottom:"15%"}};o.setOption(g);const j=()=>o.resize();return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),o.dispose()}}),[e,s,t,r,a,l,c,d]),(0,n.jsx)("div",{ref:m,style:{width:"100%",height:"100%",aspectRatio:"1/1"}})},d=({data:e,property:s,useScatter:t=!0,referenceData:r,comparisonMode:a=!1,showDifference:l=!1,testTensorName:c="Test Tensor",referenceTensorName:d="Reference Tensor"})=>{const m=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!m.current||!e)return;const o=i.Ts(m.current),n=e.surfaceData.flat().sort(((e,s)=>e-s)),u=n[Math.floor(.05*n.length)],x=n[Math.floor(.95*n.length)],f=u,y=x,g={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#fff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{if(a&&r&&l){const t=e.value[3];return`Difference: ${t>=0?"+":""}${t.toFixed(3)} ${p(s)}`}{const t=e.value[2];return`${h(s)}: ${t.toFixed(3)} ${p(s)}`}}},visualMap:(()=>{if(!a||!r||l){if(a&&r&&l){const s=[];for(let o=0;o<e.numU&&o<r.numU;o++)for(let t=0;t<e.numV&&t<r.numV;t++){const i=e.surfaceData[o]&&e.surfaceData[o][t]?e.surfaceData[o][t]:0,a=r.surfaceData[o]&&r.surfaceData[o][t]?r.surfaceData[o][t]:0;s.push(i-a)}const t=Math.max(...s.map(Math.abs));return{show:!1,dimension:3,min:-t,max:t,calculable:!0,realtime:!1,inRange:{color:["#0066cc","#ffffff","#ff6600"]}}}return{show:!1,dimension:3,min:f,max:y,calculable:!0,realtime:!1,inRange:{color:["#0066cc","#ff6600"]}}}})(),xAxis3D:{type:"value",name:"X",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},yAxis3D:{type:"value",name:"Y",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},zAxis3D:{type:"value",name:"Z",nameTextStyle:{color:"var(--ifm-color-emphasis-800)"}},grid3D:{viewControl:{projection:"perspective"}},legend:{show:a&&r,data:a&&r&&l?[`Difference (${c} - ${d})`]:a&&r?[c,d]:[],textStyle:{color:"var(--ifm-color-emphasis-800)"}},series:(()=>{const s=[];return a&&r&&l?t?s.push({name:`Difference (${c} - ${d})`,type:"scatter3D",data:(()=>{const s=[];for(let t=0;t<e.numU&&t<r.numU;t++)for(let o=0;o<e.numV&&o<r.numV;o++){const i=t/(e.numU-1)*2*Math.PI,a=o/(e.numV-1)*Math.PI,n=(e.surfaceData[t]&&e.surfaceData[t][o]?e.surfaceData[t][o]:0)-(r.surfaceData[t]&&r.surfaceData[t][o]?r.surfaceData[t][o]:0),l=n*Math.sin(a)*Math.cos(i),c=n*Math.sin(a)*Math.sin(i),d=n*Math.cos(a);s.push([l,c,d,n])}return s})(),symbolSize:2.5,itemStyle:{opacity:.9}}):s.push({name:`Difference (${c} - ${d})`,type:"surface",parametric:!0,itemStyle:{opacity:.8},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(e.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(e.numV-1)},x:(s,t)=>{const o=Math.round(s/(2*Math.PI)*(e.numU-1)),i=Math.round(t/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][i]?e.surfaceData[o][i]:0)-(r.surfaceData[o]&&r.surfaceData[o][i]?r.surfaceData[o][i]:0))*Math.sin(t)*Math.cos(s)},y:(s,t)=>{const o=Math.round(s/(2*Math.PI)*(e.numU-1)),i=Math.round(t/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][i]?e.surfaceData[o][i]:0)-(r.surfaceData[o]&&r.surfaceData[o][i]?r.surfaceData[o][i]:0))*Math.sin(t)*Math.sin(s)},z:(s,t)=>{const o=Math.round(s/(2*Math.PI)*(e.numU-1)),i=Math.round(t/Math.PI*(e.numV-1));return((e.surfaceData[o]&&e.surfaceData[o][i]?e.surfaceData[o][i]:0)-(r.surfaceData[o]&&r.surfaceData[o][i]?r.surfaceData[o][i]:0))*Math.cos(t)}},data:(()=>{const s=[];for(let t=0;t<e.numU;t++){const o=[];for(let s=0;s<e.numV;s++){const i=e.surfaceData[t]&&e.surfaceData[t][s]?e.surfaceData[t][s]:0,a=r.surfaceData[t]&&r.surfaceData[t][s]?r.surfaceData[t][s]:0;o.push(i-a)}s.push(o)}return s})()}):t?(s.push({name:a&&r?c:"Data",type:"scatter3D",data:(()=>{const s=[];for(let t=0;t<e.numU;t++)for(let o=0;o<e.numV;o++){const r=t/(e.numU-1)*2*Math.PI,i=o/(e.numV-1)*Math.PI,a=e.surfaceData[t]&&e.surfaceData[t][o]?e.surfaceData[t][o]:0,n=a*Math.sin(i)*Math.cos(r),l=a*Math.sin(i)*Math.sin(r),c=a*Math.cos(i);s.push([n,l,c,a])}return s})(),symbolSize:2.5,itemStyle:{opacity:.9,color:a&&r?"#ff6600":void 0}}),a&&r&&s.push({name:d,type:"scatter3D",data:(()=>{const e=[];for(let s=0;s<r.numU;s++)for(let t=0;t<r.numV;t++){const o=s/(r.numU-1)*2*Math.PI,i=t/(r.numV-1)*Math.PI,a=r.surfaceData[s]&&r.surfaceData[s][t]?r.surfaceData[s][t]:0,n=a*Math.sin(i)*Math.cos(o),l=a*Math.sin(i)*Math.sin(o),c=a*Math.cos(i);e.push([n,l,c,a])}return e})(),symbolSize:2.5,itemStyle:{opacity:.7,color:"#0066cc"}})):(s.push({type:"surface",parametric:!0,shading:"lambert",wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.1)",width:.5}},itemStyle:{opacity:.8,color:a&&r?"#ff6600":void 0},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(e.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(e.numV-1)},x:function(s,t){const o=Math.round(s/(2*Math.PI)*(e.numU-1)),r=Math.round(t/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.sin(t)*Math.cos(s)},y:function(s,t){const o=Math.round(s/(2*Math.PI)*(e.numU-1)),r=Math.round(t/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.sin(t)*Math.sin(s)},z:function(s,t){const o=Math.round(s/(2*Math.PI)*(e.numU-1)),r=Math.round(t/Math.PI*(e.numV-1));return(e.surfaceData[o]&&e.surfaceData[o][r]?e.surfaceData[o][r]:0)*Math.cos(t)}}}),a&&r&&s.push({type:"surface",parametric:!0,shading:"lambert",wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.1)",width:.5}},itemStyle:{opacity:.6,color:"#0066cc"},parametricEquation:{u:{min:0,max:2*Math.PI,step:2*Math.PI/(r.numU-1)},v:{min:0,max:Math.PI,step:Math.PI/(r.numV-1)},x:function(e,s){const t=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(s/Math.PI*(r.numV-1));return(r.surfaceData[t]&&r.surfaceData[t][o]?r.surfaceData[t][o]:0)*Math.sin(s)*Math.cos(e)},y:function(e,s){const t=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(s/Math.PI*(r.numV-1));return(r.surfaceData[t]&&r.surfaceData[t][o]?r.surfaceData[t][o]:0)*Math.sin(s)*Math.sin(e)},z:function(e,s){const t=Math.round(e/(2*Math.PI)*(r.numU-1)),o=Math.round(s/Math.PI*(r.numV-1));return(r.surfaceData[t]&&r.surfaceData[t][o]?r.surfaceData[t][o]:0)*Math.cos(s)}}})),s})()};o.setOption(g);const j=()=>o.resize();return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),o.dispose()}}),[e,s,t,r,a,l,c,d]),(0,n.jsx)("div",{ref:m,style:{width:"100%",height:"100%",minHeight:"400px"}})},m=({data:e,referenceData:s,comparisonMode:t=!1,showDifference:r=!1,testTensorName:a="Test Tensor",referenceTensorName:l="Reference Tensor"})=>{const c=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!c.current||!e)return;const o=i.Ts(c.current),a=[],n=[];if(t&&s&&r)for(let t=0;t<6;t++)for(let o=0;o<6;o++){const r=e[t][o]-s[t][o];a.push([o,5-t,r]),n.push(r)}else for(let s=0;s<6;s++)for(let t=0;t<6;t++)a.push([t,5-s,e[s][t]]),n.push(e[s][t]);const l=Math.min(...n),d=Math.max(...n),m=t&&s&&r,u={animation:!1,title:{show:!1},toolbox:{show:!0,orient:"vertical",left:"right",top:"top",feature:{saveAsImage:{show:!0,title:"Save as PNG",backgroundColor:"#fff",pixelRatio:2}}},tooltip:{trigger:"item",formatter:e=>{const[s,t,o]=e.data,r=`C${5-t+1}${s+1}`;return m?`${r}: ${o>=0?"+":""}${o.toFixed(3)} GPa<br/>Difference`:`${r}: ${o.toFixed(3)} GPa`}},grid:{height:"60%",width:"60%",left:"center",top:60,containLabel:!0},xAxis:{type:"category",data:["C\u2081\u2081","C\u2081\u2082","C\u2081\u2083","C\u2081\u2084","C\u2081\u2085","C\u2081\u2086"],position:"top",axisLine:{show:!0},axisTick:{show:!1},axisLabel:{fontSize:12,color:"var(--ifm-color-emphasis-800)"},splitLine:{show:!1}},yAxis:{type:"category",data:["C\u2086\u2081","C\u2085\u2081","C\u2084\u2081","C\u2083\u2081","C\u2082\u2081","C\u2081\u2081"],axisLine:{show:!0},axisTick:{show:!1},axisLabel:{fontSize:12,color:"var(--ifm-color-emphasis-800)"},splitLine:{show:!1}},visualMap:{min:-Math.max(Math.abs(l),Math.abs(d)),max:Math.max(Math.abs(l),Math.abs(d)),calculable:!0,orient:"horizontal",left:"center",bottom:"5%",inRange:{color:["#0066cc","#ffffff","#ff6600"]},text:m?["Ref Higher","Test Higher"]:["Negative","Positive"],textStyle:{color:"var(--ifm-color-emphasis-800)"}},series:[{name:"Tensor Values",type:"heatmap",data:a,label:{show:!0,formatter:e=>{const s=e.data[2];return Math.abs(s)>=100?s.toFixed(0):s.toFixed(2)},color:"#000000",fontSize:14},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(u);const h=()=>o.resize();return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),o.dispose()}}),[e,s,t,r,a,l]),(0,n.jsx)("div",{ref:c,style:{width:"100%",height:"100%",minHeight:"350px",aspectRatio:"1/1"}})},u=({stiffnessMatrix:e,complianceMatrix:s,referenceStiffness:t,referenceCompliance:o,comparisonMode:r=!1,showDifference:l=!1,testTensorName:c="Test Tensor",referenceTensorName:d="Reference Tensor"})=>{const u=(e,s)=>{let t=`${s}\n`;t+=e.map((e=>e.map((e=>e.toFixed(3).padStart(10))).join(""))).join("\n"),navigator.clipboard.writeText(t)};return(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",width:"100%",minHeight:"450px",height:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",flex:"none"},children:[(0,n.jsx)("h4",{style:{color:"var(--ifm-color-emphasis-800)",fontSize:"1rem",fontWeight:"600",margin:0},children:"Stiffness Matrix (C) - GPa"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[(0,n.jsx)("button",{onClick:()=>u(e,`Stiffness Matrix (C) - GPa - ${c}`),className:a.copyButton,title:"Copy stiffness matrix to clipboard",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,n.jsx)("button",{onClick:()=>{const e=document.querySelector(".stiffness-matrix-chart");if(e){const s=i.FP(e);if(s){const e=s.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#fff"}),t=document.createElement("a");t.download=`Stiffness_Matrix_${c.replace(/\s+/g,"_")}.png`,t.href=e,t.click()}}},className:a.copyButton,title:"Save stiffness matrix as PNG",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,n.jsx)("polyline",{points:"17,21 17,13 7,13 7,21"}),(0,n.jsx)("polyline",{points:"7,3 7,8 15,8"})]})})]})]}),(0,n.jsx)("div",{style:{flex:"1",minHeight:"400px"},children:(0,n.jsx)("div",{className:"stiffness-matrix-chart",children:(0,n.jsx)(m,{data:e,referenceData:t,comparisonMode:r,showDifference:l,testTensorName:c,referenceTensorName:d})})})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",flex:"none"},children:[(0,n.jsx)("h4",{style:{color:"var(--ifm-color-emphasis-800)",fontSize:"1rem",fontWeight:"600",margin:0},children:"Compliance Matrix (S) - GPa\u207b\xb9"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[(0,n.jsx)("button",{onClick:()=>u(s,`Compliance Matrix (S) - GPa\u207b\xb9 - ${c}`),className:a.copyButton,title:"Copy compliance matrix to clipboard",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,n.jsx)("button",{onClick:()=>{const e=document.querySelector(".compliance-matrix-chart");if(e){const s=i.FP(e);if(s){const e=s.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#fff"}),t=document.createElement("a");t.download=`Compliance_Matrix_${c.replace(/\s+/g,"_")}.png`,t.href=e,t.click()}}},className:a.copyButton,title:"Save compliance matrix as PNG",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,n.jsx)("polyline",{points:"17,21 17,13 7,13 7,21"}),(0,n.jsx)("polyline",{points:"7,3 7,8 15,8"})]})})]})]}),(0,n.jsx)("div",{style:{flex:"1",minHeight:"400px"},children:(0,n.jsx)("div",{className:"compliance-matrix-chart",children:(0,n.jsx)(m,{data:s,referenceData:o,comparisonMode:r,showDifference:l,testTensorName:c,referenceTensorName:d})})})]})]})};function h(e){return{youngs:"Young's Modulus",linear_compressibility:"Linear Compressibility",shear:"Shear Modulus",poisson:"Poisson's Ratio"}[e]||e}function p(e){return{youngs:"GPa",linear_compressibility:"TPa\u207b\xb9",shear:"GPa",poisson:""}[e]||""}const x=(e,s)=>e&&s&&e.length===s.length?e.map(((e,t)=>{const o=s[t];return{angle:e.angle,angleRad:e.angleRad,value:e.value-o.value,valueMin:(e.valueMin||0)-(o.valueMin||0),valueMax:(e.valueMax||0)-(o.valueMax||0),x:void 0!==e.x&&void 0!==o.x?e.x-o.x:void 0,y:void 0!==e.y&&void 0!==o.y?e.y-o.y:void 0}})):[],f=e=>Math.abs(e)<.001?"var(--ifm-color-emphasis-600)":e>0?"#28a745":"#dc3545",y=e=>Math.abs(e)<.001?"\xb1":e>0?"+":"-",g=(e,s)=>{let t="";"averages"===e?(t="Averaging scheme\tBulk modulus (GPa)\tYoung's modulus (GPa)\tShear modulus (GPa)\tPoisson's ratio\n",t+=`Voigt\t${s.properties.bulkModulus.voigt.toFixed(3)}\t${s.properties.youngsModulus.voigt.toFixed(3)}\t${s.properties.shearModulus.voigt.toFixed(3)}\t${s.properties.poissonRatio.voigt.toFixed(5)}\n`,t+=`Reuss\t${s.properties.bulkModulus.reuss.toFixed(3)}\t${s.properties.youngsModulus.reuss.toFixed(3)}\t${s.properties.shearModulus.reuss.toFixed(3)}\t${s.properties.poissonRatio.reuss.toFixed(5)}\n`,t+=`Hill\t${s.properties.bulkModulus.hill.toFixed(3)}\t${s.properties.youngsModulus.hill.toFixed(3)}\t${s.properties.shearModulus.hill.toFixed(3)}\t${s.properties.poissonRatio.hill.toFixed(5)}`):"eigenvalues"===e?(t="Eigenvalue\tValue (GPa)\n",s.eigenvalues.forEach(((e,s)=>{t+=`\u03bb${s+1}\t${e.toFixed(3)}\n`})),t=t.trim()):"variations"===e&&(t="Property\tMinimum\tMaximum\tAnisotropy\n",t+=`Young's modulus (GPa)\t${s.extrema.youngsModulus.min.toFixed(3)}\t${s.extrema.youngsModulus.max.toFixed(3)}\t${s.extrema.youngsModulus.anisotropy.toFixed(2)}\n`,t+=`Linear compressibility (TPa\u207b\xb9)\t${s.extrema.linearCompressibility.min.toFixed(3)}\t${s.extrema.linearCompressibility.max.toFixed(3)}\t${s.extrema.linearCompressibility.anisotropy.toFixed(4)}\n`,t+=`Shear modulus (GPa)\t${s.extrema.shearModulus.min.toFixed(3)}\t${s.extrema.shearModulus.max.toFixed(3)}\t${s.extrema.shearModulus.anisotropy.toFixed(2)}\n`,t+=`Poisson's ratio\t${s.extrema.poissonRatio.min.toFixed(5)}\t${s.extrema.poissonRatio.max.toFixed(5)}\t${isFinite(s.extrema.poissonRatio.anisotropy)?s.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"}`),navigator.clipboard.writeText(t).then((()=>{console.log("Table copied to clipboard")})).catch((e=>{console.error("Failed to copy table: ",e)}))},j=()=>{const[e,s]=(0,o.useState)(null),[r,i]=(0,o.useState)(!1),[m,h]=(0,o.useState)(""),[p,x]=(0,o.useState)(null),[j,v]=(0,o.useState)(null),[M,b]=(0,o.useState)("youngs"),[S,w]=(0,o.useState)("xy"),[F,C]=(0,o.useState)({}),[D,N]=(0,o.useState)(null),[k,R]=(0,o.useState)(!1),[T,z]=(0,o.useState)(!0),[L,$]=(0,o.useState)(!1),[P,I]=(0,o.useState)(""),[_,W]=(0,o.useState)(null),G=(0,o.useRef)(null),[E,B]=(0,o.useState)(null),[V,A]=(0,o.useState)({}),[H,U]=(0,o.useState)(null),[O,q]=(0,o.useState)(0),[Y,Z]=(0,o.useState)(!1),X=(0,o.useRef)(!1),[J,Q]=(0,o.useState)(!1),[K,ee]=(0,o.useState)(!1),[se,te]=(0,o.useState)(""),[oe,re]=(0,o.useState)([]),[ie,ae]=(0,o.useState)(""),[ne,le]=(0,o.useState)(""),[ce,de]=(0,o.useState)([]),[me,ue]=(0,o.useState)(!1),[he,pe]=(0,o.useState)(!1);(0,o.useEffect)((()=>(xe(),je(),()=>{e&&e.terminate()})),[]);const xe=async()=>{try{const e=new Worker(new URL(t.p+t.u(9761),t.b),{type:void 0});e.onmessage=fe,e.onerror=e=>{console.error("Worker error:",e),te("Worker error: "+e.message),i(!1)},s(e),e.postMessage({type:"init",data:{}})}catch(se){console.error("Failed to initialize worker:",se),te("Failed to initialize Web Worker: "+se.message)}},fe=e=>{const{type:s,...t}=e.data;switch(s){case"initialized":t.success?(i(!0),ge("Worker initialized successfully","info")):(i(!1),te("Worker initialization failed: "+t.error));break;case"log":ge(t.message,ye(t.level));break;case"analysisResult":t.success?X.current?(B(t.data),Z(!1),X.current=!1,setTimeout((()=>Fe()),100),ee(!1)):(v(t.data),L||(setTimeout((()=>Fe()),100),ee(!1))):(te("Analysis failed: "+t.error),ee(!1));break;case"directionalDataResult":t.success?t.isReference?A((e=>({...e,[t.plane]:t.data}))):C((e=>({...e,[t.plane]:t.data}))):te("Directional data generation failed: "+t.error);break;case"3DSurfaceResult":t.success?t.isReference?U(t.data):N(t.data):te("3D surface generation failed: "+t.error);break;case"error":console.error("Worker error:",t.error),te("Calculation error: "+t.error),ee(!1)}},ye=e=>{switch(e){case 0:case 1:return"debug";case 2:return"info";case 3:return"warning";default:return"error"}},ge=(e,s)=>{re((t=>[...t,{message:e,level:s,timestamp:new Date}]))},je=()=>{try{const e=localStorage.getItem("elasticTensors");if(e){const s=JSON.parse(e).map((e=>({...e,timestamp:new Date(e.timestamp)})));de(s)}}catch(se){console.error("Failed to load saved tensors:",se)}},ve=(e,s)=>{if(e.trim()&&s.trim())try{const t=[{name:e.trim(),data:s.trim(),timestamp:new Date},...ce.filter((s=>s.name!==e.trim()))];de(t),localStorage.setItem("elasticTensors",JSON.stringify(t)),ge(`Saved tensor: ${e}`,"info")}catch(se){console.error("Failed to save tensor:",se),te("Failed to save tensor to localStorage")}},Me=e=>{try{const s=ce.filter((s=>s.name!==e));de(s),localStorage.setItem("elasticTensors",JSON.stringify(s)),ge(`Deleted tensor: ${e}`,"info")}catch(se){console.error("Failed to delete tensor:",se)}},be=(e,s=!1)=>{const t=ce.find((s=>s.name===e));t&&(s?(I(t.data),le(e)):(h(t.data),ae(e)),ge(`Loaded tensor: ${e}`,"info"))},Se=()=>ie.trim()||"Test Tensor",we=()=>ne.trim()||"Reference Tensor",Fe=()=>{e&&r&&(p&&(["xy","xz","yz"].forEach((s=>{e.postMessage({type:"generateDirectionalData",data:{tensorData:p,property:M,plane:s,numPoints:180,isReference:!1}})})),e.postMessage({type:"generate3DSurfaceData",data:{tensorData:p,property:M,isReference:!1}})),L&&G.current&&(["xy","xz","yz"].forEach((s=>{e.postMessage({type:"generateDirectionalData",data:{tensorData:G.current,property:M,plane:s,numPoints:180,isReference:!0}})})),e.postMessage({type:"generate3DSurfaceData",data:{tensorData:G.current,property:M,isReference:!0}})))},Ce=e=>{const s=e.trim().split("\n").filter((e=>e.trim()));if(6!==s.length)throw new Error("Elastic tensor must have exactly 6 rows");const t=[];for(let i=0;i<s.length;i++){const e=s[i].trim().split(/\s+/).map(parseFloat);if(e.some(isNaN))throw new Error("All values must be valid numbers");t.push(e)}const o=t.every(((e,s)=>e.length===6-s)),r=t.every((e=>6===e.length));if(!o&&!r)throw new Error("Matrix must be either full 6x6 or upper triangular format");if(o){const e=Array(6).fill(0).map((()=>Array(6).fill(0)));for(let s=0;s<6;s++)for(let o=0;o<t[s].length;o++){const r=t[s][o],i=s+o;e[s][i]=r,e[i][s]=r}return e}return t};(0,o.useEffect)((()=>{Q(!1)}),[L]),(0,o.useEffect)((()=>{const e=e=>{e.target.closest(".loadDropdownContainer")||(ue(!1),pe(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]),(0,o.useEffect)((()=>{p&&r&&(C({}),A({}),N(null),U(null),Fe())}),[M,p,r,L]);const De=e=>{if("silicon"===e){h("166  64  64   0   0   0\n 64 166  64   0   0   0\n 64  64 166   0   0   0\n  0   0   0  80   0   0\n  0   0   0   0  80   0\n  0   0   0   0   0  80"),ae("Silicon")}else if("quartz"===e){h("48.137 11.411 12.783  0.000 -3.654  0.000\n11.411 34.968 14.749  0.000 -0.094  0.000\n12.783 14.749 26.015  0.000 -4.528  0.000\n 0.000  0.000  0.000 14.545  0.000  0.006\n-3.654 -0.094 -4.528  0.000 10.771  0.000\n 0.000  0.000  0.000  0.006  0.000 11.947"),ae("Quartz")}},Ne=e=>{if("silicon"===e){I("166  64  64   0   0   0\n 64 166  64   0   0   0\n 64  64 166   0   0   0\n  0   0   0  80   0   0\n  0   0   0   0  80   0\n  0   0   0   0   0  80"),le("Silicon")}else if("quartz"===e){I("48.137 11.411 12.783  0.000 -3.654  0.000\n11.411 34.968 14.749  0.000 -0.094  0.000\n12.783 14.749 26.015  0.000 -4.528  0.000\n 0.000  0.000  0.000 14.545  0.000  0.006\n-3.654 -0.094 -4.528  0.000 10.771  0.000\n 0.000  0.000  0.000  0.006  0.000 11.947"),le("Quartz")}};return(0,n.jsx)("div",{className:a.container,children:(0,n.jsxs)("div",{className:a.mainGrid,children:[(0,n.jsx)("div",{className:a.inputColumn,children:(0,n.jsxs)("div",{className:a.inputSection,children:[(0,n.jsxs)("div",{className:a.header,children:[(0,n.jsx)("h3",{children:L?"Primary Tensor Input":"Elastic Tensor Input"}),(0,n.jsxs)("div",{className:a.workerStatus,children:[(0,n.jsx)("span",{className:`${a.statusIndicator} ${r?a.ready:a.loading}`,children:r?"\u25cf":"\u25cb"}),r?"Ready":"Loading..."]})]}),(0,n.jsx)("div",{className:a.modeToggle,children:(0,n.jsxs)("label",{className:a.checkboxLabel,children:[(0,n.jsx)("input",{type:"checkbox",checked:L,onChange:e=>$(e.target.checked),className:a.checkbox}),"Comparison Mode"]})}),(0,n.jsx)("input",{type:"text",value:ie,onChange:e=>ae(e.target.value),placeholder:"Tensor name (e.g., 'Silicon_modified')",className:a.tensorNameInput}),(0,n.jsxs)("div",{className:a.tensorActions,children:[(0,n.jsxs)("div",{style:{position:"relative",flex:1},className:"loadDropdownContainer",children:[(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),ue(!me)},className:a.loadButton,style:{width:"100%"},children:["Load Tensor (",ce.length+2,") \u25bc"]}),me&&(0,n.jsxs)("div",{className:a.loadDropdown,children:[(0,n.jsxs)("div",{style:{borderBottom:"1px solid var(--ifm-color-emphasis-300)",paddingBottom:"0.25rem",marginBottom:"0.25rem"},children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Example Tensors"}),(0,n.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{De("silicon"),ue(!1)},style:{cursor:"pointer"},children:(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:"Silicon"}),(0,n.jsx)("div",{className:a.tensorTimestamp,children:"Cubic crystal example"})]})}),(0,n.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{De("quartz"),ue(!1)},style:{cursor:"pointer"},children:(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:"Quartz"}),(0,n.jsx)("div",{className:a.tensorTimestamp,children:"Trigonal crystal example"})]})})]}),ce.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Saved Tensors"}),ce.map((e=>(0,n.jsxs)("div",{className:a.loadDropdownItem,onClick:()=>{be(e.name,!1),ue(!1)},style:{cursor:"pointer"},children:[(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:e.name}),(0,n.jsxs)("div",{className:a.tensorTimestamp,children:[e.timestamp.toLocaleDateString()," ",e.timestamp.toLocaleTimeString()]})]}),(0,n.jsx)("button",{onClick:s=>{s.stopPropagation(),Me(e.name)},className:a.deleteButton,title:"Delete tensor",children:(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]},e.name)))]})]})]}),(0,n.jsx)("button",{onClick:()=>ve(ie,m),disabled:!ie.trim()||!m.trim(),className:a.saveButton,style:{flex:1},children:"Save Tensor"})]}),(0,n.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"6x6 elastic stiffness matrix (GPa)...",rows:6,className:a.tensorInput}),L&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a.header,style:{marginTop:"1rem"},children:(0,n.jsx)("h3",{children:"Comparison Tensor Input"})}),(0,n.jsx)("input",{type:"text",value:ne,onChange:e=>le(e.target.value),placeholder:"Reference tensor name",className:a.tensorNameInput}),(0,n.jsxs)("div",{className:a.tensorActions,children:[(0,n.jsxs)("div",{style:{position:"relative",flex:1},className:"loadDropdownContainer",children:[(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),pe(!he)},className:a.loadButton,style:{width:"100%"},children:["Load Tensor (",ce.length+2,") \u25bc"]}),he&&(0,n.jsxs)("div",{className:a.loadDropdown,children:[(0,n.jsxs)("div",{style:{borderBottom:"1px solid var(--ifm-color-emphasis-300)",paddingBottom:"0.5rem",marginBottom:"0.5rem"},children:[(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--ifm-color-emphasis-600)",padding:"0.25rem 0.5rem"},children:"Example Tensors"}),(0,n.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Ne("silicon"),pe(!1)},style:{cursor:"pointer"},children:(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:"Silicon"}),(0,n.jsx)("div",{className:a.tensorTimestamp,children:"Cubic crystal example"})]})}),(0,n.jsx)("div",{className:a.loadDropdownItem,onClick:()=>{Ne("quartz"),pe(!1)},style:{cursor:"pointer"},children:(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:"Quartz"}),(0,n.jsx)("div",{className:a.tensorTimestamp,children:"Trigonal crystal example"})]})})]}),ce.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--ifm-color-emphasis-600)",padding:"0.15rem 0.5rem",fontWeight:"600"},children:"Saved Tensors"}),ce.map((e=>(0,n.jsxs)("div",{className:a.loadDropdownItem,onClick:()=>{be(e.name,!0),pe(!1)},style:{cursor:"pointer"},children:[(0,n.jsxs)("div",{className:a.tensorInfo,children:[(0,n.jsx)("div",{children:e.name}),(0,n.jsxs)("div",{className:a.tensorTimestamp,children:[e.timestamp.toLocaleDateString()," ",e.timestamp.toLocaleTimeString()]})]}),(0,n.jsx)("button",{onClick:s=>{s.stopPropagation(),Me(e.name)},className:a.deleteButton,title:"Delete tensor",children:(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]},e.name)))]})]})]}),(0,n.jsx)("button",{onClick:()=>ve(ne,P),disabled:!ne.trim()||!P.trim(),className:a.saveButton,style:{flex:1},children:"Save Tensor"})]}),(0,n.jsx)("textarea",{value:P,onChange:e=>I(e.target.value),placeholder:"6x6 reference elastic stiffness matrix for comparison (GPa)...",rows:6,className:a.tensorInput})]}),(0,n.jsx)("button",{onClick:()=>{if(r)try{te(""),re([]);const s=Ce(m);if(x(s),ee(!0),L&&P.trim()){const t=Ce(P);W(t),G.current=t,e?.postMessage({type:"analyzeTensor",data:{tensorData:s}}),setTimeout((()=>{Z(!0),X.current=!0,e?.postMessage({type:"analyzeTensor",data:{tensorData:t}})}),100)}else W(null),B(null),G.current=null,e?.postMessage({type:"analyzeTensor",data:{tensorData:s}})}catch(s){te(s.message),x(null),v(null),W(null),B(null)}else te("Worker not ready. Please wait for initialization.")},disabled:!r||K,className:a.analyzeButton,children:K?"Analyzing...":"Analyze"}),se&&(0,n.jsx)("div",{className:a.errorMessage,children:se}),oe.length>0&&(0,n.jsx)("div",{className:a.logOutput,children:(0,n.jsx)("div",{className:a.logEntries,children:oe.slice(-3).map(((e,s)=>(0,n.jsx)("div",{className:`${a.logEntry} ${a[e.level]}`,children:(0,n.jsx)("span",{className:a.message,children:e.message})},s)))})})]})}),(0,n.jsx)("div",{className:a.resultsColumn,children:j&&(0,n.jsxs)(n.Fragment,{children:[j.eigenvalues&&!j.isPositiveDefinite&&(0,n.jsxs)("div",{className:a.errorBanner,style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderLeft:"4px solid #dc3545",padding:"12px 16px",marginBottom:"20px",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#dc3545",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,n.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{style:{color:"#721c24"},children:"Error: Tensor Not Positive Definite"}),(0,n.jsxs)("div",{style:{fontSize:"0.9em",color:"#721c24",marginTop:"4px"},children:["This elastic tensor has ",j.eigenvalues.filter((e=>e<=0)).length," non-positive eigenvalue(s), indicating this is not a stable minimum. The calculated properties and visualizations are not physically meaningful."]})]})]}),j.eigenvalueError&&(0,n.jsxs)("div",{className:a.warningBanner,style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderLeft:"4px solid #dc3545",padding:"12px 16px",marginBottom:"20px",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#dc3545",strokeWidth:"2",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,n.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{style:{color:"#721c24"},children:"Error: Cannot Calculate Eigenvalues"}),(0,n.jsx)("div",{style:{fontSize:"0.9em",color:"#721c24",marginTop:"4px"},children:j.eigenvalueError})]})]}),(0,n.jsxs)("div",{className:a.tablesGrid,children:[(0,n.jsxs)("div",{className:a.tableCell,children:[(0,n.jsxs)("h3",{children:[L&&E?"Comparison - Average Properties":"Average Properties",L&&!E&&" (Processing Reference...)",L&&E&&" \u2713",L&&E&&(0,n.jsxs)("span",{style:{fontSize:"0.7em",marginLeft:"1rem",color:"var(--ifm-color-emphasis-600)"},children:["Ref Data: ",Object.keys(V).join(", ")||"None"]}),(0,n.jsx)("button",{onClick:()=>g("averages",j),className:a.copyButton,title:"Copy table to clipboard",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,n.jsxs)("table",{className:a.propertiesTable,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Averaging scheme"}),(0,n.jsx)("th",{children:"Bulk modulus (GPa)"}),(0,n.jsx)("th",{children:"Young's modulus (GPa)"}),(0,n.jsx)("th",{children:"Shear modulus (GPa)"}),(0,n.jsx)("th",{children:"Poisson's ratio"})]})}),(0,n.jsx)("tbody",{children:L&&E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Voigt"}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.bulkModulus.voigt.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.bulkModulus.voigt.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.bulkModulus.voigt-E.properties.bulkModulus.voigt)},children:[y(j.properties.bulkModulus.voigt-E.properties.bulkModulus.voigt),Math.abs(j.properties.bulkModulus.voigt-E.properties.bulkModulus.voigt).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.youngsModulus.voigt.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.youngsModulus.voigt.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.youngsModulus.voigt-E.properties.youngsModulus.voigt)},children:["(",y(j.properties.youngsModulus.voigt-E.properties.youngsModulus.voigt),Math.abs(j.properties.youngsModulus.voigt-E.properties.youngsModulus.voigt).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.shearModulus.voigt.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.shearModulus.voigt.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.shearModulus.voigt-E.properties.shearModulus.voigt)},children:["(",y(j.properties.shearModulus.voigt-E.properties.shearModulus.voigt),Math.abs(j.properties.shearModulus.voigt-E.properties.shearModulus.voigt).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.poissonRatio.voigt.toFixed(5)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.poissonRatio.voigt.toFixed(5),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.poissonRatio.voigt-E.properties.poissonRatio.voigt)},children:["(",y(j.properties.poissonRatio.voigt-E.properties.poissonRatio.voigt),Math.abs(j.properties.poissonRatio.voigt-E.properties.poissonRatio.voigt).toFixed(5),")"]})]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Reuss"}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.bulkModulus.reuss.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.bulkModulus.reuss.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.bulkModulus.reuss-E.properties.bulkModulus.reuss)},children:["(",y(j.properties.bulkModulus.reuss-E.properties.bulkModulus.reuss),Math.abs(j.properties.bulkModulus.reuss-E.properties.bulkModulus.reuss).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.youngsModulus.reuss.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.youngsModulus.reuss.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.youngsModulus.reuss-E.properties.youngsModulus.reuss)},children:["(",y(j.properties.youngsModulus.reuss-E.properties.youngsModulus.reuss),Math.abs(j.properties.youngsModulus.reuss-E.properties.youngsModulus.reuss).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.shearModulus.reuss.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.shearModulus.reuss.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.shearModulus.reuss-E.properties.shearModulus.reuss)},children:["(",y(j.properties.shearModulus.reuss-E.properties.shearModulus.reuss),Math.abs(j.properties.shearModulus.reuss-E.properties.shearModulus.reuss).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.poissonRatio.reuss.toFixed(5)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.poissonRatio.reuss.toFixed(5),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.poissonRatio.reuss-E.properties.poissonRatio.reuss)},children:["(",y(j.properties.poissonRatio.reuss-E.properties.poissonRatio.reuss),Math.abs(j.properties.poissonRatio.reuss-E.properties.poissonRatio.reuss).toFixed(5),")"]})]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Hill"}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.bulkModulus.hill.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.bulkModulus.hill.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.bulkModulus.hill-E.properties.bulkModulus.hill)},children:["(",y(j.properties.bulkModulus.hill-E.properties.bulkModulus.hill),Math.abs(j.properties.bulkModulus.hill-E.properties.bulkModulus.hill).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.youngsModulus.hill.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.youngsModulus.hill.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.youngsModulus.hill-E.properties.youngsModulus.hill)},children:["(",y(j.properties.youngsModulus.hill-E.properties.youngsModulus.hill),Math.abs(j.properties.youngsModulus.hill-E.properties.youngsModulus.hill).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.shearModulus.hill.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.shearModulus.hill.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.shearModulus.hill-E.properties.shearModulus.hill)},children:["(",y(j.properties.shearModulus.hill-E.properties.shearModulus.hill),Math.abs(j.properties.shearModulus.hill-E.properties.shearModulus.hill).toFixed(3),")"]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.properties.poissonRatio.hill.toFixed(5)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.properties.poissonRatio.hill.toFixed(5),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.properties.poissonRatio.hill-E.properties.poissonRatio.hill)},children:["(",y(j.properties.poissonRatio.hill-E.properties.poissonRatio.hill),Math.abs(j.properties.poissonRatio.hill-E.properties.poissonRatio.hill).toFixed(5),")"]})]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Voigt"}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"K"}),(0,n.jsx)("sub",{children:"V"})," = ",j.properties.bulkModulus.voigt.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"E"}),(0,n.jsx)("sub",{children:"V"})," = ",j.properties.youngsModulus.voigt.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"G"}),(0,n.jsx)("sub",{children:"V"})," = ",j.properties.shearModulus.voigt.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"\u03bd"}),(0,n.jsx)("sub",{children:"V"})," = ",j.properties.poissonRatio.voigt.toFixed(5)]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Reuss"}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"K"}),(0,n.jsx)("sub",{children:"R"})," = ",j.properties.bulkModulus.reuss.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"E"}),(0,n.jsx)("sub",{children:"R"})," = ",j.properties.youngsModulus.reuss.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"G"}),(0,n.jsx)("sub",{children:"R"})," = ",j.properties.shearModulus.reuss.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"\u03bd"}),(0,n.jsx)("sub",{children:"R"})," = ",j.properties.poissonRatio.reuss.toFixed(5)]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Hill"}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"K"}),(0,n.jsx)("sub",{children:"H"})," = ",j.properties.bulkModulus.hill.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"E"}),(0,n.jsx)("sub",{children:"H"})," = ",j.properties.youngsModulus.hill.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"G"}),(0,n.jsx)("sub",{children:"H"})," = ",j.properties.shearModulus.hill.toFixed(3)]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("em",{children:"\u03bd"}),(0,n.jsx)("sub",{children:"H"})," = ",j.properties.poissonRatio.hill.toFixed(5)]})]})]})})]})]}),(0,n.jsxs)("div",{className:`${a.tableCell} ${a.eigenvaluesCell}`,children:[(0,n.jsxs)("h3",{children:["Eigenvalues of the stiffness matrix",(0,n.jsx)("button",{onClick:()=>g("eigenvalues",j),className:a.copyButton,title:"Copy table to clipboard",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,n.jsxs)("table",{className:a.propertiesTable,children:[(0,n.jsx)("thead",{children:L&&E?(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{children:"Values (GPa)"}),(0,n.jsx)("th",{children:"Difference"})]}):(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{children:"Value (GPa)"})]})}),(0,n.jsx)("tbody",{children:L&&E?j.eigenvalues.map(((e,s)=>(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{children:["\u03bb",(0,n.jsx)("sub",{children:s+1})]}),(0,n.jsxs)("td",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:e.toFixed(3)}),E.eigenvalues[s]&&(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.eigenvalues[s].toFixed(3),")"]})]}),(0,n.jsx)("td",{style:{color:E.eigenvalues[s]?f(e-E.eigenvalues[s]):"inherit"},children:E.eigenvalues[s]?`${y(e-E.eigenvalues[s])}${Math.abs(e-E.eigenvalues[s]).toFixed(3)}`:"N/A"})]},s))):j.eigenvalues.map(((e,s)=>(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{children:["\u03bb",(0,n.jsx)("sub",{children:s+1})]}),(0,n.jsx)("td",{children:e.toFixed(3)})]},s)))})]})]}),(0,n.jsxs)("div",{className:a.tableCell,children:[(0,n.jsxs)("h3",{children:["Variations of the elastic moduli",(0,n.jsx)("button",{onClick:()=>g("variations",j),className:a.copyButton,title:"Copy table to clipboard",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),(0,n.jsxs)("table",{className:a.propertiesTable,children:[(0,n.jsxs)("thead",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{colSpan:"2",children:"Young's modulus (GPa)"}),(0,n.jsxs)("th",{colSpan:"2",children:["Linear compressibility (TPa",(0,n.jsx)("sup",{children:"\u22121"}),")"]}),(0,n.jsx)("th",{colSpan:"2",children:"Shear modulus (GPa)"}),(0,n.jsx)("th",{colSpan:"2",children:"Poisson's ratio"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsxs)("th",{children:[(0,n.jsx)("em",{children:"E"}),(0,n.jsx)("sub",{children:"min"})]}),(0,n.jsxs)("th",{children:[(0,n.jsx)("em",{children:"E"}),(0,n.jsx)("sub",{children:"max"})]}),(0,n.jsxs)("th",{children:["\u03b2",(0,n.jsx)("sub",{children:"min"})]}),(0,n.jsxs)("th",{children:["\u03b2",(0,n.jsx)("sub",{children:"max"})]}),(0,n.jsxs)("th",{children:[(0,n.jsx)("em",{children:"G"}),(0,n.jsx)("sub",{children:"min"})]}),(0,n.jsxs)("th",{children:[(0,n.jsx)("em",{children:"G"}),(0,n.jsx)("sub",{children:"max"})]}),(0,n.jsxs)("th",{children:["\u03bd",(0,n.jsx)("sub",{children:"min"})]}),(0,n.jsxs)("th",{children:["\u03bd",(0,n.jsx)("sub",{children:"max"})]})]})]}),(0,n.jsx)("tbody",{children:L&&E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Value"}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.youngsModulus.min.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.youngsModulus.min.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.youngsModulus.min-E.extrema.youngsModulus.min)},children:[y(j.extrema.youngsModulus.min-E.extrema.youngsModulus.min),Math.abs(j.extrema.youngsModulus.min-E.extrema.youngsModulus.min).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.youngsModulus.max.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.youngsModulus.max.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.youngsModulus.max-E.extrema.youngsModulus.max)},children:[y(j.extrema.youngsModulus.max-E.extrema.youngsModulus.max),Math.abs(j.extrema.youngsModulus.max-E.extrema.youngsModulus.max).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.linearCompressibility.min.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.linearCompressibility.min.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.linearCompressibility.min-E.extrema.linearCompressibility.min)},children:[y(j.extrema.linearCompressibility.min-E.extrema.linearCompressibility.min),Math.abs(j.extrema.linearCompressibility.min-E.extrema.linearCompressibility.min).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.linearCompressibility.max.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.linearCompressibility.max.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.linearCompressibility.max-E.extrema.linearCompressibility.max)},children:[y(j.extrema.linearCompressibility.max-E.extrema.linearCompressibility.max),Math.abs(j.extrema.linearCompressibility.max-E.extrema.linearCompressibility.max).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.shearModulus.min.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.shearModulus.min.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.shearModulus.min-E.extrema.shearModulus.min)},children:[y(j.extrema.shearModulus.min-E.extrema.shearModulus.min),Math.abs(j.extrema.shearModulus.min-E.extrema.shearModulus.min).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.shearModulus.max.toFixed(3)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.shearModulus.max.toFixed(3),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.shearModulus.max-E.extrema.shearModulus.max)},children:[y(j.extrema.shearModulus.max-E.extrema.shearModulus.max),Math.abs(j.extrema.shearModulus.max-E.extrema.shearModulus.max).toFixed(3)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.poissonRatio.min.toFixed(5)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.poissonRatio.min.toFixed(5),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.poissonRatio.min-E.extrema.poissonRatio.min)},children:[y(j.extrema.poissonRatio.min-E.extrema.poissonRatio.min),Math.abs(j.extrema.poissonRatio.min-E.extrema.poissonRatio.min).toFixed(5)]})]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.poissonRatio.max.toFixed(5)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.poissonRatio.max.toFixed(5),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.poissonRatio.max-E.extrema.poissonRatio.max)},children:[y(j.extrema.poissonRatio.max-E.extrema.poissonRatio.max),Math.abs(j.extrema.poissonRatio.max-E.extrema.poissonRatio.max).toFixed(5)]})]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Anisotropy"}),(0,n.jsxs)("td",{colSpan:"2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.youngsModulus.anisotropy.toFixed(2)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.youngsModulus.anisotropy.toFixed(2),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.youngsModulus.anisotropy-E.extrema.youngsModulus.anisotropy)},children:[y(j.extrema.youngsModulus.anisotropy-E.extrema.youngsModulus.anisotropy),Math.abs(j.extrema.youngsModulus.anisotropy-E.extrema.youngsModulus.anisotropy).toFixed(2)]})]}),(0,n.jsxs)("td",{colSpan:"2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.linearCompressibility.anisotropy.toFixed(4)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.linearCompressibility.anisotropy.toFixed(4),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.linearCompressibility.anisotropy-E.extrema.linearCompressibility.anisotropy)},children:[y(j.extrema.linearCompressibility.anisotropy-E.extrema.linearCompressibility.anisotropy),Math.abs(j.extrema.linearCompressibility.anisotropy-E.extrema.linearCompressibility.anisotropy).toFixed(4)]})]}),(0,n.jsxs)("td",{colSpan:"2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:j.extrema.shearModulus.anisotropy.toFixed(2)}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",E.extrema.shearModulus.anisotropy.toFixed(2),")"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.shearModulus.anisotropy-E.extrema.shearModulus.anisotropy)},children:[y(j.extrema.shearModulus.anisotropy-E.extrema.shearModulus.anisotropy),Math.abs(j.extrema.shearModulus.anisotropy-E.extrema.shearModulus.anisotropy).toFixed(2)]})]}),(0,n.jsxs)("td",{colSpan:"2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#ff6600",fontWeight:600},children:isFinite(j.extrema.poissonRatio.anisotropy)?j.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"}),(0,n.jsxs)("span",{style:{color:"#0066cc",marginLeft:"0.25rem"},children:["(",isFinite(E.extrema.poissonRatio.anisotropy)?E.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e",")"]})]}),isFinite(j.extrema.poissonRatio.anisotropy)&&isFinite(E.extrema.poissonRatio.anisotropy)&&(0,n.jsxs)("div",{style:{fontSize:"0.8em",color:f(j.extrema.poissonRatio.anisotropy-E.extrema.poissonRatio.anisotropy)},children:[y(j.extrema.poissonRatio.anisotropy-E.extrema.poissonRatio.anisotropy),Math.abs(j.extrema.poissonRatio.anisotropy-E.extrema.poissonRatio.anisotropy).toFixed(2)]})]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Value"}),(0,n.jsx)("td",{children:j.extrema.youngsModulus.min.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.youngsModulus.max.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.linearCompressibility.min.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.linearCompressibility.max.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.shearModulus.min.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.shearModulus.max.toFixed(3)}),(0,n.jsx)("td",{children:j.extrema.poissonRatio.min.toFixed(5)}),(0,n.jsx)("td",{children:j.extrema.poissonRatio.max.toFixed(5)})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Anisotropy"}),(0,n.jsx)("td",{colSpan:"2",children:j.extrema.youngsModulus.anisotropy.toFixed(2)}),(0,n.jsx)("td",{colSpan:"2",children:j.extrema.linearCompressibility.anisotropy.toFixed(4)}),(0,n.jsx)("td",{colSpan:"2",children:j.extrema.shearModulus.anisotropy.toFixed(2)}),(0,n.jsx)("td",{colSpan:"2",children:isFinite(j.extrema.poissonRatio.anisotropy)?j.extrema.poissonRatio.anisotropy.toFixed(2):"\u221e"})]})]})})]})]})]}),(0,n.jsxs)("div",{className:a.chartsSection,children:[(0,n.jsxs)("div",{className:a.chartControls,children:[(0,n.jsxs)("select",{value:M,onChange:e=>b(e.target.value),className:a.propertySelect,children:[(0,n.jsx)("option",{value:"youngs",children:"Young's Modulus"}),(0,n.jsx)("option",{value:"linear_compressibility",children:"Linear Compressibility"}),(0,n.jsx)("option",{value:"shear",children:"Shear Modulus"}),(0,n.jsx)("option",{value:"poisson",children:"Poisson's Ratio"}),(0,n.jsx)("option",{value:"matrix",children:"Tensor Matrices"})]}),(0,n.jsxs)("label",{className:a.checkboxLabel,children:[(0,n.jsx)("input",{type:"checkbox",checked:k,onChange:e=>R(e.target.checked),className:a.checkbox}),"Show 3D View"]}),k&&(0,n.jsxs)("div",{className:a.radioGroup,children:[(0,n.jsxs)("label",{className:a.radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"3dMode",checked:T,onChange:()=>z(!0),className:a.radio}),"Scatter"]}),(0,n.jsxs)("label",{className:a.radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"3dMode",checked:!T,onChange:()=>z(!1),className:a.radio}),"Surface"]})]}),L&&V&&Object.keys(V).length>0&&(0,n.jsxs)("div",{className:a.radioGroup,children:[(0,n.jsxs)("label",{className:a.radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"comparisonView",checked:!J,onChange:()=>Q(!1),className:a.radio}),"Overlay"]}),(0,n.jsxs)("label",{className:a.radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"comparisonView",checked:J,onChange:()=>Q(!0),className:a.radio}),"Difference"]})]})]}),"matrix"===M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a.sectionTitle,children:"Stiffness & Compliance Matrices"}),(0,n.jsx)("div",{className:a.surfaceChartContainer,children:j&&(0,n.jsx)(u,{stiffnessMatrix:j.stiffnessMatrix,complianceMatrix:j.complianceMatrix,referenceStiffness:L&&E?E.stiffnessMatrix:void 0,referenceCompliance:L&&E?E.complianceMatrix:void 0,comparisonMode:L,showDifference:J,testTensorName:Se(),referenceTensorName:we()})})]}):k&&"matrix"!==M?(0,n.jsx)(n.Fragment,{children:j.isPositiveDefinite?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a.sectionTitle,children:"3D Property Surface"}),(0,n.jsx)("div",{className:a.surfaceChartContainer,children:D&&(0,n.jsx)(d,{data:D,property:M,useScatter:T,referenceData:L?H:void 0,comparisonMode:L,showDifference:J,testTensorName:Se(),referenceTensorName:we()})})]}):(0,n.jsx)("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--ifm-color-emphasis-600)",fontStyle:"italic"},children:"3D visualization disabled: Tensor is not positive definite"})}):"matrix"!==M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a.sectionTitle,children:"Property Surface Plots"}),(0,n.jsx)("div",{className:a.polarChartsGrid,children:["xy","xz","yz"].map((e=>(0,n.jsxs)("div",{className:a.chartContainer,children:[(0,n.jsxs)("div",{className:a.chartLabel,children:[e.toUpperCase()," Plane"]}),F[e]&&(0,n.jsx)(c,{data:F[e],property:M,plane:e,referenceData:L?V[e]:void 0,comparisonMode:L,testTensorName:Se(),referenceTensorName:we(),showDifference:J})]},e)))}),(0,n.jsx)("div",{className:a.sectionTitle,children:"Angular Variation"}),(0,n.jsx)("div",{className:a.directionalChartsGrid,children:["xy","xz","yz"].map((e=>(0,n.jsxs)("div",{className:a.chartContainer,children:[(0,n.jsxs)("div",{className:a.chartLabel,children:[e.toUpperCase()," Plane"]}),F[e]&&(0,n.jsx)(l,{data:F[e],property:M,referenceData:L?V[e]:void 0,comparisonMode:L,showDifference:J,testTensorName:Se(),referenceTensorName:we()})]},e)))})]}):null]})]})})]})})};function v(){return(0,n.jsx)(r.A,{title:"Elastic Tensor Calculator",description:"Interactive elastic tensor analysis tool for calculating elastic properties and visualizations",children:(0,n.jsxs)("main",{style:{minHeight:"calc(100vh - 60px)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0.5rem 1rem",flexWrap:"wrap",gap:"0.5rem",margin:"1rem",marginBottom:"1.5rem"},children:[(0,n.jsx)("h1",{style:{marginBottom:0,fontSize:"1.5rem",flex:"1 1 auto"},children:"Elastic Tensor Calculator"}),(0,n.jsxs)("small",{style:{color:"var(--ifm-color-emphasis-600)",flex:"0 0 auto"},children:["Inspired by ",(0,n.jsx)("a",{href:"https://progs.coudert.name/elate",target:"_blank",rel:"noopener noreferrer",children:"ELATE"})]})]}),(0,n.jsx)(j,{})]})})}}}]);