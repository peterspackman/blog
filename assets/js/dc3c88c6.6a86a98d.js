"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[5273],{6153:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(6540),s=a(1656);const r="svgContainer_wHGv",l="draggablePoint_GUYR",o="checkboxLabel_bI8P";var i=a(4848);const c=({className:e})=>{const[t,a]=(0,n.useState)(!0),[s,c]=(0,n.useState)(null),[h,m]=(0,n.useState)(null),[g,x]=(0,n.useState)([{name:"[10]",angle:0,color:"#ff0000",gamma:1.2},{name:"[11]",angle:45,color:"#00aa00",gamma:1},{name:"[01]",angle:90,color:"#aa00aa",gamma:1.3},{name:"[1\u03041]",angle:135,color:"#ff8800",gamma:1.1},{name:"[1\u03040]",angle:180,color:"#0088ff",gamma:1.2},{name:"[1\u03041\u0304]",angle:225,color:"#888800",gamma:1.1},{name:"[01\u0304]",angle:270,color:"#008888",gamma:1.3},{name:"[11\u0304]",angle:315,color:"#880088",gamma:1}]),d=(0,n.useRef)(null),u=e=>{if(null===h||!d.current)return;const t=d.current.getBoundingClientRect(),a=e.clientX-t.left-t.width/2,n=e.clientY-t.top-t.height/2,s=Math.sqrt(a*a+n*n)/80,r=Math.max(.3,Math.min(2,s)),l=[...g];l[h].gamma=r,x(l)},f=()=>{m(null)};(0,n.useEffect)(()=>{if(null!==h)return document.addEventListener("mousemove",u),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)}},[h]);const y=(()=>{const e=(e=>{const t=e.length;if(0===t)return[];const a=e.slice().sort((e,t)=>Math.atan2(e.b,e.a)-Math.atan2(t.b,t.a)),n=[],s=(e,t)=>{const a=e.a*t.b-t.a*e.b;return Math.abs(a)<1e-10?null:{x:(e.c*t.b-t.c*e.b)/a,y:(e.a*t.c-t.a*e.c)/a}},r=(e,t)=>t.a*e.x+t.b*e.y<=t.c+1e-10;for(let o=0;o<t;o++){const e=a[o];for(;n.length>=2;){const t=s(n[n.length-2],n[n.length-1]);if(t&&r(t,e))break;n.pop()}for(;n.length>=2;){const t=s(n[0],n[1]);if(t&&r(t,e))break;n.shift()}n.push(e)}for(;n.length>=3;){const e=n[n.length-2],t=s(n[n.length-1],n[0]);if(t&&r(t,e))break;n.pop()}for(;n.length>=3;){const e=n[n.length-1],t=s(n[0],n[1]);if(t&&r(t,e))break;n.shift()}const l=[];if(n.length>=3)for(let o=0;o<n.length;o++){const e=n[o],t=n[(o+1)%n.length],a=s(e,t);a&&l.push({x:a.x,y:a.y,h1:e,h2:t})}return l})(g.map(e=>{const t=e.angle*Math.PI/180,a=60*e.gamma;return{a:Math.cos(t),b:-Math.sin(t),c:a,direction:e}}));if(e.length<3){const e=g.reduce((e,t)=>t.gamma<e.gamma?t:e),t=e.angle*Math.PI/180,a=60*e.gamma,n=a*Math.cos(t),s=-a*Math.sin(t);return[{x:n-10,y:s-10},{x:n+10,y:s-10},{x:n,y:s+10}]}return e})(),j=new Map;for(let n=0;n<y.length;n++){const e=y[n],t=y[(n+1)%y.length];if(e.h1&&t.h1){let a=null;if(e.h1===t.h1||e.h1===t.h2?a=e.h1:e.h2!==t.h1&&e.h2!==t.h2||(a=e.h2),a&&a.direction){const n=a.direction;j.has(n)||j.set(n,[]),j.get(n).push({v1:e,v2:t,midX:(e.x+t.x)/2,midY:(e.y+t.y)/2})}}}return(0,i.jsxs)("div",{className:`container margin-vert--lg ${e||""}`,children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col col--6 text--center",children:[(0,i.jsx)("h3",{className:"margin-bottom--sm",children:"\u03b3-plot (Surface Energy)"}),(0,i.jsx)("p",{className:"margin-bottom--sm",children:"Drag points to adjust surface energies"}),(0,i.jsxs)("svg",{ref:d,width:"300",height:"300",viewBox:"-150 -150 300 300",className:r,style:{cursor:null!==h?"grabbing":"default"},children:[(0,i.jsx)("line",{x1:"-150",y1:"0",x2:"150",y2:"0",stroke:"#ccc",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"0",y1:"-150",x2:"0",y2:"150",stroke:"#ccc",strokeWidth:"1"}),(0,i.jsx)("circle",{cx:"0",cy:"0",r:"40",fill:"none",stroke:"#eee",strokeWidth:"1",strokeDasharray:"2,2"}),(0,i.jsx)("circle",{cx:"0",cy:"0",r:"80",fill:"none",stroke:"#eee",strokeWidth:"1",strokeDasharray:"2,2"}),(0,i.jsx)("circle",{cx:"0",cy:"0",r:"120",fill:"none",stroke:"#eee",strokeWidth:"1",strokeDasharray:"2,2"}),(0,i.jsx)("text",{x:"0",y:"-45",textAnchor:"middle",fontSize:"10",fill:"#999",children:"\u03b3 = 0.5"}),(0,i.jsx)("text",{x:"0",y:"-85",textAnchor:"middle",fontSize:"10",fill:"#999",children:"\u03b3 = 1.0"}),(0,i.jsx)("text",{x:"0",y:"-125",textAnchor:"middle",fontSize:"10",fill:"#999",children:"\u03b3 = 1.5"}),g.map((e,t)=>{const a=(e=>{const t=e.angle*Math.PI/180,a=80*e.gamma;return{x:a*Math.cos(t),y:-a*Math.sin(t)}})(e),n=s===t,r=h===t;return(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:"0",y1:"0",x2:a.x,y2:a.y,stroke:e.color,strokeWidth:n||r?3:1,opacity:n||r?1:.5}),(0,i.jsx)("circle",{cx:a.x,cy:a.y,r:r?10:n?8:6,fill:e.color,className:l,onMouseEnter:()=>c(t),onMouseLeave:()=>c(null),onMouseDown:()=>(e=>{m(e)})(t)}),(0,i.jsx)("text",{x:1.3*a.x,y:1.3*a.y,textAnchor:"middle",fontSize:"14",fill:e.color,fontWeight:n||r?"bold":"normal",children:e.name}),(n||r)&&(0,i.jsxs)("text",{x:1.3*a.x,y:1.3*a.y+15,textAnchor:"middle",fontSize:"12",fill:e.color,children:["\u03b3 = ",e.gamma.toFixed(2)]})]},t)})]})]}),(0,i.jsxs)("div",{className:"col col--6 text--center",children:[(0,i.jsx)("h3",{className:"margin-bottom--sm",children:"Equilibrium Crystal Shape"}),(0,i.jsx)("p",{className:"margin-bottom--sm",children:"Intersection of half-planes"}),(0,i.jsxs)("svg",{width:"300",height:"300",viewBox:"-150 -150 300 300",className:r,children:[(0,i.jsx)("line",{x1:"-150",y1:"0",x2:"150",y2:"0",stroke:"#ccc",strokeWidth:"1",strokeDasharray:"5,5"}),(0,i.jsx)("line",{x1:"0",y1:"-150",x2:"0",y2:"150",stroke:"#ccc",strokeWidth:"1",strokeDasharray:"5,5"}),t&&g.map((e,t)=>{const a=(e=>{const t=e.angle*Math.PI/180,a=60*e.gamma,n=a*Math.cos(t),s=-a*Math.sin(t),r=t+Math.PI/2,l=200;return{x1:n+l*Math.cos(r),y1:s-l*Math.sin(r),x2:n-l*Math.cos(r),y2:s+l*Math.sin(r),centerX:n,centerY:s}})(e),n=s===t,r=j.has(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,stroke:e.color,strokeWidth:n?3:r?2:1,strokeDasharray:n?"none":"4,4",opacity:n?.9:r?.7:.3}),(n||r)&&(0,i.jsx)("line",{x1:"0",y1:"0",x2:a.centerX,y2:a.centerY,stroke:e.color,strokeWidth:"1",strokeDasharray:"2,2",opacity:n?1:.5})]},t)}),y.length>=3&&(0,i.jsx)("polygon",{points:y.map(e=>`${e.x},${e.y}`).join(" "),fill:"#e6f2ff",stroke:"#0066cc",strokeWidth:"3"}),y.length>=3&&y.map((e,t)=>(0,i.jsx)("circle",{cx:e.x,cy:e.y,r:"3",fill:"#0066cc"},t)),Array.from(j.entries()).map(([e,t])=>{if(0===t.length)return null;let a=0,n=0;t.forEach(e=>{a+=e.midX,n+=e.midY}),a/=t.length,n/=t.length;let r=0;if(t.forEach(e=>{const t=e.v2.x-e.v1.x,a=e.v2.y-e.v1.y;r+=Math.sqrt(t*t+a*a)}),r<10)return null;Math.sqrt(a*a+n*n);const l=1.3*a,o=1.3*n;return(0,i.jsxs)("text",{x:l,y:o,textAnchor:"middle",fontSize:"14",fill:e.color,fontWeight:s===g.indexOf(e)?"bold":"normal",children:["(",e.name.replace("[","").replace("]",""),")"]},`facet-${e.name}`)})]})]})]}),(0,i.jsxs)("div",{className:"margin-top--md text--center",children:[(0,i.jsx)("div",{className:"margin-bottom--sm",children:(0,i.jsxs)("label",{className:o,children:[(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:e=>a(e.target.checked),className:"margin-right--sm"}),(0,i.jsx)("span",{children:"Show construction lines"})]})}),(0,i.jsx)("button",{onClick:()=>x([{name:"[10]",angle:0,color:"#ff0000",gamma:1.2},{name:"[11]",angle:45,color:"#00aa00",gamma:1},{name:"[01]",angle:90,color:"#aa00aa",gamma:1.3},{name:"[1\u03041]",angle:135,color:"#ff8800",gamma:1.1},{name:"[1\u03040]",angle:180,color:"#0088ff",gamma:1.2},{name:"[1\u03041\u0304]",angle:225,color:"#888800",gamma:1.1},{name:"[01\u0304]",angle:270,color:"#008888",gamma:1.3},{name:"[11\u0304]",angle:315,color:"#880088",gamma:1}]),className:"button button--primary",children:"Reset to Default"})]}),(0,i.jsx)("div",{className:"margin-top--md",children:(0,i.jsxs)("div",{className:"alert alert--info",children:[(0,i.jsx)("p",{children:"Drag the points in the \u03b3-plot to adjust surface energies!"}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"The Wulff construction:"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Each surface energy \u03b3 defines a half-plane at distance \u03b3 from origin"}),(0,i.jsx)("li",{children:"The equilibrium shape is the intersection of all half-planes"}),(0,i.jsx)("li",{children:"Lower energy surfaces (closer to origin) create larger facets"}),(0,i.jsx)("li",{children:"High energy surfaces may not appear if neighbors have lower energy"}),(0,i.jsx)("li",{children:"The shape is always convex and minimizes total surface energy"})]})]})})]})};var h=a(9256);function m(){return(0,i.jsx)(s.A,{title:"Wulff construction in 2D",description:"Wulff",children:(0,i.jsx)("main",{className:h.A.mainContainer,style:{width:"100%"},children:(0,i.jsx)(c,{className:h.A.centeredVisualization})})})}},9256:(e,t,a)=>{a.d(t,{A:()=>n});const n={mainContainer:"mainContainer_ToYM",mainContainerWide:"mainContainerWide_qCJt",header:"header_Crl1",toggleButtons:"toggleButtons_HfWQ",toggleButton:"toggleButton_XP4b",activeButton:"activeButton_U0kg",visualizationContainer:"visualizationContainer_EYJL",visualizationContainerFull:"visualizationContainerFull_udEd",visualization:"visualization_ziEY",visualizationWide:"visualizationWide_uXaJ",centeredVisualization:"centeredVisualization_l8sE",explanation:"explanation_RvX9"}}}]);