"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[2947],{706:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(6540),i=n(2130),a=n(4848);const l=({math:e,inline:t=!0})=>{const n=(0,o.useRef)(null);return(0,o.useEffect)(()=>{n.current&&i.Ay.render(e,n.current,{throwOnError:!1,displayMode:!t})},[e,t]),(0,a.jsx)("span",{ref:n})}},7813:(e,t,n)=>{n.d(t,{A:()=>o});const o={container:"container_cqng",title:"title_noQj",flexContainer:"flexContainer_UJ2T",visualizationRow:"visualizationRow_gJmC",mainVisualizationColumn:"mainVisualizationColumn_Qvup",phasorColumn:"phasorColumn_UbB5",canvasContainer:"canvasContainer_PTLs",canvas:"canvas_ALcg",colorScaleContainer:"colorScaleContainer_hnx4",colorScaleCanvas:"colorScaleCanvas_T1HO",colorScaleLabel:"colorScaleLabel_uzw6",colorScaleWrapper:"colorScaleWrapper_gk7D",colorScaleTitle:"colorScaleTitle_Ed3y",colorScaleImage:"colorScaleImage_lBEX",colorScaleLabelTop:"colorScaleLabelTop_Jz_5",colorScaleLabelMiddle:"colorScaleLabelMiddle_ai5J",colorScaleLabelBottom:"colorScaleLabelBottom_y5MY",phasorContainer:"phasorContainer_yelD",phasorWrapper:"phasorWrapper_E2FV",phasorHint:"phasorHint_gnlA",phasorMessage:"phasorMessage_msJC",infoPanel:"infoPanel_swq1",infoGrid:"infoGrid_Kbft",infoTitle:"infoTitle_kOIn",infoValue:"infoValue_I8P3",infoLabel:"infoLabel_mybD",infoHint:"infoHint_l_MG",controlsSection:"controlsSection_LfUR",controlsContainer:"controlsContainer_stJ7",controlsRow:"controlsRow_ZegN",controlButton:"controlButton_jkuO",playButton:"playButton_vFZS",pauseButton:"pauseButton_eWBl",switchButton:"switchButton_FePy",rangeContainer:"rangeContainer_bvsR",rangeLabel:"rangeLabel_YC1v",rangeLabelText:"rangeLabelText_m7QQ",rangeInput:"rangeInput_lHnO",rangeValue:"rangeValue_Hdsn",controlGroup:"controlGroup_Jd3q",controlGroupTitle:"controlGroupTitle_I6Ap",controlOptions:"controlOptions_PbfK",controlOption:"controlOption_eLtK",controlOptionLabel:"controlOptionLabel_BOyV",explanationContainer:"explanationContainer_vxJw",explanationTitle:"explanationTitle_ydVD",explanationText:"explanationText_QCmg",explanationList:"explanationList_iDqn",explanationListItem:"explanationListItem_nc_j",explanationNote:"explanationNote_VnKw",stateEnergiesContainer:"stateEnergiesContainer_Woi7",stateEnergiesList:"stateEnergiesList_Jiip",stateEnergiesItem:"stateEnergiesItem_tyEW",legendContainer:"legendContainer_JsOt",legendTitle:"legendTitle_k3Pp",legendItems:"legendItems_D5nA",legendItem:"legendItem_n_ct",active:"active_l7VW",inactive:"inactive_Zzmn",legendColorSwatch:"legendColorSwatch_HQwq",legendText:"legendText_TIdV",harmonicTerm:"harmonicTerm__UEO",harmonicTermHeader:"harmonicTermHeader_fYFb",harmonicTermControls:"harmonicTermControls_O8BD",removeTermButton:"removeTermButton___wj",addTermButton:"addTermButton_P9Vf",gridLayout:"gridLayout_K0cq",canvasArea:"canvasArea_EsCa",canvasWrapper:"canvasWrapper_Zx5r",sidebarArea:"sidebarArea_lU0Z",main:"main_QZpM"}},8082:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var o=n(6540),i=n(1656),a=n(5293),l=n(8478),r=n(7813);function s(e,t){const{N:n,alpha:o,beta:i}=t;return o+2*i*Math.cos(e*Math.PI/(n+1))}function c(e,t){const{N:n,alternation:o=0}=e;let i;if(Math.abs(o)<1e-10){i=[];for(let t=1;t<=n;t++)i.push(s(t,e));i.sort((e,t)=>e-t)}else{const{diagonal:t,offDiagonal:n}=function(e){const{N:t,alpha:n,beta:o,alternation:i=0}=e,a=new Array(t).fill(n),l=[],r=o*(1+i),s=o*(1-i);for(let c=0;c<t-1;c++)l.push(c%2==0?r:s);return{diagonal:a,offDiagonal:l}}(e);i=function(e,t){const n=e.length;if(0===n)return[];if(1===n)return[e[0]];const o=[...e],i=[...t,0],a=[];let l=n;const r=30*n;let s=0;for(;l>1&&s<r;){s++;const e=1e-12*(Math.abs(o[l-2])+Math.abs(o[l-1]));if(Math.abs(i[l-2])<e){a.push(o[l-1]),l--;continue}const t=(o[l-2]-o[l-1])/2,n=t>=0?1:-1,r=o[l-1]-n*i[l-2]*i[l-2]/(Math.abs(t)+Math.sqrt(t*t+i[l-2]*i[l-2]));let c=o[0]-r,d=i[0];for(let a=0;a<l-1;a++){let e=Math.sqrt(c*c+d*d);e<1e-15&&(e=1e-15);const t=c/e,n=d/e;a>0&&(i[a-1]=e);const r=o[a],s=o[a+1],h=i[a];o[a]=t*t*r+2*t*n*h+n*n*s,o[a+1]=n*n*r-2*t*n*h+t*t*s,i[a]=t*n*(s-r)+(t*t-n*n)*h,a<l-2&&(c=i[a],d=n*i[a+1],i[a+1]=t*i[a+1])}}for(let c=0;c<l;c++)a.push(o[c]);return a.sort((e,t)=>e-t),a}(t,n)}return i.map((e,n)=>({k:n+1,energy:e,occupied:void 0!==t?n<t:void 0}))}var d=n(4848);const h=({width:e,height:t,energyLevels:n,selectedK:i,onSelectK:a,params:l,energyRange:r,fermiInfo:s,electronCount:c,theme:h})=>{const m=(0,o.useRef)(null),g={top:20,right:15,bottom:30,left:55},u=e-g.left-g.right,f=t-g.top-g.bottom,x=(0,o.useCallback)(e=>{const t=(e-r.min)/(r.max-r.min);return g.top+f*(1-t)},[r,g.top,f]),p=(0,o.useCallback)(e=>{const t=1-(e-g.top)/f;return r.min+t*(r.max-r.min)},[r,g.top,f]);(0,o.useEffect)(()=>{const o=m.current;if(!o)return;const a=o.getContext("2d");if(!a)return;const d=h.text.startsWith("#e")||h.text.startsWith("#f"),f=h.surface||h.inputBg,p=h.textMuted,b=h.text;a.fillStyle=f,a.fillRect(0,0,e,t),a.strokeStyle=p,a.lineWidth=1,a.beginPath(),a.moveTo(g.left,g.top),a.lineTo(g.left,t-g.bottom),a.stroke();a.fillStyle=b,a.font='11px "Segoe UI", system-ui, sans-serif',a.textAlign="right",a.textBaseline="middle";for(let e=0;e<=5;e++){const t=e/5,n=r.min+t*(r.max-r.min),o=x(n);a.beginPath(),a.moveTo(g.left-4,o),a.lineTo(g.left,o),a.stroke(),a.fillText(n.toFixed(1),g.left-8,o)}a.save(),a.translate(14,t/2),a.rotate(-Math.PI/2),a.textAlign="center",a.fillStyle=b,a.font='12px "Segoe UI", system-ui, sans-serif',a.fillText("Energy (eV)",0,0),a.restore();const y=x(l.alpha);if(y>g.top&&y<t-g.bottom&&(a.strokeStyle=d?"rgba(150,150,150,0.3)":"rgba(0,0,0,0.15)",a.setLineDash([5,5]),a.beginPath(),a.moveTo(g.left,y),a.lineTo(e-g.right,y),a.stroke(),a.setLineDash([]),a.fillStyle=h.textMuted,a.font='10px "Segoe UI", system-ui, sans-serif',a.textAlign="left",a.fillText("\u03b1",e-g.right+4,y)),s&&void 0!==c&&c>0){const n=x(s.fermiEnergy);n>g.top&&n<t-g.bottom&&(a.strokeStyle=d?"#22c55e":"#16a34a",a.lineWidth=2,a.setLineDash([8,4]),a.beginPath(),a.moveTo(g.left,n),a.lineTo(e-g.right,n),a.stroke(),a.setLineDash([]),a.fillStyle=d?"#22c55e":"#16a34a",a.font='bold 10px "Segoe UI", system-ui, sans-serif',a.textAlign="left",a.fillText("E_F",e-g.right+4,n))}const S=Math.min(.75*u,180),v=g.left+(u-S)/2,C=void 0!==c?Math.ceil(c/2):n.length;n.forEach((e,t)=>{const n=x(e.energy),o=function(e,t){const n=(e-1)/Math.max(1,t-1);return`rgb(${Math.round(59+180*n)}, ${Math.round(130+-62*n)}, ${Math.round(246+-178*n)})`}(e.k,l.N),r=e.k===i,s=t<C;if(a.strokeStyle=o,a.lineWidth=r?4:2,a.lineCap="round",s||void 0===c?(a.setLineDash([]),a.globalAlpha=1):(a.setLineDash([6,4]),a.globalAlpha=.5),a.beginPath(),a.moveTo(v,n),a.lineTo(v+S,n),a.stroke(),a.setLineDash([]),a.globalAlpha=1,void 0!==c&&s){const e=4,o=v+S+12,i=t===C-1&&c%2==1;a.fillStyle=d?"#fbbf24":"#d97706",a.beginPath(),a.arc(o,n-3,e,0,2*Math.PI),a.fill(),i||(a.beginPath(),a.arc(o,n+3,e,0,2*Math.PI),a.fill())}r&&(a.fillStyle=o,a.beginPath(),a.arc(v-8,n,4,0,2*Math.PI),a.fill())}),a.fillStyle=b,a.font='bold 12px "Segoe UI", system-ui, sans-serif',a.textAlign="center";let j=`N = ${l.N} atoms`;if(l.alternation&&l.alternation>0&&(j+=` (gap: ${s?.bandGap?.toFixed(2)||"?"} eV)`),a.fillText(j,e/2,14),null!==i){const o=n.find(e=>e.k===i);o&&(a.fillStyle=h.textMuted,a.font='10px "Segoe UI", system-ui, sans-serif',a.textAlign="center",a.fillText(`k=${i}: ${M=o.energy,M.toFixed(2)+" eV"}`,e/2,t-8))}var M},[e,t,n,i,l,r,s,c,h,x]);const b=(0,o.useCallback)(o=>{const i=m.current;if(!i)return;const l=i.getBoundingClientRect(),r=i.width/l.width,s=i.height/l.height,c=(o.clientX-l.left)*r,d=(o.clientY-l.top)*s;if(c<g.left||c>e-g.right||d<g.top||d>t-g.bottom)return;const h=p(d);let u=null,f=1/0;for(const e of n){const t=Math.abs(e.energy-h);t<f&&(f=t,u=e)}u&&f<.3&&a(u.k)},[e,t,g,n,p,a]);return(0,d.jsx)("canvas",{ref:m,width:e,height:t,onClick:b,style:{cursor:"pointer",borderRadius:"4px",border:`1px solid ${h.border}`}})};var m=n(5098);const g=({width:e,height:t,energyLevels:n,params:i,energyRange:a,showSmoothed:l,sigma:r,theme:s})=>{const c=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(!c.current)return;const e=m.Ts(c.current),t=l?function(e,t,n,o){if(0===e.length)return[];const i=o||{min:e[0].energy-3*n,max:e[e.length-1].energy+3*n},a=[],l=(i.max-i.min)/(t-1);for(let r=0;r<t;r++){const t=i.min+r*l;let o=0;for(const i of e){const e=t-i.energy;o+=Math.exp(-e*e/(2*n*n))}o/=Math.sqrt(2*Math.PI)*n,a.push({energy:t,density:o})}return a}(n,100,r,a):[],o=1.15*(l?Math.max(...t.map(e=>e.density),1):1),i=s.text.startsWith("#e")||s.text.startsWith("#f"),d=[],h=.25*o;d.push({name:"Energy levels",type:"scatter",data:n.map(e=>[h/2,e.energy]),symbol:"rect",symbolSize:[8*h,2],itemStyle:{color:i?"rgba(100, 150, 255, 0.8)":"rgba(59, 130, 246, 0.7)"},animation:!1}),l&&t.length>0&&d.push({name:"DOS (broadened)",type:"line",data:t.map(e=>[e.density,e.energy]),smooth:!0,lineStyle:{width:2.5,color:i?"#ff7b7b":"#dc2626"},areaStyle:{color:i?"rgba(255, 123, 123, 0.15)":"rgba(220, 38, 38, 0.1)"},itemStyle:{color:i?"#ff7b7b":"#dc2626"},symbol:"none",animation:!1});const g={animation:!1,grid:{left:10,right:10,top:30,bottom:40},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:e=>{if(!e||0===e.length)return"";let t=`E = ${e[0].data[1].toFixed(2)} eV<br/>`;return e.forEach(e=>{t+=`${e.seriesName}: ${e.data[0].toFixed(2)}<br/>`}),t}},xAxis:{type:"value",name:"DOS",nameLocation:"middle",nameGap:25,min:0,max:o,axisLabel:{color:s.textMuted,fontSize:10,formatter:e=>e.toFixed(1)},axisLine:{lineStyle:{color:s.textMuted}},splitLine:{show:!0,lineStyle:{color:i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},nameTextStyle:{color:s.text,fontSize:11}},yAxis:{type:"value",name:"Energy (eV)",nameLocation:"middle",nameGap:0,nameRotate:90,min:a.min,max:a.max,axisLabel:{show:!1},axisLine:{lineStyle:{color:s.textMuted}},splitLine:{show:!0,lineStyle:{color:i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},nameTextStyle:{color:s.text,fontSize:11}},series:d};e.setOption(g);const u=()=>e.resize();return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),e.dispose()}},[e,t,n,i,a,l,r,s]);s.text.startsWith("#e")||s.text.startsWith("#f");return(0,d.jsx)("div",{ref:c,style:{width:e,height:t,borderRadius:"4px",border:`1px solid ${s.border}`,backgroundColor:s.surface||s.inputBg}})},u=({width:e,height:t,N:n,selectedK:i,showAtomLabels:a,showCoefficients:l,theme:r})=>{const s=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const o=s.current;if(!o)return;const c=o.getContext("2d");if(!c)return;const d=r.text.startsWith("#e")||r.text.startsWith("#f"),h=r.surface||r.inputBg,m=r.text,g=r.textMuted;c.fillStyle=h,c.fillRect(0,0,e,t);const u=30,f=30,x=40,p=e-u-f,b=t-x-50,y=Math.min(10,p/(3*n)),S=p/(n+1),v=x+b/2;c.strokeStyle=d?"#555":"#ccc",c.lineWidth=2,c.beginPath(),c.moveTo(u,v),c.lineTo(e-f,v),c.stroke();for(let e=1;e<=n;e++){const t=u+e*S;c.fillStyle=d?"#666":"#999",c.beginPath(),c.arc(t,v,y,0,2*Math.PI),c.fill(),a&&n<=20&&(c.fillStyle=g,c.font='10px "Segoe UI", system-ui, sans-serif',c.textAlign="center",c.fillText(`${e}`,t,v+y+14))}if(null===i)return c.fillStyle=g,c.font='14px "Segoe UI", system-ui, sans-serif',c.textAlign="center",void c.fillText("Select an orbital to view its shape",e/2,x+10);const C=function(e,t){const n=Math.sqrt(2/(t+1)),o=[];for(let i=1;i<=t;i++){const a=n*Math.sin(i*e*Math.PI/(t+1));o.push(a)}return{k:e,coefficients:o}}(i,n),j=Math.max(...C.coefficients.map(Math.abs)),M=.35*b;for(let e=0;e<n;e++){const t=u+(e+1)*S,o=C.coefficients[e],i=o/j,a=Math.abs(i)*M,r=1.5*y;if(Math.abs(o)<.001)continue;const s=o>0,h=d?"#6b9eff":"#3b82f6",g=d?"#ff7b7b":"#ef4444",f=s?h:g;c.fillStyle=f,c.beginPath(),c.ellipse(t,v-y-a/2,r,a/2,0,0,2*Math.PI),c.fill();const x=s?g:h;c.fillStyle=x,c.beginPath(),c.ellipse(t,v+y+a/2,r,a/2,0,0,2*Math.PI),c.fill(),l&&n<=15&&(c.fillStyle=m,c.font="9px monospace",c.textAlign="center",c.fillText(o.toFixed(2),t,v-y-a-5))}c.fillStyle=m,c.font='bold 12px "Segoe UI", system-ui, sans-serif',c.textAlign="center";const _=i-1;const w=function(e,t){const n=e/t;return n<=.33?"bonding":n<=.67?"nonbonding":"antibonding"}(i,n),T="bonding"===w?"(bonding)":"antibonding"===w?"(antibonding)":"(nonbonding)";c.fillText(`MO k = ${i}: ${_} node${1!==_?"s":""} ${T}`,e/2,20);const k=t-18,A=e/2-80;c.font='10px "Segoe UI", system-ui, sans-serif',c.textAlign="left",c.fillStyle=d?"#6b9eff":"#3b82f6",c.beginPath(),c.arc(A,k,5,0,2*Math.PI),c.fill(),c.fillStyle=g,c.fillText("Positive",A+10,k+4),c.fillStyle=d?"#ff7b7b":"#ef4444",c.beginPath(),c.arc(A+80,k,5,0,2*Math.PI),c.fill(),c.fillStyle=g,c.fillText("Negative",A+80+10,k+4)},[e,t,n,i,a,l,r]),(0,d.jsx)("canvas",{ref:s,width:e,height:t,style:{borderRadius:"4px",border:`1px solid ${r.border}`}})};var f=n(8371);const x=({N:e,onNChange:t,electronCount:n,onElectronCountChange:o,alternation:i,onAlternationChange:a,selectedK:l,onSelectedKChange:r,beta:s,onBetaChange:c,showSmoothedDOS:h,onShowSmoothedDOSChange:m,dosSigma:g,onDosSigmaChange:u,showAtomLabels:x,onShowAtomLabelsChange:p,showCoefficients:b,onShowCoefficientsChange:y,bandGap:S,theme:v})=>{const C=Array.from({length:e},(e,t)=>t+1),j=2*e,M=n-e,_=0===M?"half-filled (neutral)":M>0?`+${M} (n-doped)`:`${M} (p-doped)`;return(0,d.jsxs)("div",{style:{backgroundColor:v.surface||v.inputBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${v.border}`,color:v.text},children:[(0,d.jsxs)(f.iV,{title:"Chain Length",defaultExpanded:!0,theme:v,children:[(0,d.jsx)(f.GK,{label:"N atoms",value:e,onChange:e=>{const i=Math.round(e);t(i);const a=Math.min(n,2*i);o(a),null!==l&&l>i&&r(i)},min:2,max:100,step:1,decimals:0,unit:"",theme:v}),(0,d.jsxs)("div",{style:{fontSize:"0.7rem",color:v.textMuted,marginTop:"0.25rem"},children:["Band width: ",Math.abs(4*s).toFixed(1)," eV"]})]}),(0,d.jsxs)(f.iV,{title:"Model Parameters",defaultExpanded:!0,theme:v,children:[(0,d.jsx)(f.GK,{label:"Hopping (\u03b2)",value:s,onChange:c,min:-4,max:-1,step:.1,decimals:1,unit:"eV",theme:v}),(0,d.jsx)(f.GK,{label:"Electrons",value:n,onChange:e=>o(Math.round(e)),min:0,max:j,step:1,decimals:0,unit:"",theme:v}),(0,d.jsxs)("div",{style:{display:"flex",gap:"0.4rem",marginBottom:"0.5rem"},children:[(0,d.jsx)("button",{onClick:()=>o(0),style:{flex:1,padding:"0.25rem",fontSize:"0.65rem",border:`1px solid ${v.border}`,borderRadius:"4px",backgroundColor:0===n?v.accent||"#2563eb":v.inputBg,color:0===n?"#fff":v.text,cursor:"pointer"},children:"Empty"}),(0,d.jsx)("button",{onClick:()=>o(e),style:{flex:1,padding:"0.25rem",fontSize:"0.65rem",border:`1px solid ${v.border}`,borderRadius:"4px",backgroundColor:n===e?v.accent||"#2563eb":v.inputBg,color:n===e?"#fff":v.text,cursor:"pointer"},children:"Half"}),(0,d.jsx)("button",{onClick:()=>o(j),style:{flex:1,padding:"0.25rem",fontSize:"0.65rem",border:`1px solid ${v.border}`,borderRadius:"4px",backgroundColor:n===j?v.accent||"#2563eb":v.inputBg,color:n===j?"#fff":v.text,cursor:"pointer"},children:"Full"})]}),(0,d.jsx)("div",{style:{fontSize:"0.7rem",color:v.textMuted,marginBottom:"0.5rem"},children:_}),(0,d.jsx)(f.GK,{label:"Bond alternation (\u03b4)",value:i,onChange:a,min:0,max:.5,step:.01,decimals:2,unit:"",theme:v}),(0,d.jsx)("div",{style:{fontSize:"0.7rem",color:v.textMuted},children:i>0?(0,d.jsxs)(d.Fragment,{children:["Gap: ",S?.toFixed(2)||"?"," eV (Peierls)"]}):"\u03b4=0: uniform chain"})]}),(0,d.jsxs)(f.iV,{title:"Selected Orbital",defaultExpanded:!1,theme:v,children:[(0,d.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,d.jsx)("label",{style:{display:"block",fontSize:"0.75rem",color:v.textMuted,marginBottom:"0.25rem"},children:"MO index (k)"}),(0,d.jsxs)("select",{value:l??"",onChange:e=>{const t=e.target.value;r(""===t?null:parseInt(t,10))},style:{width:"100%",padding:"0.4rem",fontSize:"0.8rem",border:`1px solid ${v.border}`,borderRadius:"4px",backgroundColor:v.inputBg,color:v.text,cursor:"pointer"},children:[(0,d.jsx)("option",{value:"",children:"None"}),C.map(t=>(0,d.jsxs)("option",{value:t,children:["k = ",t," (",t<=e/3?"bonding":t<=2*e/3?"nonbonding":"antibonding",")"]},t))]})]}),(0,d.jsx)("div",{style:{fontSize:"0.7rem",color:v.textMuted},children:"Click energy levels to select"})]}),(0,d.jsxs)(f.iV,{title:"Display Options",defaultExpanded:!1,theme:v,children:[(0,d.jsx)(f.jF,{label:"Smoothed DOS",checked:h,onChange:m,theme:v}),h&&(0,d.jsx)(f.GK,{label:"DOS broadening",value:g,onChange:u,min:.05,max:.5,step:.01,decimals:2,unit:"eV",theme:v}),(0,d.jsx)(f.jF,{label:"Atom labels",checked:x,onChange:p,theme:v}),(0,d.jsx)(f.jF,{label:"MO coefficients",checked:b,onChange:y,theme:v})]}),(0,d.jsxs)("div",{style:{marginTop:"1rem",padding:"0.5rem",backgroundColor:v.inputBg,borderRadius:"4px",fontSize:"0.7rem",color:v.textMuted},children:[(0,d.jsx)("strong",{children:"Tips:"}),(0,d.jsxs)("ul",{style:{margin:"0.3rem 0 0 1rem",padding:0},children:[(0,d.jsx)("li",{children:"Increase N to see band formation"}),(0,d.jsx)("li",{children:"Add \u03b4 to open a Peierls gap"}),(0,d.jsx)("li",{children:"Change electrons to dope"})]})]})]})};var p=n(706);const b=({className:e})=>{const{colorMode:t}=(0,a.G)(),n="dark"===t,i={background:n?"#2d2d2d":"#f8f9fa",surface:n?"#3d3d3d":"#ffffff",border:n?"#555":"#e0e0e0",text:n?"#e0e0e0":"#333",textMuted:n?"#999":"#666",accent:n?"#6b9eff":"#2563eb",inputBg:n?"#4a4a4a":"#f3f4f6"},[l,s]=(0,o.useState)(10),[m,f]=(0,o.useState)(10),[b,y]=(0,o.useState)(0),[S,v]=(0,o.useState)(1),[C,j]=(0,o.useState)(-2.5),[M,_]=(0,o.useState)(!0),[w,T]=(0,o.useState)(.15),[k,A]=(0,o.useState)(!0),[L,B]=(0,o.useState)(!1),I=(0,o.useRef)(null),E=function(e){const[t,n]=(0,o.useState)(600);return(0,o.useLayoutEffect)(()=>{const t=()=>{if(e.current){const t=e.current.getBoundingClientRect().width;n(Math.max(300,Math.floor(t)))}};t();const o=new ResizeObserver(t);return e.current&&o.observe(e.current),()=>o.disconnect()},[e]),t}(I),z=Math.min(400,.55*E),N=Math.min(280,.35*E),P=Math.min(250,.3*E),R=Math.min(700,E-40),F=(0,o.useMemo)(()=>({N:l,alpha:0,beta:C,alternation:b}),[l,C,b]),O=(0,o.useMemo)(()=>c(F,m),[F,m]),W=(0,o.useMemo)(()=>function(e,t){if(0===e.length)return{fermiEnergy:0,homoIndex:-1,lumoIndex:0,bandGap:0};const n=Math.min(Math.ceil(t/2),e.length),o=Math.max(0,n-1),i=Math.min(n,e.length-1),a=e[o].energy,l=e[i].energy;return{fermiEnergy:n<e.length?(a+l)/2:a,homoIndex:o,lumoIndex:i,bandGap:i>o?l-a:0}}(O,m),[O,m]),V=(0,o.useMemo)(()=>function(e){const t=c(e);return 0===t.length?{min:e.alpha-2*Math.abs(e.beta),max:e.alpha+2*Math.abs(e.beta)}:{min:t[0].energy-.3,max:t[t.length-1].energy+.3}}(F),[F]);return(0,d.jsxs)("div",{className:`${r.A.container} ${e||""}`,children:[(0,d.jsx)("h2",{className:r.A.title,children:"Band Structure Emergence"}),(0,d.jsxs)("div",{className:r.A.gridLayout,children:[(0,d.jsxs)("div",{className:r.A.canvasArea,ref:I,children:[(0,d.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"stretch"},children:[(0,d.jsx)("div",{children:(0,d.jsx)(h,{width:N,height:z,energyLevels:O,selectedK:S,onSelectK:v,params:F,energyRange:V,fermiInfo:W,electronCount:m,theme:i})}),(0,d.jsx)("div",{children:(0,d.jsx)(g,{width:P,height:z,energyLevels:O,params:F,energyRange:V,showSmoothed:M,sigma:w,theme:i})})]}),(0,d.jsx)("div",{style:{marginTop:"1rem"},children:(0,d.jsx)(u,{width:R,height:180,N:l,selectedK:S,showAtomLabels:k,showCoefficients:L,theme:i})})]}),(0,d.jsx)("div",{className:r.A.sidebarArea,children:(0,d.jsx)(x,{N:l,onNChange:e=>{s(e),f(m===l?e:Math.min(m,2*e))},electronCount:m,onElectronCountChange:f,alternation:b,onAlternationChange:y,selectedK:S,onSelectedKChange:v,beta:C,onBetaChange:j,showSmoothedDOS:M,onShowSmoothedDOSChange:_,dosSigma:w,onDosSigmaChange:T,showAtomLabels:k,onShowAtomLabelsChange:A,showCoefficients:L,onShowCoefficientsChange:B,bandGap:W.bandGap,theme:i})})]}),(0,d.jsxs)("div",{className:r.A.explanationContainer,children:[(0,d.jsx)("h3",{className:r.A.explanationTitle,children:"Band Structure from Molecular Orbitals"}),(0,d.jsxs)("p",{className:r.A.explanationText,children:["This visualization demonstrates how discrete molecular orbital (MO) energy levels merge into a continuous energy band as the number of atoms increases. We use the"," ",(0,d.jsx)("strong",{children:"H\xfcckel (tight-binding) model"})," for a linear chain of atoms with pi orbitals."]}),(0,d.jsxs)("p",{className:r.A.explanationText,children:["The energy of each MO is given by:"," ",(0,d.jsx)(p.A,{math:"E_k = \\alpha + 2\\beta \\cos\\left(\\frac{k\\pi}{N+1}\\right)",inline:!0}),", where ",(0,d.jsx)("em",{children:"k"})," = 1, 2, ..., N is the orbital index, and"," ",(0,d.jsx)("em",{children:"\u03b2"})," is the hopping integral (typically -2.5 eV for C-C pi bonds)."]}),(0,d.jsx)("h4",{children:"Key features:"}),(0,d.jsxs)("ul",{className:r.A.explanationList,children:[(0,d.jsxs)("li",{className:r.A.explanationListItem,children:[(0,d.jsx)("strong",{children:"Band formation:"})," As N increases, discrete levels merge into a continuous band of width 4|\u03b2|"]}),(0,d.jsxs)("li",{className:r.A.explanationListItem,children:[(0,d.jsx)("strong",{children:"Electron filling:"})," Each orbital holds 2 electrons (spin). The Fermi level (green dashed line) separates occupied from unoccupied states."]}),(0,d.jsxs)("li",{className:r.A.explanationListItem,children:[(0,d.jsx)("strong",{children:"Doping:"})," Adding/removing electrons from half-filling simulates n-type or p-type doping"]}),(0,d.jsxs)("li",{className:r.A.explanationListItem,children:[(0,d.jsx)("strong",{children:"Peierls distortion:"})," Bond alternation opens a band gap, converting the metal to a semiconductor (like polyacetylene)"]})]}),(0,d.jsxs)("div",{className:r.A.explanationNote,children:[(0,d.jsx)("strong",{children:"Try it:"})," Start with N=10, then increase to see band formation. Add bond alternation to open a gap. Change electron count to simulate doping!"]})]})]})},y=e=>(0,d.jsx)(l.A,{fallback:(0,d.jsx)("div",{children:"Loading visualization..."}),children:()=>(0,d.jsx)(b,{...e})});var S=n(9256);function v(){return(0,d.jsx)(i.A,{title:"Band Structure Emergence",description:"Interactive visualization showing how molecular orbital levels merge into energy bands",children:(0,d.jsx)("main",{className:S.A.mainContainerWide,children:(0,d.jsx)("div",{className:S.A.visualizationContainerFull,children:(0,d.jsx)(y,{})})})})}},8371:(e,t,n)=>{n.d(t,{iV:()=>l,GK:()=>a,jF:()=>r});var o=n(6540),i=n(4848);const a=({label:e,value:t,onChange:n,min:a,max:l,step:r,unit:s="",decimals:c=2,theme:d,disabled:h=!1})=>{const[m,g]=(0,o.useState)(t.toFixed(c)),[u,f]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{u||g(t.toFixed(c))},[t,c,u]),(0,i.jsxs)("div",{style:{marginBottom:"0.6rem",opacity:h?.5:1},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[(0,i.jsx)("span",{style:{fontSize:"0.8rem",color:d.text},children:e}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,i.jsx)("input",{type:"text",value:u?m:t.toFixed(c),onChange:e=>{g(e.target.value)},onFocus:()=>f(!0),onBlur:()=>{f(!1);const e=parseFloat(m);if(isNaN(e))g(t.toFixed(c));else{const t=Math.max(a,Math.min(l,e));n(t),g(t.toFixed(c))}},onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},disabled:h,style:{width:"4rem",padding:"0.15rem 0.3rem",fontSize:"0.75rem",fontFamily:"monospace",textAlign:"right",border:`1px solid ${d.border}`,borderRadius:"3px",backgroundColor:d.inputBg,color:d.text}}),s&&(0,i.jsx)("span",{style:{fontSize:"0.7rem",color:d.textMuted,minWidth:"1.5rem"},children:s})]})]}),(0,i.jsx)("input",{type:"range",min:a,max:l,step:r,value:t,onChange:e=>{const t=parseFloat(e.target.value);n(t),g(t.toFixed(c))},disabled:h,style:{width:"100%",height:"4px",borderRadius:"2px",cursor:h?"not-allowed":"pointer"}})]})},l=({title:e,children:t,defaultExpanded:n=!1,theme:a})=>{const[l,r]=(0,o.useState)(n);return(0,i.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,i.jsxs)("button",{onClick:()=>r(!l),style:{width:"100%",padding:"0.5rem 0.6rem",border:`1px solid ${a.border}`,borderRadius:"4px",backgroundColor:a.surface||a.inputBg,color:a.text,fontSize:"0.8rem",fontWeight:500,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},children:[(0,i.jsx)("span",{children:e}),(0,i.jsx)("span",{style:{transform:l?"rotate(180deg)":"none",transition:"transform 0.2s ease",fontSize:"0.7rem"},children:"\u25bc"})]}),(0,i.jsx)("div",{style:{maxHeight:l?"500px":"0",overflow:"hidden",transition:"max-height 0.2s ease-out"},children:(0,i.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.6rem",backgroundColor:a.surface||a.inputBg,borderRadius:"4px",border:`1px solid ${a.border}`},children:t})})]})},r=({label:e,checked:t,onChange:n,theme:o,disabled:a=!1})=>(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:a?"not-allowed":"pointer",fontSize:"0.8rem",color:o.text,marginBottom:"0.4rem",opacity:a?.5:1},children:[(0,i.jsxs)("div",{style:{position:"relative",width:"36px",height:"20px",backgroundColor:t?o.accent||"#2563eb":o.border,borderRadius:"10px",transition:"background-color 0.2s ease"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:"2px",left:t?"18px":"2px",width:"16px",height:"16px",backgroundColor:"#fff",borderRadius:"50%",transition:"left 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}}),(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:e=>n(e.target.checked),disabled:a,style:{position:"absolute",opacity:0,width:"100%",height:"100%",cursor:a?"not-allowed":"pointer",margin:0}})]}),(0,i.jsx)("span",{children:e})]})},8478:(e,t,n)=>{n.d(t,{A:()=>a});n(6540);var o=n(2303),i=n(4848);function a({children:e,fallback:t}){return(0,o.A)()?(0,i.jsx)(i.Fragment,{children:e?.()}):t??null}},9256:(e,t,n)=>{n.d(t,{A:()=>o});const o={mainContainer:"mainContainer_ToYM",mainContainerWide:"mainContainerWide_qCJt",header:"header_Crl1",toggleButtons:"toggleButtons_HfWQ",toggleButton:"toggleButton_XP4b",activeButton:"activeButton_U0kg",visualizationContainer:"visualizationContainer_EYJL",visualizationContainerFull:"visualizationContainerFull_udEd",visualization:"visualization_ziEY",visualizationWide:"visualizationWide_uXaJ",centeredVisualization:"centeredVisualization_l8sE",explanation:"explanation_RvX9"}}}]);