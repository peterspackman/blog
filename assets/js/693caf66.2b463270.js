"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[3611],{706:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(6540),r=t(2130),i=t(4848);const o=({math:e,inline:n=!0})=>{const t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t.current&&r.Ay.render(e,t.current,{throwOnError:!1,displayMode:!n})},[e,n]),(0,i.jsx)("span",{ref:t})}},1672:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var a=t(4164),r=t(8774),i=t(4848);function o({size:e=null,outline:n=!1,variant:t="primary",block:o=!1,disabled:s=!1,className:l,style:c,link:d,label:u,onClick:m,children:p}){const h=e?{sm:"sm",small:"sm",lg:"lg",large:"lg",medium:null}[e]:"",x=h?`button--${h}`:"",f=n?"button--outline":"",g=t?`button--${t}`:"",y=o?"button--block":"",v=s?"disabled":"",b=p||u,j=e=>{s?e.preventDefault():m&&m()};return d?(0,i.jsx)(r.A,{to:s?null:d,children:(0,i.jsx)("button",{className:(0,a.A)("button",x,f,g,y,v,l),style:c,role:"button","aria-disabled":s,onClick:j,children:b})}):(0,i.jsx)("button",{className:(0,a.A)("button",x,f,g,y,v,l),style:c,disabled:s,onClick:j,children:b})}},6348:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var a=t(6540),r=t(1656),i=t(5293),o=t(8478),s=t(7813),l=t(2428),c=t(8168),d=t(3856),u=t(4922);function m(e,n,t){const r=(0,d.C)(e=>e.size),i=(0,d.C)(e=>e.viewport),o="number"==typeof e?e:r.width*i.dpr,s="number"==typeof n?n:r.height*i.dpr,l=("number"==typeof e?t:e)||{},{samples:c=0,depth:m,...p}=l,h=null!=m?m:l.depthBuffer,x=a.useMemo(()=>{const e=new u.nWS(o,s,{minFilter:u.k6q,magFilter:u.k6q,type:u.ix0,...p});return h&&(e.depthTexture=new u.VCu(o,s,u.RQf)),e.samples=c,e},[]);return a.useLayoutEffect(()=>{x.setSize(o,s),c&&(x.samples=c)},[c,x,o,s]),a.useEffect(()=>()=>x.dispose(),[]),x}const p=a.forwardRef(({envMap:e,resolution:n=256,frames:t=1/0,makeDefault:r,children:i,...o},s)=>{const l=(0,d.C)(({set:e})=>e),u=(0,d.C)(({camera:e})=>e),p=(0,d.C)(({size:e})=>e),h=a.useRef(null);a.useImperativeHandle(s,()=>h.current,[]);const x=a.useRef(null),f=m(n);a.useLayoutEffect(()=>{o.manual||(h.current.aspect=p.width/p.height)},[p,o]),a.useLayoutEffect(()=>{h.current.updateProjectionMatrix()});let g=0,y=null;const v="function"==typeof i;return(0,d.D)(n=>{v&&(t===1/0||g<t)&&(x.current.visible=!1,n.gl.setRenderTarget(f),y=n.scene.background,e&&(n.scene.background=e),n.gl.render(n.scene,h.current),n.scene.background=y,n.gl.setRenderTarget(null),x.current.visible=!0,g++)}),a.useLayoutEffect(()=>{if(r){const e=u;return l(()=>({camera:h.current})),()=>l(()=>({camera:e}))}},[h,r,l]),a.createElement(a.Fragment,null,a.createElement("perspectiveCamera",(0,c.A)({ref:h},o),!v&&i),a.createElement("group",{ref:x},v&&i(f.texture)))});var h=t(2805);var x=t(4848);const f=({activeStates:e,tau:n,densityScale:t,opacityPower:r,threshold:i,colorMapType:o,renderStyle:s})=>{const l=(0,a.useRef)(null),{camera:c}=(0,d.C)(),m=(0,a.useMemo)(()=>{let a=0;"plasma"===o&&(a=1),"coolwarm"===o&&(a=2);const l=[];for(let n=0;n<10;n++)n<e.length?l.push(new u.Pq0(e[n].nx,e[n].ny,e[n].nz)):l.push(new u.Pq0(1,1,1));const d="absorption"===s?1:0;return new u.BKk({vertexShader:"\nvarying vec3 vWorldPosition;\nvarying vec3 vLocalPosition;\n\nvoid main() {\n    vLocalPosition = position;\n    vec4 worldPos = modelMatrix * vec4(position, 1.0);\n    vWorldPosition = worldPos.xyz;\n    gl_Position = projectionMatrix * viewMatrix * worldPos;\n}\n",fragmentShader:"\nprecision highp float;\n\nuniform float uTau;\nuniform int uNumStates;\nuniform vec3 uStates[10];\nuniform float uDensityScale;\nuniform float uOpacityPower;\nuniform float uThreshold;\nuniform int uColorMap;\nuniform int uRenderStyle;  // 0 = colorful, 1 = absorption (dark on white)\nuniform vec3 uCameraPosition;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vLocalPosition;\n\nconst float PI = 3.14159265359;\nconst int NUM_STEPS = 80;\n\n// Viridis colormap approximation\nvec3 viridis(float t) {\n    const vec3 c0 = vec3(0.2777, 0.0054, 0.3340);\n    const vec3 c1 = vec3(0.1050, 0.6386, 0.5250);\n    const vec3 c2 = vec3(0.4628, 0.7665, 0.4228);\n    const vec3 c3 = vec3(0.8467, 0.9324, 0.4000);\n    const vec3 c4 = vec3(0.9930, 0.9060, 0.1439);\n\n    t = clamp(t, 0.0, 1.0);\n    if (t < 0.25) {\n        return mix(c0, c1, t * 4.0);\n    } else if (t < 0.5) {\n        return mix(c1, c2, (t - 0.25) * 4.0);\n    } else if (t < 0.75) {\n        return mix(c2, c3, (t - 0.5) * 4.0);\n    } else {\n        return mix(c3, c4, (t - 0.75) * 4.0);\n    }\n}\n\n// Plasma colormap approximation\nvec3 plasma(float t) {\n    const vec3 c0 = vec3(0.050, 0.030, 0.528);\n    const vec3 c1 = vec3(0.494, 0.012, 0.658);\n    const vec3 c2 = vec3(0.798, 0.280, 0.470);\n    const vec3 c3 = vec3(0.973, 0.580, 0.254);\n    const vec3 c4 = vec3(0.940, 0.975, 0.131);\n\n    t = clamp(t, 0.0, 1.0);\n    if (t < 0.25) {\n        return mix(c0, c1, t * 4.0);\n    } else if (t < 0.5) {\n        return mix(c1, c2, (t - 0.25) * 4.0);\n    } else if (t < 0.75) {\n        return mix(c2, c3, (t - 0.5) * 4.0);\n    } else {\n        return mix(c3, c4, (t - 0.75) * 4.0);\n    }\n}\n\n// Cool-warm colormap\nvec3 coolwarm(float t) {\n    const vec3 cool = vec3(0.230, 0.299, 0.754);\n    const vec3 neutral = vec3(0.865, 0.865, 0.865);\n    const vec3 warm = vec3(0.706, 0.016, 0.150);\n\n    t = clamp(t, 0.0, 1.0);\n    if (t < 0.5) {\n        return mix(cool, neutral, t * 2.0);\n    } else {\n        return mix(neutral, warm, (t - 0.5) * 2.0);\n    }\n}\n\nvec3 colorMap(float t) {\n    if (uColorMap == 0) {\n        return viridis(t);\n    } else if (uColorMap == 1) {\n        return plasma(t);\n    } else {\n        return coolwarm(t);\n    }\n}\n\n// Calculate probability density at point p in [0,1]\xb3\nfloat probabilityDensity(vec3 p) {\n    // Skip if outside the box\n    if (p.x < 0.0 || p.x > 1.0 || p.y < 0.0 || p.y > 1.0 || p.z < 0.0 || p.z > 1.0) {\n        return 0.0;\n    }\n\n    float realSum = 0.0;\n    float imagSum = 0.0;\n    float norm = 1.0 / sqrt(float(uNumStates));\n\n    for (int i = 0; i < 10; i++) {\n        if (i >= uNumStates) break;\n\n        vec3 state = uStates[i];\n        float psi = sin(state.x * PI * p.x)\n                  * sin(state.y * PI * p.y)\n                  * sin(state.z * PI * p.z);\n\n        float energy = dot(state, state);\n        float phase = -energy * uTau;\n\n        realSum += psi * cos(phase) * norm;\n        imagSum += psi * sin(phase) * norm;\n    }\n\n    return realSum * realSum + imagSum * imagSum;\n}\n\n// Ray-box intersection for unit cube centered at origin\n// Returns (tNear, tFar) or (-1, -1) if no intersection\nvec2 intersectBox(vec3 rayOrigin, vec3 rayDir) {\n    vec3 boxMin = vec3(-0.5);\n    vec3 boxMax = vec3(0.5);\n\n    vec3 invDir = 1.0 / rayDir;\n    vec3 t0 = (boxMin - rayOrigin) * invDir;\n    vec3 t1 = (boxMax - rayOrigin) * invDir;\n\n    vec3 tmin = min(t0, t1);\n    vec3 tmax = max(t0, t1);\n\n    float tNear = max(max(tmin.x, tmin.y), tmin.z);\n    float tFar = min(min(tmax.x, tmax.y), tmax.z);\n\n    if (tNear > tFar || tFar < 0.0) {\n        return vec2(-1.0);\n    }\n\n    return vec2(max(tNear, 0.0), tFar);\n}\n\nvoid main() {\n    // Ray from camera through this fragment\n    vec3 rayOrigin = uCameraPosition;\n    vec3 rayDir = normalize(vWorldPosition - uCameraPosition);\n\n    // Find entry/exit points of the unit cube\n    vec2 tMinMax = intersectBox(rayOrigin, rayDir);\n\n    if (tMinMax.x < 0.0) {\n        gl_FragColor = vec4(0.0);\n        return;\n    }\n\n    // Ray march through the volume\n    float tStart = tMinMax.x;\n    float tEnd = tMinMax.y;\n    float stepSize = (tEnd - tStart) / float(NUM_STEPS);\n\n    // Initialize color based on render style\n    vec4 accumulatedColor;\n    if (uRenderStyle == 1) {\n        // Absorption mode: start with white\n        accumulatedColor = vec4(1.0, 1.0, 1.0, 0.0);\n    } else {\n        // Emission mode: start with transparent black\n        accumulatedColor = vec4(0.0);\n    }\n\n    for (int i = 0; i < NUM_STEPS; i++) {\n        float t = tStart + float(i) * stepSize;\n        vec3 worldPos = rayOrigin + rayDir * t;\n\n        // Convert to [0,1] coordinates (box is centered at origin, size 1)\n        vec3 uvw = worldPos + 0.5;\n\n        float density = probabilityDensity(uvw);\n\n        // Apply threshold - skip very low density regions\n        if (density < uThreshold) {\n            continue;\n        }\n\n        // Apply transfer function with power curve for sharpness control\n        // opacityPower < 1 = fuzzier (more spread out), > 1 = sharper edges\n        float safeThreshold = min(uThreshold, 0.99);\n        float normalizedDensity = clamp((density - safeThreshold) / (1.0 - safeThreshold), 0.0, 1.0);\n        float adjustedDensity = pow(normalizedDensity, max(uOpacityPower, 0.1));\n        float alpha = adjustedDensity * stepSize * uDensityScale;\n\n        if (uRenderStyle == 1) {\n            // Absorption mode: darken from white background\n            // Higher density = more darkening (like ink or smoke)\n            float absorption = adjustedDensity * stepSize * uDensityScale * 0.5;\n            accumulatedColor.rgb -= (1.0 - accumulatedColor.a) * vec3(absorption);\n            accumulatedColor.a += (1.0 - accumulatedColor.a) * alpha * 0.3;\n        } else {\n            // Colorful emission mode (default)\n            vec3 sampleColor = colorMap(sqrt(normalizedDensity) * 1.2);\n            accumulatedColor.rgb += (1.0 - accumulatedColor.a) * sampleColor * alpha;\n            accumulatedColor.a += (1.0 - accumulatedColor.a) * alpha;\n        }\n\n        // Early exit when nearly opaque\n        if (accumulatedColor.a > 0.98) break;\n    }\n\n    gl_FragColor = accumulatedColor;\n}\n",uniforms:{uTau:{value:n},uNumStates:{value:Math.max(1,e.length)},uStates:{value:l},uDensityScale:{value:t},uOpacityPower:{value:r},uThreshold:{value:i},uColorMap:{value:a},uRenderStyle:{value:d},uCameraPosition:{value:c.position.clone()}},transparent:!0,side:u.hsX,depthWrite:!1})},[]);return(0,d.D)(()=>{if(!l.current)return;const a=l.current.material;a.uniforms.uTau.value=n;const d=Math.max(1,e.length);a.uniforms.uNumStates.value=d;for(let n=0;n<e.length&&n<10;n++)a.uniforms.uStates.value[n].set(e[n].nx,e[n].ny,e[n].nz);a.uniforms.uDensityScale.value=t,a.uniforms.uOpacityPower.value=r,a.uniforms.uThreshold.value=i;let u=0;"plasma"===o&&(u=1),"coolwarm"===o&&(u=2),a.uniforms.uColorMap.value=u,a.uniforms.uRenderStyle.value="absorption"===s?1:0,a.uniforms.uCameraPosition.value.copy(c.position)}),(0,x.jsx)("mesh",{ref:l,material:m,children:(0,x.jsx)("boxGeometry",{args:[1,1,1]})})},g=({color:e="#666666"})=>(0,x.jsxs)("lineSegments",{children:[(0,x.jsx)("edgesGeometry",{args:[new u.iNn(1,1,1)]}),(0,x.jsx)("lineBasicMaterial",{color:e})]}),y=({color:e="#666666"})=>(0,x.jsxs)("group",{children:[(0,x.jsxs)("line",{children:[(0,x.jsx)("bufferGeometry",{children:(0,x.jsx)("bufferAttribute",{attach:"attributes-position",count:2,array:new Float32Array([.5,-.5,-.5,1.2,-.5,-.5]),itemSize:3})}),(0,x.jsx)("lineBasicMaterial",{color:"#e53935"})]}),(0,x.jsxs)("line",{children:[(0,x.jsx)("bufferGeometry",{children:(0,x.jsx)("bufferAttribute",{attach:"attributes-position",count:2,array:new Float32Array([-.5,.5,-.5,-.5,1.2,-.5]),itemSize:3})}),(0,x.jsx)("lineBasicMaterial",{color:"#43a047"})]}),(0,x.jsxs)("line",{children:[(0,x.jsx)("bufferGeometry",{children:(0,x.jsx)("bufferAttribute",{attach:"attributes-position",count:2,array:new Float32Array([-.5,-.5,.5,-.5,-.5,1.2]),itemSize:3})}),(0,x.jsx)("lineBasicMaterial",{color:"#1e88e5"})]})]}),v=({activeStates:e,tau:n,densityScale:t,opacityPower:r,threshold:i,colorMapType:o,renderStyle:s,width:c,height:d,isDark:m=!1})=>{const v="absorption"===s?"#ffffff":m?"#1a1a1a":"#f8f9fa",b="absorption"===s?"#cccccc":m?"#555555":"#999999";return(0,x.jsx)("div",{style:{width:c,height:d,borderRadius:"8px",overflow:"hidden",border:"1px solid "+(m?"#444":"#e0e0e0")},children:(0,x.jsx)(l.Hl,{dpr:[1,2],gl:{alpha:!1,antialias:!0},onCreated:({scene:e})=>{e.background=new u.Q1f(v)},style:{background:v},children:(0,x.jsxs)(a.Suspense,{fallback:null,children:[(0,x.jsx)("color",{attach:"background",args:[v]}),(0,x.jsx)(p,{makeDefault:!0,position:[1.8,1.5,1.8],fov:50,near:.1,far:100}),(0,x.jsx)(h.N,{enableDamping:!0,dampingFactor:.05,minDistance:1,maxDistance:5}),(0,x.jsx)("ambientLight",{intensity:.5}),(0,x.jsx)(g,{color:b}),(0,x.jsx)(y,{}),(0,x.jsx)(f,{activeStates:e,tau:n,densityScale:t,opacityPower:r,threshold:i,colorMapType:o,renderStyle:s})]})})})};function b(e,n,t){return e*e+n*n+t*t}function j(e){return b(e.nx,e.ny,e.nz)}function S(e){return`(${e.nx}, ${e.ny}, ${e.nz})`}const C="#3b82f6",w=({activeStates:e,tau:n,onToggleState:t,theme:r})=>{const[i,o]=(0,a.useState)(1),s=(n,t,a)=>e.some(e=>e.nx===n&&e.ny===t&&e.nz===a),l=[];for(let a=4;a>=1;a--){const e=[];for(let o=1;o<=4;o++){const l=s(o,a,i),c=b(o,a,i),d=180*(c*n)/Math.PI%360;let u;u=l?`conic-gradient(from -90deg, ${C} ${d}deg, ${C}20 ${d}deg)`:"transparent",e.push((0,x.jsx)("div",{onClick:()=>t(o,a,i),title:`(${o},${a},${i}) E=${c}`,role:"button",tabIndex:0,style:{width:36,height:36,border:`1px solid ${r.border}`,borderRadius:"4px",background:u,cursor:"pointer",fontSize:11,color:r.text,fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",userSelect:"none"}},`${o}-${a}-${i}`))}l.push((0,x.jsxs)("div",{style:{display:"flex",gap:"3px",alignItems:"center"},children:[(0,x.jsx)("div",{style:{width:14,fontSize:11,color:r.textMuted,textAlign:"right",paddingRight:"2px"},children:a}),e]},a))}return(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",padding:"12px",backgroundColor:r.surface||r.inputBg,borderRadius:"6px",border:`1px solid ${r.border}`},children:[(0,x.jsxs)("div",{style:{fontSize:"0.8rem",fontWeight:600,color:r.text,marginBottom:"4px"},children:["Quantum States (n",(0,x.jsx)("sub",{children:"x"}),", n",(0,x.jsx)("sub",{children:"y"}),", n",(0,x.jsx)("sub",{children:"z"}),")"]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[(0,x.jsxs)("span",{style:{fontSize:"0.75rem",color:r.textMuted,fontWeight:600,alignSelf:"center",marginRight:"4px"},children:["n",(0,x.jsx)("sub",{children:"z"}),"="]}),Array.from({length:4},(e,n)=>n+1).map(n=>{const t=n===i,a=e.filter(e=>e.nz===n).length;return(0,x.jsxs)("button",{onClick:()=>o(n),style:{padding:"4px 12px",border:`1px solid ${t?r.accent:r.border}`,borderRadius:"4px",backgroundColor:t?r.accent:"transparent",color:t?"#fff":r.text,fontSize:"0.8rem",fontWeight:t?600:400,cursor:"pointer",position:"relative"},children:[n,a>0&&(0,x.jsx)("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"14px",height:"14px",borderRadius:"50%",backgroundColor:C,color:"#fff",fontSize:"9px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center"},children:a})]},n)})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"3px"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"0.75rem",color:r.textMuted,fontWeight:600,paddingRight:"4px",whiteSpace:"nowrap"},children:["n",(0,x.jsx)("sub",{children:"y"})]}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[l,(0,x.jsxs)("div",{style:{display:"flex",gap:"3px",marginTop:"2px",alignItems:"center"},children:[(0,x.jsx)("div",{style:{width:14}}),Array.from({length:4},(e,n)=>(0,x.jsx)("div",{style:{width:36,fontSize:11,color:r.textMuted,textAlign:"center"},children:n+1},n+1)),(0,x.jsxs)("span",{style:{fontSize:"0.75rem",color:r.textMuted,fontWeight:600,paddingLeft:"4px",whiteSpace:"nowrap"},children:["n",(0,x.jsx)("sub",{children:"x"})]})]})]})]}),(0,x.jsxs)("p",{style:{fontSize:"0.65rem",color:r.textMuted,marginTop:"6px",marginBottom:0,textAlign:"center"},children:["Select n",(0,x.jsx)("sub",{children:"z"})," layer, then click cells to toggle states."]})]})};var _=t(1672),z=t(8371);const T=({colorMapType:e,onColorMapChange:n,renderStyle:t,onRenderStyleChange:a,densityScale:r,onDensityScaleChange:i,opacityPower:o,onOpacityPowerChange:s,threshold:l,onThresholdChange:c,isAnimating:d,onIsAnimatingChange:u,speed:m,onSpeedChange:p,theme:h})=>(0,x.jsxs)("div",{style:{backgroundColor:h.surface||h.inputBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${h.border}`,color:h.text},children:[(0,x.jsx)("div",{style:{marginBottom:"1rem"},children:(0,x.jsx)(_.A,{onClick:()=>u(!d),variant:d?"danger":"success",size:"sm",style:{width:"100%"},children:d?"Pause":"Play"})}),(0,x.jsx)(z.iV,{title:"Animation",defaultExpanded:!0,theme:h,children:(0,x.jsx)(z.GK,{label:"Speed",value:m,onChange:p,min:.1,max:3,step:.1,decimals:1,unit:"x",theme:h})}),(0,x.jsxs)(z.iV,{title:"Rendering",defaultExpanded:!0,theme:h,children:[(0,x.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"0.75rem",color:h.textMuted,marginBottom:"0.3rem"},children:"Style"}),(0,x.jsx)("div",{style:{display:"flex",borderRadius:"6px",overflow:"hidden",border:`1px solid ${h.border}`},children:[{style:"colorful",label:"Colorful"},{style:"absorption",label:"Absorption"}].map(({style:e,label:n})=>{const r=t===e;return(0,x.jsx)("button",{onClick:()=>a(e),style:{flex:1,padding:"0.4rem 0.3rem",border:"none",backgroundColor:r?h.accent||"#2563eb":"transparent",color:r?"#fff":h.text,fontSize:"0.75rem",fontWeight:r?600:400,cursor:"pointer",transition:"all 0.15s ease"},children:n},e)})})]}),(0,x.jsx)(z.GK,{label:"Density",value:r,onChange:i,min:.5,max:10,step:.5,decimals:1,unit:"x",theme:h}),(0,x.jsx)(z.GK,{label:"Sharpness",value:o,onChange:s,min:.2,max:3,step:.1,decimals:1,unit:"",theme:h}),(0,x.jsx)(z.GK,{label:"Threshold",value:l,onChange:c,min:0,max:.5,step:.01,decimals:2,unit:"",theme:h}),(0,x.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"0.75rem",color:h.textMuted,marginBottom:"0.3rem"},children:"Color map"}),(0,x.jsx)("select",{value:e,onChange:e=>n(e.target.value),style:{width:"100%",padding:"0.4rem",fontSize:"0.8rem",border:`1px solid ${h.border}`,borderRadius:"4px",backgroundColor:h.inputBg,color:h.text,cursor:"pointer"},children:[{type:"viridis",label:"Viridis"},{type:"plasma",label:"Plasma"},{type:"coolwarm",label:"Cool-Warm"}].map(({type:e,label:n})=>(0,x.jsx)("option",{value:e,children:n},e))})]})]}),(0,x.jsxs)("div",{style:{marginTop:"1rem",padding:"0.5rem",backgroundColor:h.inputBg,borderRadius:"4px",fontSize:"0.7rem",color:h.textMuted},children:[(0,x.jsx)("strong",{children:"Camera:"}),(0,x.jsx)("br",{}),"Drag to rotate, scroll to zoom"]})]});var A=t(706);const M=({className:e})=>{const{colorMode:n}=(0,i.G)(),t="dark"===n,r={background:t?"#2d2d2d":"#f8f9fa",surface:t?"#3d3d3d":"#ffffff",border:t?"#555":"#e0e0e0",text:t?"#e0e0e0":"#333",textMuted:t?"#999":"#666",accent:t?"#6b9eff":"#2563eb",inputBg:t?"#4a4a4a":"#f3f4f6"},[o,l]=(0,a.useState)([{nx:1,ny:1,nz:1}]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(.2),[p,h]=(0,a.useState)("viridis"),[f,g]=(0,a.useState)("colorful"),[y,b]=(0,a.useState)(4.5),[C,_]=(0,a.useState)(.3),[z,M]=(0,a.useState)(0),k=(0,a.useRef)(null),P=(0,a.useRef)(0),B=(0,a.useRef)(null),D=function(e){const[n,t]=(0,a.useState)(600);return(0,a.useLayoutEffect)(()=>{const n=()=>{if(e.current){const n=e.current.getBoundingClientRect().width;t(Math.max(300,Math.floor(n)))}};n();const a=new ResizeObserver(n);return e.current&&a.observe(e.current),()=>a.disconnect()},[e]),n}(B),R=Math.min(500,Math.floor(.65*D)),[E,L]=(0,a.useState)(0);(0,a.useEffect)(()=>{const e=()=>{c&&(P.current+=.008*u,L(P.current)),k.current=requestAnimationFrame(e)};return k.current=requestAnimationFrame(e),()=>{k.current&&cancelAnimationFrame(k.current)}},[c,u]);const N=(0,a.useCallback)((e,n,t)=>{l(a=>{const r=a.findIndex(a=>a.nx===e&&a.ny===n&&a.nz===t);return r>=0?a.length>1?a.filter((e,n)=>n!==r):a:a.length<8?[...a,{nx:e,ny:n,nz:t}]:a})},[]);return(0,x.jsxs)("div",{className:`${s.A.container} ${e||""}`,children:[(0,x.jsx)("h2",{className:s.A.title,children:"3D Particle in a Box"}),(0,x.jsxs)("div",{className:s.A.gridLayout,children:[(0,x.jsx)("div",{className:s.A.canvasArea,ref:B,children:(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,x.jsx)("div",{children:(0,x.jsx)(v,{activeStates:o,tau:E,densityScale:y,opacityPower:C,threshold:z,colorMapType:p,renderStyle:f,width:R,height:R,isDark:t})}),(0,x.jsx)(w,{activeStates:o,tau:E,onToggleState:N,theme:r})]})}),(0,x.jsx)("div",{className:s.A.sidebarArea,children:(0,x.jsx)(T,{colorMapType:p,onColorMapChange:h,renderStyle:f,onRenderStyleChange:g,densityScale:y,onDensityScaleChange:b,opacityPower:C,onOpacityPowerChange:_,threshold:z,onThresholdChange:M,isAnimating:c,onIsAnimatingChange:d,speed:u,onSpeedChange:m,theme:r})})]}),(0,x.jsxs)("div",{className:s.A.explanationContainer,children:[(0,x.jsx)("h3",{className:s.A.explanationTitle,children:"About 3D Particle in a Box"}),(0,x.jsxs)("p",{className:s.A.explanationText,children:["This visualization shows a quantum particle confined to a three-dimensional cubic box with infinite potential walls. The system has eigenstates characterized by three quantum numbers (n",(0,x.jsx)("sub",{children:"x"}),", n",(0,x.jsx)("sub",{children:"y"}),", n",(0,x.jsx)("sub",{children:"z"}),"), representing the number of nodes in each dimension."]}),(0,x.jsxs)("p",{className:s.A.explanationText,children:["The energy of each state is"," ",(0,x.jsx)(A.A,{math:"E = \\frac{\\pi^2 \\hbar^2}{2 m L^2} (n_x^2 + n_y^2 + n_z^2)",inline:!0}),". States with the same sum n",(0,x.jsx)("sub",{children:"x"}),(0,x.jsx)("sup",{children:"2"})," + n",(0,x.jsx)("sub",{children:"y"}),(0,x.jsx)("sup",{children:"2"})," + n",(0,x.jsx)("sub",{children:"z"}),(0,x.jsx)("sup",{children:"2"})," ","are degenerate (same energy). Each state evolves with a phase"," ",(0,x.jsx)(A.A,{math:"e^{-i E t / \\hbar}",inline:!0}),", with faster oscillation for higher energy states."]}),(0,x.jsx)("h4",{children:"Key features to observe:"}),(0,x.jsxs)("ul",{className:s.A.explanationList,children:[(0,x.jsx)("li",{className:s.A.explanationListItem,children:"The probability density |\u03c8|\xb2 is rendered as a semi-transparent cloud using volume ray marching"}),(0,x.jsx)("li",{className:s.A.explanationListItem,children:"Superposition of states creates complex 3D interference patterns that evolve over time"}),(0,x.jsx)("li",{className:s.A.explanationListItem,children:"Degenerate states (same energy) can form standing wave patterns when combined"}),(0,x.jsx)("li",{className:s.A.explanationListItem,children:"Use the orbit controls to rotate and zoom the visualization"})]}),(0,x.jsxs)("div",{className:s.A.explanationNote,children:[(0,x.jsx)("strong",{children:"Tip:"})," Try combining degenerate states like (2,1,1), (1,2,1), and (1,1,2) to see how different combinations create different spatial distributions with the same energy!"]}),o.length>0&&(0,x.jsxs)("div",{className:s.A.stateEnergiesContainer,children:[(0,x.jsxs)("h4",{children:["Active States: ",(I=o,I.map(S).join(" + "))]}),(0,x.jsx)("ul",{className:s.A.stateEnergiesList,children:o.map(e=>(0,x.jsxs)("li",{className:s.A.stateEnergiesItem,children:["State (n",(0,x.jsx)("sub",{children:"x"}),"=",e.nx,", n",(0,x.jsx)("sub",{children:"y"}),"=",e.ny,", n",(0,x.jsx)("sub",{children:"z"}),"=",e.nz,"): E ="," ",j(e)]},`${e.nx}-${e.ny}-${e.nz}`))})]})]})]});var I},k=e=>(0,x.jsx)(o.A,{fallback:(0,x.jsx)("div",{children:"Loading 3D visualization..."}),children:()=>(0,x.jsx)(M,{...e})});var P=t(9256);function B(){return(0,x.jsx)(r.A,{title:"3D Quantum Mechanics",description:"Interactive visualization of a 3D quantum particle in a box with volume ray marching",children:(0,x.jsx)("main",{className:P.A.mainContainerWide,children:(0,x.jsx)("div",{className:P.A.visualizationContainerFull,children:(0,x.jsx)(k,{})})})})}},7813:(e,n,t)=>{t.d(n,{A:()=>a});const a={container:"container_cqng",title:"title_noQj",flexContainer:"flexContainer_UJ2T",visualizationRow:"visualizationRow_gJmC",mainVisualizationColumn:"mainVisualizationColumn_Qvup",phasorColumn:"phasorColumn_UbB5",canvasContainer:"canvasContainer_PTLs",canvas:"canvas_ALcg",colorScaleContainer:"colorScaleContainer_hnx4",colorScaleCanvas:"colorScaleCanvas_T1HO",colorScaleLabel:"colorScaleLabel_uzw6",colorScaleWrapper:"colorScaleWrapper_gk7D",colorScaleTitle:"colorScaleTitle_Ed3y",colorScaleImage:"colorScaleImage_lBEX",colorScaleLabelTop:"colorScaleLabelTop_Jz_5",colorScaleLabelMiddle:"colorScaleLabelMiddle_ai5J",colorScaleLabelBottom:"colorScaleLabelBottom_y5MY",phasorContainer:"phasorContainer_yelD",phasorWrapper:"phasorWrapper_E2FV",phasorHint:"phasorHint_gnlA",phasorMessage:"phasorMessage_msJC",infoPanel:"infoPanel_swq1",infoGrid:"infoGrid_Kbft",infoTitle:"infoTitle_kOIn",infoValue:"infoValue_I8P3",infoLabel:"infoLabel_mybD",infoHint:"infoHint_l_MG",controlsSection:"controlsSection_LfUR",controlsContainer:"controlsContainer_stJ7",controlsRow:"controlsRow_ZegN",controlButton:"controlButton_jkuO",playButton:"playButton_vFZS",pauseButton:"pauseButton_eWBl",switchButton:"switchButton_FePy",rangeContainer:"rangeContainer_bvsR",rangeLabel:"rangeLabel_YC1v",rangeLabelText:"rangeLabelText_m7QQ",rangeInput:"rangeInput_lHnO",rangeValue:"rangeValue_Hdsn",controlGroup:"controlGroup_Jd3q",controlGroupTitle:"controlGroupTitle_I6Ap",controlOptions:"controlOptions_PbfK",controlOption:"controlOption_eLtK",controlOptionLabel:"controlOptionLabel_BOyV",explanationContainer:"explanationContainer_vxJw",explanationTitle:"explanationTitle_ydVD",explanationText:"explanationText_QCmg",explanationList:"explanationList_iDqn",explanationListItem:"explanationListItem_nc_j",explanationNote:"explanationNote_VnKw",stateEnergiesContainer:"stateEnergiesContainer_Woi7",stateEnergiesList:"stateEnergiesList_Jiip",stateEnergiesItem:"stateEnergiesItem_tyEW",legendContainer:"legendContainer_JsOt",legendTitle:"legendTitle_k3Pp",legendItems:"legendItems_D5nA",legendItem:"legendItem_n_ct",active:"active_l7VW",inactive:"inactive_Zzmn",legendColorSwatch:"legendColorSwatch_HQwq",legendText:"legendText_TIdV",harmonicTerm:"harmonicTerm__UEO",harmonicTermHeader:"harmonicTermHeader_fYFb",harmonicTermControls:"harmonicTermControls_O8BD",removeTermButton:"removeTermButton___wj",addTermButton:"addTermButton_P9Vf",gridLayout:"gridLayout_K0cq",canvasArea:"canvasArea_EsCa",canvasWrapper:"canvasWrapper_Zx5r",sidebarArea:"sidebarArea_lU0Z",main:"main_QZpM"}},8371:(e,n,t)=>{t.d(n,{iV:()=>o,GK:()=>i,jF:()=>s});var a=t(6540),r=t(4848);const i=({label:e,value:n,onChange:t,min:i,max:o,step:s,unit:l="",decimals:c=2,theme:d,disabled:u=!1})=>{const[m,p]=(0,a.useState)(n.toFixed(c)),[h,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{h||p(n.toFixed(c))},[n,c,h]),(0,r.jsxs)("div",{style:{marginBottom:"0.6rem",opacity:u?.5:1},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[(0,r.jsx)("span",{style:{fontSize:"0.8rem",color:d.text},children:e}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,r.jsx)("input",{type:"text",value:h?m:n.toFixed(c),onChange:e=>{p(e.target.value)},onFocus:()=>x(!0),onBlur:()=>{x(!1);const e=parseFloat(m);if(isNaN(e))p(n.toFixed(c));else{const n=Math.max(i,Math.min(o,e));t(n),p(n.toFixed(c))}},onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},disabled:u,style:{width:"4rem",padding:"0.15rem 0.3rem",fontSize:"0.75rem",fontFamily:"monospace",textAlign:"right",border:`1px solid ${d.border}`,borderRadius:"3px",backgroundColor:d.inputBg,color:d.text}}),l&&(0,r.jsx)("span",{style:{fontSize:"0.7rem",color:d.textMuted,minWidth:"1.5rem"},children:l})]})]}),(0,r.jsx)("input",{type:"range",min:i,max:o,step:s,value:n,onChange:e=>{const n=parseFloat(e.target.value);t(n),p(n.toFixed(c))},disabled:u,style:{width:"100%",height:"4px",borderRadius:"2px",cursor:u?"not-allowed":"pointer"}})]})},o=({title:e,children:n,defaultExpanded:t=!1,theme:i})=>{const[o,s]=(0,a.useState)(t);return(0,r.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,r.jsxs)("button",{onClick:()=>s(!o),style:{width:"100%",padding:"0.5rem 0.6rem",border:`1px solid ${i.border}`,borderRadius:"4px",backgroundColor:i.surface||i.inputBg,color:i.text,fontSize:"0.8rem",fontWeight:500,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("span",{style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s ease",fontSize:"0.7rem"},children:"\u25bc"})]}),(0,r.jsx)("div",{style:{maxHeight:o?"500px":"0",overflow:"hidden",transition:"max-height 0.2s ease-out"},children:(0,r.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.6rem",backgroundColor:i.surface||i.inputBg,borderRadius:"4px",border:`1px solid ${i.border}`},children:n})})]})},s=({label:e,checked:n,onChange:t,theme:a,disabled:i=!1})=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:i?"not-allowed":"pointer",fontSize:"0.8rem",color:a.text,marginBottom:"0.4rem",opacity:i?.5:1},children:[(0,r.jsxs)("div",{style:{position:"relative",width:"36px",height:"20px",backgroundColor:n?a.accent||"#2563eb":a.border,borderRadius:"10px",transition:"background-color 0.2s ease"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:"2px",left:n?"18px":"2px",width:"16px",height:"16px",backgroundColor:"#fff",borderRadius:"50%",transition:"left 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}}),(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:e=>t(e.target.checked),disabled:i,style:{position:"absolute",opacity:0,width:"100%",height:"100%",cursor:i?"not-allowed":"pointer",margin:0}})]}),(0,r.jsx)("span",{children:e})]})},9256:(e,n,t)=>{t.d(n,{A:()=>a});const a={mainContainer:"mainContainer_ToYM",mainContainerWide:"mainContainerWide_qCJt",header:"header_Crl1",toggleButtons:"toggleButtons_HfWQ",toggleButton:"toggleButton_XP4b",activeButton:"activeButton_U0kg",visualizationContainer:"visualizationContainer_EYJL",visualizationContainerFull:"visualizationContainerFull_udEd",visualization:"visualization_ziEY",visualizationWide:"visualizationWide_uXaJ",centeredVisualization:"centeredVisualization_l8sE",explanation:"explanation_RvX9"}}}]);