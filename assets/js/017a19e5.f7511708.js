"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4810],{1518:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s(6540),n=s(1410);class r{constructor(e,t){void 0===t&&(t=.95),this.bounds=e,this.damping=t}updateBounds(e){this.bounds=e}setDamping(e){this.damping=e}}class a extends r{apply(e){const{positions:t,velocities:s,count:i}=e,{xMin:n,xMax:r,yMin:a,yMax:l}=this.bounds;for(let o=0;o<i;o++){const e=2*o;t[e]<n?(t[e]=2*n-t[e],s[e]=-s[e]*this.damping):t[e]>r&&(t[e]=2*r-t[e],s[e]=-s[e]*this.damping),t[e+1]<a?(t[e+1]=2*a-t[e+1],s[e+1]=-s[e+1]*this.damping):t[e+1]>l&&(t[e+1]=2*l-t[e+1],s[e+1]=-s[e+1]*this.damping)}}}class l extends r{apply(e){const{positions:t,count:s}=e,{xMin:i,xMax:n,yMin:r,yMax:a}=this.bounds,l=n-i,o=a-r;for(let c=0;c<s;c++){const e=2*c;t[e]<i?t[e]+=l:t[e]>n&&(t[e]-=l),t[e+1]<r?t[e+1]+=o:t[e+1]>a&&(t[e+1]-=o)}}}class o extends r{absorbedParticles=(()=>new Set)();apply(e){const{positions:t,velocities:s,count:i}=e,{xMin:n,xMax:r,yMin:a,yMax:l}=this.bounds;for(let o=0;o<i;o++){if(this.absorbedParticles.has(o))continue;const e=2*o;(t[e]<n||t[e]>r||t[e+1]<a||t[e+1]>l)&&(s[e]=0,s[e+1]=0,t[e]=Math.max(n,Math.min(r,t[e])),t[e+1]=Math.max(a,Math.min(l,t[e+1])),this.absorbedParticles.add(o))}}reset(){this.absorbedParticles.clear()}getAbsorbedCount(){return this.absorbedParticles.size}}class c extends r{constructor(e,t,s){void 0===t&&(t=.95),void 0===s&&(s=100),super(e,t),this.stiffness=s}apply(e){const{positions:t,velocities:s,count:i}=e,{xMin:n,xMax:r,yMin:a,yMax:l}=this.bounds;for(let o=0;o<i;o++){const e=2*o,i=2;if(t[e]<n+i){const r=n+i-t[e];s[e]+=this.stiffness*r*.01}else if(t[e]>r-i){const n=t[e]-(r-i);s[e]-=this.stiffness*n*.01}if(t[e+1]<a+i){const n=a+i-t[e+1];s[e+1]+=this.stiffness*n*.01}else if(t[e+1]>l-i){const n=t[e+1]-(l-i);s[e+1]-=this.stiffness*n*.01}t[e]<n?(t[e]=n,s[e]=Math.abs(s[e])*this.damping):t[e]>r&&(t[e]=r,s[e]=-Math.abs(s[e])*this.damping),t[e+1]<a?(t[e+1]=a,s[e+1]=Math.abs(s[e+1])*this.damping):t[e+1]>l&&(t[e+1]=l,s[e+1]=-Math.abs(s[e+1])*this.damping)}}setStiffness(e){this.stiffness=e}}let h=function(e){return e.REFLECTIVE="reflective",e.PERIODIC="periodic",e.ABSORBING="absorbing",e.ELASTIC="elastic",e}({});class d{}class u extends d{constructor(e,t,s,i,n){void 0===s&&(s=1),void 0===i&&(i=1),void 0===n&&(n=10),super(),this.epsilonMatrix=e,this.sigmaMatrix=t,this.epsilonScale=s,this.sigmaScale=i,this.cutoffRadius=n}calculate(e,t,s){if(e>this.cutoffRadius||e<.001)return{potential:0,force:0};const i=this.epsilonMatrix[t][s]*this.epsilonScale,n=this.sigmaMatrix[t][s]*this.sigmaScale/e,r=Math.pow(n,6),a=Math.pow(r,2);return{potential:4*i*(a-r),force:24*i*(r-2*a)/e}}updateParameters(e,t,s,i){this.epsilonMatrix=e,this.sigmaMatrix=t,void 0!==s&&(this.epsilonScale=s),void 0!==i&&(this.sigmaScale=i)}setCutoff(e){this.cutoffRadius=e}getDescription(){return"Lennard-Jones 12-6 potential with type-dependent parameters"}}class p extends d{constructor(e,t,s,i){void 0===t&&(t=1),void 0===s&&(s=138.935),void 0===i&&(i=1/0),super(),this.charges=e,this.chargeScale=t,this.coulombConstant=s,this.cutoffRadius=i}calculate(e,t,s){if(e>this.cutoffRadius||e<.001)return{potential:0,force:0};const i=this.charges[t]*this.chargeScale,n=this.charges[s]*this.chargeScale;return{potential:this.coulombConstant*i*n/e,force:-this.coulombConstant*i*n/(e*e)}}updateCharges(e,t){this.charges=e,void 0!==t&&(this.chargeScale=t)}setCutoff(e){this.cutoffRadius=e}getDescription(){return"Coulomb electrostatic potential"}}class m{constructor(){this.potentials=[],this.weights=[]}addPotential(e,t){void 0===t&&(t=1),this.potentials.push(e),this.weights.push(t)}removePotential(e){e>=0&&e<this.potentials.length&&(this.potentials.splice(e,1),this.weights.splice(e,1))}calculateTotal(e,t,s){let i=0,n=0;for(let r=0;r<this.potentials.length;r++){const a=this.potentials[r].calculate(e,t,s);i+=a.potential*this.weights[r],n+=a.force*this.weights[r]}return{potential:i,force:n}}getPotentials(){return[...this.potentials]}getWeights(){return[...this.weights]}setWeight(e,t){e>=0&&e<this.weights.length&&(this.weights[e]=t)}clear(){this.potentials=[],this.weights=[]}}class g{constructor(e,t){this.targetTemperature=e,this.timeStep=t}setTargetTemperature(e){this.targetTemperature=e}setTimeStep(e){this.timeStep=e}calculateCurrentTemperature(e){const{velocities:t,masses:s,count:i}=e;let n=0;for(let r=0;r<i;r++){const e=2*r,i=t[e],a=t[e+1],l=i*i+a*a;n+=.5*s[r]*l}return n/i}getDescription(){return"Base thermostat class"}}class f extends g{constructor(e,t,s){void 0===s&&(s=.1),super(e,t),this.couplingStrength=s}apply(e){const t=this.calculateCurrentTemperature(e);if(t>.001){const s=Math.sqrt(this.targetTemperature/t),i=1+this.couplingStrength*(s-1),{velocities:n,count:r}=e;for(let e=0;e<r;e++){const t=2*e;n[t]*=i,n[t+1]*=i}}}setCouplingStrength(e){this.couplingStrength=Math.max(0,Math.min(1,e))}getDescription(){return"Velocity rescaling thermostat with adjustable coupling strength"}}class x extends g{constructor(e,t,s){void 0===s&&(s=1),super(e,t),this.friction=s,this.randomForces=new Float32Array(0)}apply(e){const{velocities:t,masses:s,count:i}=e;this.randomForces.length!==2*i&&(this.randomForces=new Float32Array(2*i));for(let l=0;l<2*i;l+=2){const e=Math.random(),t=Math.random(),s=Math.sqrt(-2*Math.log(e));this.randomForces[l]=s*Math.cos(2*Math.PI*t),this.randomForces[l+1]=s*Math.sin(2*Math.PI*t)}const n=this.targetTemperature,r=this.friction,a=this.timeStep;for(let l=0;l<i;l++){const e=2*l,i=s[l],o=-r*t[e],c=-r*t[e+1],h=Math.sqrt(2*r*n*i/a),d=h*this.randomForces[e],u=h*this.randomForces[e+1];t[e]+=(o+d)*a/i,t[e+1]+=(c+u)*a/i}}setFriction(e){this.friction=Math.max(0,e)}getFriction(){return this.friction}getDescription(){return"Langevin thermostat with stochastic dynamics"}}class y extends g{constructor(e,t,s){void 0===s&&(s=10),super(e,t),this.relaxationTime=s}apply(e){const t=this.calculateCurrentTemperature(e);if(t>.001){const s=this.timeStep,i=this.relaxationTime,n=Math.sqrt(1+s/i*(this.targetTemperature/t-1)),{velocities:r,count:a}=e;for(let e=0;e<a;e++){const t=2*e;r[t]*=n,r[t+1]*=n}}}setRelaxationTime(e){this.relaxationTime=Math.max(.1,e)}getRelaxationTime(){return this.relaxationTime}getDescription(){return"Berendsen thermostat with exponential temperature relaxation"}}class v extends g{constructor(e,t,s){void 0===s&&(s=1),super(e,t),this.thermostatMass=s,this.thermostatPosition=0,this.thermostatVelocity=0}apply(e){const{velocities:t,masses:s,count:i}=e,n=this.timeStep,r=this.thermostatMass,a=this.targetTemperature;let l=0;for(let h=0;h<i;h++){const e=2*h,i=t[e],n=t[e+1];l+=.5*s[h]*(i*i+n*n)}const o=(2*l-2*i*a)/r;this.thermostatVelocity+=o*n*.5,this.thermostatPosition+=this.thermostatVelocity*n;const c=Math.exp(-this.thermostatVelocity*n);for(let h=0;h<i;h++){const e=2*h;t[e]*=c,t[e+1]*=c}this.thermostatVelocity+=o*n*.5}setThermostatMass(e){this.thermostatMass=Math.max(.1,e)}reset(){this.thermostatPosition=0,this.thermostatVelocity=0}getDescription(){return"Nos\xe9-Hoover thermostat for canonical ensemble"}}let b=function(e){return e.VELOCITY_RESCALING="velocity_rescaling",e.LANGEVIN="langevin",e.BERENDSEN="berendsen",e.NOSE_HOOVER="nose_hoover",e}({});class S{constructor(e,t,s,i){void 0===e&&(e=1),void 0===t&&(t=1e3),void 0===s&&(s=10),void 0===i&&(i=100),this.collectiveVariables=new Map,this.systemSnapshots=[],this.samplingInterval=e,this.lastSampleTime=0,this.currentTime=0,this.maxHistoryLength=t,this.particleTypes=new Uint8Array(0);const n=s/i;this.rdf={r:Array.from({length:i},((e,t)=>(t+.5)*n)),gr:new Array(i).fill(0),gr_partial:{},binWidth:n,maxRadius:s,sampleCount:0},this.initializeCollectiveVariables()}initializeCollectiveVariables(){[{name:"temperature",unit:"K",description:"Instantaneous temperature"},{name:"pressure",unit:"atm",description:"Instantaneous pressure"},{name:"totalEnergy",unit:"kJ/mol",description:"Total energy (kinetic + potential)"},{name:"kineticEnergy",unit:"kJ/mol",description:"Total kinetic energy"},{name:"potentialEnergy",unit:"kJ/mol",description:"Total potential energy"},{name:"density",unit:"g/cm\xb3",description:"System density"},{name:"volume",unit:"\u0172",description:"System volume"},{name:"diffusionCoefficient",unit:"cm\xb2/s",description:"Self-diffusion coefficient"},{name:"heatCapacity",unit:"J/(mol\xb7K)",description:"Heat capacity at constant volume"}].forEach((e=>{this.collectiveVariables.set(e.name,{name:e.name,values:[],times:[],unit:e.unit,description:e.description})}))}updateTime(e){this.currentTime+=e}shouldSample(){return this.currentTime-this.lastSampleTime>=this.samplingInterval}calculateAndSample(e,t,s,i){if(!this.shouldSample())return;const n=this.calculateSystemProperties(e,t,s,i);this.systemSnapshots.push(n),Object.entries(n).forEach((e=>{let[t,s]=e;if("time"!==t&&this.collectiveVariables.has(t)){const e=this.collectiveVariables.get(t);e.values.push(s),e.times.push(this.currentTime),e.values.length>this.maxHistoryLength&&(e.values.shift(),e.times.shift())}})),this.calculateDerivedProperties(),this.updateRadialDistributionFunction(e,s),this.lastSampleTime=this.currentTime,this.systemSnapshots.length>this.maxHistoryLength&&this.systemSnapshots.shift()}calculateSystemProperties(e,t,s,i){const{velocities:n,masses:r,count:a}=e;let l=0;for(let u=0;u<a;u++){const e=2*u,t=n[e],s=n[e+1];l+=.5*r[u]*(t*t+s*s)}const o=l/a,c=l+t,h=(l+i)/s,d=r.reduce(((e,t)=>e+t),0)/s;return{time:this.currentTime,temperature:o,pressure:h,totalEnergy:c,kineticEnergy:l,potentialEnergy:t,density:d,volume:s}}calculateDerivedProperties(){if(this.systemSnapshots.length<10)return;const e=this.systemSnapshots.slice(-50).map((e=>e.totalEnergy)),t=this.systemSnapshots.slice(-50).map((e=>e.temperature));if(e.length>1){const s=e.reduce(((e,t)=>e+t),0)/e.length,i=t.reduce(((e,t)=>e+t),0)/t.length,n=e.reduce(((e,t)=>e+(t-s)**2),0)/(e.length-1)/(i*i),r=this.collectiveVariables.get("heatCapacity");r.values.push(n),r.times.push(this.currentTime),r.values.length>this.maxHistoryLength&&(r.values.shift(),r.times.shift())}const s=this.collectiveVariables.get("diffusionCoefficient");s.values.push(0),s.times.push(this.currentTime),s.values.length>this.maxHistoryLength&&(s.values.shift(),s.times.shift())}updateRadialDistributionFunction(e,t){const{positions:s,count:i}=e,n=this.particleTypes.length===i?this.particleTypes:new Uint8Array(i).fill(0),r=this.rdf.binWidth,a=this.rdf.maxRadius,l=this.rdf.r.length,o=new Array(l).fill(0),c={},h=Array.from(new Set(n));h.forEach((e=>{h.forEach((t=>{if(e<=t){c[`${e}-${t}`]=new Array(l).fill(0)}}))}));for(let u=0;u<i;u++)for(let e=u+1;e<i;e++){const t=2*u,i=2*e,h=s[i]-s[t],d=s[i+1]-s[t+1],p=Math.sqrt(h*h+d*d);if(p<a&&p>0){const t=Math.floor(p/r);if(t<l){o[t]++;const s=n[u],i=n[e],r=s<=i?`${s}-${i}`:`${i}-${s}`;c[r]&&c[r][t]++}}}const d=i/t;for(let u=0;u<l;u++){const e=this.rdf.r[u],t=d*(2*Math.PI*e*r)*i,s=1/(this.rdf.sampleCount+1);this.rdf.gr[u]=(1-s)*this.rdf.gr[u]+s*(o[u]/t),Object.entries(c).forEach((e=>{let[i,n]=e;this.rdf.gr_partial[i]||(this.rdf.gr_partial[i]=new Array(l).fill(0)),this.rdf.gr_partial[i][u]=(1-s)*this.rdf.gr_partial[i][u]+s*(n[u]/t)}))}this.rdf.sampleCount++}setParticleTypes(e){this.particleTypes=new Uint8Array(e)}getCollectiveVariable(e){return this.collectiveVariables.get(e)}getAllCollectiveVariables(){return new Map(this.collectiveVariables)}getRadialDistributionFunction(){return{...this.rdf}}getSystemSnapshots(){return[...this.systemSnapshots]}getLatestSnapshot(){return this.systemSnapshots[this.systemSnapshots.length-1]}getTimeAverages(e){void 0===e&&(e=100);const t={};return this.collectiveVariables.forEach(((s,i)=>{if(s.values.length>0){const n=s.values.slice(-e);t[i]=n.reduce(((e,t)=>e+t),0)/n.length}})),t}getFluctuations(e){void 0===e&&(e=100);const t={};return this.collectiveVariables.forEach(((s,i)=>{if(s.values.length>1){const n=s.values.slice(-e),r=n.reduce(((e,t)=>e+t),0)/n.length,a=n.reduce(((e,t)=>e+(t-r)**2),0)/(n.length-1);t[i]=Math.sqrt(a)}})),t}exportData(){const e={};return this.collectiveVariables.forEach(((t,s)=>{e[s]={...t}})),{collectiveVariables:e,rdf:{...this.rdf},snapshots:[...this.systemSnapshots]}}reset(){this.collectiveVariables.forEach((e=>{e.values=[],e.times=[]})),this.systemSnapshots=[],this.rdf.gr.fill(0),this.rdf.gr_partial={},this.rdf.sampleCount=0,this.currentTime=0,this.lastSampleTime=0}setSamplingInterval(e){this.samplingInterval=Math.max(.1,e)}}var j=s(4848);const M=e=>{let{running:t,setRunning:s,initializeParticles:n,numParticles:r,setNumParticles:a,temperature:l,setTemperature:o,timeStep:c,setTimeStep:d,stepsPerFrame:u,setStepsPerFrame:p,orangeRatio:m,setOrangeRatio:g,boundaryType:f,setBoundaryType:x,thermostatType:y,setThermostatType:v,epsilonScale:S,setEpsilonScale:M,sigmaScale:C,setSigmaScale:T,setBaseParticleRadius:w,chargeScale:E,setChargeScale:R,visualScale:P,setVisualScale:F,charges:k,setCharges:A,typeColors:I,setTypeColors:V,epsilonMatrix:z,sigmaMatrix:B,updateInteractionParameter:L,numTypes:D}=e;const[O,W]=(0,i.useState)(!1),N={display:"flex",flexDirection:"column",gap:"0.25rem",marginBottom:"0.75rem"},_={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem",fontWeight:"500"},$={fontFamily:"monospace",backgroundColor:"#e9ecef",padding:"0.125rem 0.25rem",borderRadius:"3px",fontSize:"0.875rem",minWidth:"3rem",textAlign:"center"},H={appearance:"none",width:"100%",height:"6px",borderRadius:"3px",background:"#d1d5db",outline:"none"},q={marginBottom:"1.5rem"},G={fontSize:"0.875rem",fontWeight:"600",margin:"0 0 1rem 0",textTransform:"uppercase",letterSpacing:"0.5px",color:"#374151"};return(0,j.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e9ecef",height:"fit-content"},children:[(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.25rem",fontWeight:"600"},children:"Simulation Controls"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,j.jsx)("button",{onClick:()=>s(!t),style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",backgroundColor:t?"#ffba00":"#00a86b",color:t?"#000":"#fff"},children:t?"Pause":"Start"}),(0,j.jsx)("button",{onClick:n,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",backgroundColor:"#fa383e",color:"#fff"},children:"Reset"})]})]}),(0,j.jsxs)("div",{style:q,children:[(0,j.jsx)("h4",{style:G,children:"System Parameters"}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Particles:"}),(0,j.jsx)("span",{style:$,children:r})]}),(0,j.jsx)("input",{type:"range",min:"10",max:"200",step:"10",value:r,onChange:e=>a(parseInt(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Temperature:"}),(0,j.jsx)("span",{style:$,children:l.toFixed(2)})]}),(0,j.jsx)("input",{type:"range",min:"0.0",max:"5",step:"0.1",value:l,onChange:e=>o(parseFloat(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Orange/Blue Ratio:"}),(0,j.jsxs)("span",{style:$,children:[Math.round(100*m),"%/",Math.round(100*(1-m)),"%"]})]}),(0,j.jsx)("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:m,onChange:e=>g(parseFloat(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsx)("div",{style:_,children:(0,j.jsx)("span",{children:"Boundary Type:"})}),(0,j.jsxs)("select",{value:f,onChange:e=>x(e.target.value),style:{padding:"0.375rem 0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",fontSize:"0.875rem"},children:[(0,j.jsx)("option",{value:h.REFLECTIVE,children:"Reflective"}),(0,j.jsx)("option",{value:h.PERIODIC,children:"Periodic"}),(0,j.jsx)("option",{value:h.ABSORBING,children:"Absorbing"}),(0,j.jsx)("option",{value:h.ELASTIC,children:"Elastic"})]})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsx)("div",{style:_,children:(0,j.jsx)("span",{children:"Thermostat:"})}),(0,j.jsxs)("select",{value:y,onChange:e=>v(e.target.value),style:{padding:"0.375rem 0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",fontSize:"0.875rem"},children:[(0,j.jsx)("option",{value:b.VELOCITY_RESCALING,children:"Velocity Rescaling"}),(0,j.jsx)("option",{value:b.BERENDSEN,children:"Berendsen"}),(0,j.jsx)("option",{value:b.LANGEVIN,children:"Langevin"}),(0,j.jsx)("option",{value:b.NOSE_HOOVER,children:"Nos\xe9-Hoover"})]})]})]}),(0,j.jsxs)("div",{style:q,children:[(0,j.jsx)("h4",{style:G,children:"Simulation Settings"}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Time step:"}),(0,j.jsx)("span",{style:$,children:c})]}),(0,j.jsx)("input",{type:"range",min:"0.005",max:"0.1",step:"0.005",value:c,onChange:e=>d(parseFloat(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Steps per frame:"}),(0,j.jsx)("span",{style:$,children:u})]}),(0,j.jsx)("input",{type:"range",min:"10",max:"100",step:"10",value:u,onChange:e=>p(parseInt(e.target.value)),style:H})]})]}),(0,j.jsxs)("div",{style:q,children:[(0,j.jsx)("h4",{style:G,children:"Force Field Parameters"}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Epsilon Scale (\u03b5):"}),(0,j.jsx)("span",{style:$,children:S.toFixed(2)})]}),(0,j.jsx)("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:S,onChange:e=>M(parseFloat(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Sigma Scale (\u03c3):"}),(0,j.jsx)("span",{style:$,children:C.toFixed(2)})]}),(0,j.jsx)("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:C,onChange:e=>{const t=parseFloat(e.target.value);T(t),w(1.5*t)},style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Charge Scale (q):"}),(0,j.jsx)("span",{style:$,children:E.toFixed(2)})]}),(0,j.jsx)("input",{type:"range",min:"0.0",max:"5",step:"0.2",value:E,onChange:e=>R(parseFloat(e.target.value)),style:H})]}),(0,j.jsxs)("div",{style:N,children:[(0,j.jsxs)("div",{style:_,children:[(0,j.jsx)("span",{children:"Circle Size:"}),(0,j.jsx)("span",{style:$,children:P.toFixed(1)})]}),(0,j.jsx)("input",{type:"range",min:"1",max:"15",step:"0.5",value:P,onChange:e=>F(parseFloat(e.target.value)),style:H})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("button",{onClick:()=>W(!O),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f8f9fa",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsx)("span",{children:"Advanced Parameters"}),(0,j.jsx)("span",{style:{transform:O?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"\u25bc"})]}),O&&(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"#ffffff"},children:[(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.75rem 0"},children:"Particle Types"}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{style:{fontSize:"0.75rem",margin:"0 0 0.5rem 0",color:"#6b7280"},children:"Charges"}),k.map(((e,t)=>(0,j.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,j.jsxs)("label",{style:{fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:[0===t?"Orange":"Blue",": ",e.toFixed(1)]}),(0,j.jsx)("input",{type:"range",min:"-3",max:"3",step:"0.5",value:e,onChange:e=>{const s=[...k];s[t]=parseFloat(e.target.value),A(s)},style:{width:"100%",appearance:"none",height:"4px",borderRadius:"2px",background:"#d1d5db"}})]},`charge-${t}`)))]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{style:{fontSize:"0.75rem",margin:"0 0 0.5rem 0",color:"#6b7280"},children:"Colors"}),I.map(((e,t)=>(0,j.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,j.jsxs)("label",{style:{fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:["Type ",t,":"]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:e,border:"1px solid #ccc",borderRadius:"3px"}}),(0,j.jsxs)("select",{value:e,onChange:e=>{const s=[...I];s[t]=e.target.value,V(s)},style:{flex:1,padding:"0.25rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"0.75rem"},children:[(0,j.jsx)("option",{value:"rgba(255, 165, 0, 0.8)",children:"Orange"}),(0,j.jsx)("option",{value:"rgba(0, 0, 255, 0.8)",children:"Blue"}),(0,j.jsx)("option",{value:"rgba(255, 0, 0, 0.8)",children:"Red"}),(0,j.jsx)("option",{value:"rgba(0, 128, 0, 0.8)",children:"Green"}),(0,j.jsx)("option",{value:"rgba(128, 0, 128, 0.8)",children:"Purple"}),(0,j.jsx)("option",{value:"rgba(0, 0, 0, 0.8)",children:"Black"})]})]})]},`color-${t}`)))]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.75rem 0"},children:"Pair Interactions"}),(0,j.jsx)("div",{style:{fontSize:"0.75rem",overflowX:"auto"},children:(0,j.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{style:{backgroundColor:"#f3f4f6"},children:[(0,j.jsx)("th",{style:{padding:"0.5rem",textAlign:"left",fontSize:"0.7rem"},children:"Pair"}),(0,j.jsx)("th",{style:{padding:"0.5rem",textAlign:"center",fontSize:"0.7rem"},children:"\u03b5"}),(0,j.jsx)("th",{style:{padding:"0.5rem",textAlign:"center",fontSize:"0.7rem"},children:"\u03c3"})]})}),(0,j.jsx)("tbody",{children:Array.from({length:D}).map(((e,t)=>Array.from({length:t+1}).map(((e,s)=>(0,j.jsxs)("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[(0,j.jsx)("td",{style:{padding:"0.5rem"},children:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:I[t],borderRadius:"2px"}}),(0,j.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:I[s],borderRadius:"2px"}}),(0,j.jsxs)("span",{style:{fontSize:"0.7rem"},children:[t,"-",s]})]})}),(0,j.jsx)("td",{style:{padding:"0.5rem"},children:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:z[t][s],onChange:e=>L("epsilon",t,s,parseFloat(e.target.value)),style:{width:"60px",appearance:"none",height:"3px",borderRadius:"2px",background:"#d1d5db"}}),(0,j.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"0.25rem"},children:z[t][s].toFixed(1)})]})}),(0,j.jsx)("td",{style:{padding:"0.5rem"},children:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("input",{type:"range",min:"1.0",max:"5.0",step:"0.2",value:B[t][s],onChange:e=>L("sigma",t,s,parseFloat(e.target.value)),style:{width:"60px",appearance:"none",height:"3px",borderRadius:"2px",background:"#d1d5db"}}),(0,j.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"0.25rem"},children:B[t][s].toFixed(1)})]})})]},`interaction-${t}-${s}`)))))})]})})]})]})]})]})},C=e=>{let{analytics:t,particleData:s}=e;const n=(0,i.useRef)(null),[r,a]=(0,i.useState)("temperature"),[l,o]=(0,i.useState)(!1),c=()=>{const e=n.current;if(!e||!t)return;const s=e.getContext("2d");if(!s)return;const i=window.devicePixelRatio||1,a=e.clientWidth,o=e.clientHeight;e.width=a*i,e.height=o*i,s.scale(i,i),e.style.width=a+"px",e.style.height=o+"px";const c=a,h=o,d=40,u=c-80,p=h-80;let m,g;s.fillStyle="#ffffff",s.fillRect(0,0,c,h);let f=!1;if(r.startsWith("gr_")){f=!0;const e=t.getRadialDistributionFunction();if("gr_total"===r)m=e.gr,g=e.r;else{const t=r.replace("gr_","");m=e.gr_partial[t]||[],g=e.r}if(0===m.length)return}else{const e=t.getCollectiveVariable(r);if(!e||e.values.length<2)return;m=e.values.slice(-1e3),g=e.times.slice(-1e3)}let x=[];if(!f){const e=Math.min(10,m.length);for(let t=0;t<m.length;t++){const s=Math.max(0,t-e+1),i=m.slice(s,t+1),n=i.reduce(((e,t)=>e+t),0)/i.length;x.push(n)}}let y=Math.min(...m),v=Math.max(...m),b=m,S=x;l&&y>0&&(b=m.map((e=>Math.log10(Math.max(e,.001)))),S=x.map((e=>Math.log10(Math.max(e,.001)))),y=Math.min(...b),v=Math.max(...b));const j=v-y||1;if(s.strokeStyle="#666666",s.lineWidth=1,s.beginPath(),s.moveTo(d,d),s.lineTo(d,h-d),s.lineTo(c-d,h-d),s.stroke(),f){const e=t.getRadialDistributionFunction().maxRadius,i=e<=5?1:Math.ceil(e/10);s.strokeStyle="#666666",s.lineWidth=1,s.font="10px Arial",s.textAlign="center",s.fillStyle="#6b7280";for(let t=0;t<=e;t+=i){const i=d+t/e*u;s.beginPath(),s.moveTo(i,h-d),s.lineTo(i,h-d+5),s.stroke(),s.fillText(t.toFixed(1),i,h-d+17)}}s.strokeStyle="#2563eb",s.lineWidth=1.5,s.beginPath();for(let t=0;t<b.length;t++){const e=d+t/(b.length-1)*u,i=h-d-(b[t]-y)/j*p;0===t?s.moveTo(e,i):s.lineTo(e,i)}if(s.stroke(),!f&&S.length>1){s.strokeStyle="#dc2626",s.lineWidth=2,s.beginPath();for(let e=0;e<S.length;e++){const t=d+e/(S.length-1)*u,i=h-d-(S[e]-y)/j*p;0===e?s.moveTo(t,i):s.lineTo(t,i)}s.stroke()}let M,C;if(r.startsWith("gr_")){if("gr_total"===r)M="g(r) - Total";else{const e=r.replace("gr_","");M=`g(r) - ${{"0-0":"Orange-Orange","0-1":"Orange-Blue","1-1":"Blue-Blue"}[e]||e}`}C="Distance (\xc5)"}else{const e=t.getCollectiveVariable(r);M=l?`log\u2081\u2080(${e?.name}) (${e?.unit})`:`${e?.name} (${e?.unit})`,C="Time Steps"}s.textBaseline="middle",s.fillStyle="#374151",s.font="14px Arial",s.textAlign="center",s.fillText(M,c/2,25),s.font="12px Arial",s.textAlign="right",s.fillStyle="#6b7280";const T=l&&y>0?Math.pow(10,v).toFixed(2):v.toFixed(2),w=l&&y>0?Math.pow(10,y).toFixed(2):y.toFixed(2);s.fillText(T,30,50),s.fillText(w,30,h-d-10),s.textAlign="center",s.fillText(C,c/2,h-10)};return(0,i.useEffect)((()=>{const e=setInterval(c,100);return()=>clearInterval(e)}),[t,r,l]),(0,j.jsxs)("div",{style:{position:"relative",backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"8px",border:"1px solid #e9ecef",height:"300px"},children:[(0,j.jsxs)("div",{style:{position:"absolute",top:"1rem",left:"1rem",right:"1rem",zIndex:10,display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsxs)("select",{value:r,onChange:e=>a(e.target.value),style:{padding:"0.25rem 0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.9)",fontSize:"0.75rem"},children:[(0,j.jsx)("option",{value:"temperature",children:"Temperature"}),(0,j.jsx)("option",{value:"pressure",children:"Pressure"}),(0,j.jsx)("option",{value:"totalEnergy",children:"Total Energy"}),(0,j.jsx)("option",{value:"kineticEnergy",children:"Kinetic Energy"}),(0,j.jsx)("option",{value:"potentialEnergy",children:"Potential Energy"}),(0,j.jsx)("option",{value:"gr_total",children:"g(r) - Total"}),(0,j.jsx)("option",{value:"gr_0-0",children:"g(r) - Orange-Orange"}),(0,j.jsx)("option",{value:"gr_0-1",children:"g(r) - Orange-Blue"}),(0,j.jsx)("option",{value:"gr_1-1",children:"g(r) - Blue-Blue"})]}),(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.75rem"},children:[(0,j.jsx)("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked)}),"Log"]})]})}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsxs)("div",{style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"4px",border:"1px solid rgba(233,236,239,0.8)",fontSize:"0.75rem"},children:[(0,j.jsx)("span",{style:{color:"#6b7280"},children:"Particles: "}),(0,j.jsx)("span",{style:{fontWeight:"600",fontFamily:"monospace"},children:s?`${s.typeCounts[0]}/${s.typeCounts[1]}`:"0/0"})]}),(0,j.jsxs)("div",{style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"4px",border:"1px solid rgba(233,236,239,0.8)",fontSize:"0.75rem"},children:[(0,j.jsx)("span",{style:{color:"#6b7280"},children:"T: "}),(0,j.jsx)("span",{style:{fontWeight:"600",fontFamily:"monospace"},children:t?.getLatestSnapshot()?.temperature?.toFixed(2)||"0.00"})]}),(0,j.jsxs)("div",{style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"4px",border:"1px solid rgba(233,236,239,0.8)",fontSize:"0.75rem"},children:[(0,j.jsx)("span",{style:{color:"#6b7280"},children:"E: "}),(0,j.jsx)("span",{style:{fontWeight:"600",fontFamily:"monospace"},children:t?.getLatestSnapshot()?.totalEnergy?.toFixed(1)||"0.0"})]})]})]}),(0,j.jsx)("canvas",{ref:n,width:800,height:250,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"8px",backgroundColor:"#ffffff"}})]})},T=()=>{const[e,t]=(0,i.useState)(800),[s,n]=(0,i.useState)(600),r=(0,i.useRef)(null),d=(0,i.useRef)(null),[g,T]=((0,i.useRef)(0),(0,i.useState)(800)),[w,E]=(0,i.useState)(600);(0,i.useEffect)((()=>{if(d.current){const e=d.current.getBoundingClientRect(),s=Math.max(400,e.width-10),i=Math.max(300,Math.min(600,.6*s));t(s),n(i)}}),[]),(0,i.useEffect)((()=>{T(e),E(s)}),[e,s]);const[R,P]=(0,i.useState)(.3),[F,k]=(0,i.useState)(100),[A,I]=(0,i.useState)(.015),[V,z]=(0,i.useState)(!1),[B,L]=(0,i.useState)(null),[D,O]=(0,i.useState)(30),[W,N]=(0,i.useState)(5),[_,$]=(0,i.useState)(1.5),[H,q]=(0,i.useState)(null),[G]=(0,i.useState)(2),[Y,J]=(0,i.useState)(["rgba(255, 165, 0, 0.8)","rgba(0, 0, 255, 0.8)"]),[U,X]=(0,i.useState)([[1,.8],[.8,1]]),[K,Q]=(0,i.useState)([[3.5,3.2],[3.2,3]]),[Z,ee]=(0,i.useState)([1,-1]),[te,se]=(0,i.useState)(1),[ie,ne]=(0,i.useState)(1),[re,ae]=(0,i.useState)(1),[le,oe]=(0,i.useState)(null),[ce,he]=(0,i.useState)(null),[de,ue]=(0,i.useState)(null),[pe,me]=(0,i.useState)(null),[ge,fe]=(0,i.useState)(h.REFLECTIVE),[xe,ye]=(0,i.useState)(b.LANGEVIN),[ve,be]=(0,i.useState)(.5),[Se,je]=(0,i.useState)(!1),Me=(0,i.useRef)({x:0,y:0}),Ce=(0,i.useRef)({width:0,height:0}),Te=e=>{if(!Se)return;const s=e.clientX-Me.current.x,i=e.clientY-Me.current.y,r=Math.max(400,Math.min(1200,Ce.current.width+s)),a=Math.max(300,Math.min(800,Ce.current.height+i));t(r),n(a)},we=()=>{je(!1)};(0,i.useEffect)((()=>{if(Se)return document.addEventListener("mousemove",Te),document.addEventListener("mouseup",we),()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",we)}}),[Se]);(0,i.useEffect)((()=>{(()=>{const e=r.current;if(!e)return;e.getContext("2d",{alpha:!1}),window.devicePixelRatio,e.style.width=`${g}px`,e.style.height=`${w}px`,e.width=g,e.height=w})()}),[g,w]),(0,i.useEffect)((()=>{const e=()=>{if(d.current){const e=d.current.clientWidth;T(Math.min(e,800)),E(400)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);(0,i.useEffect)((()=>{const e=function(e,t,s){const i=new m,n=new u(e,t),r=new p(s);return i.addPotential(n,1),i.addPotential(r,1),i}(U,K,Z),t=e.getPotentials()[0],s=e.getPotentials()[1];t.updateParameters(U,K,te,ie),s.updateCharges(Z,re),oe(e)}),[U,K,Z,te,ie,re]),(0,i.useEffect)((()=>{if(g&&w){const e=5,t=function(e,t,s){const i=s?.damping??.95;switch(e){case h.REFLECTIVE:return new a(t,i);case h.PERIODIC:return new l(t,i);case h.ABSORBING:return new o(t,i);case h.ELASTIC:return new c(t,i,s?.stiffness??100);default:return new a(t,i)}}(ge,{xMin:_,xMax:g/e-_,yMin:_,yMax:w/e-_});he(t)}}),[ge,g,w,_]),(0,i.useEffect)((()=>{const e=function(e,t,s,i){switch(e){case b.VELOCITY_RESCALING:return new f(t,s,i?.couplingStrength??.1);case b.LANGEVIN:return new x(t,s,i?.friction??1);case b.BERENDSEN:return new y(t,s,i?.relaxationTime??10);case b.NOSE_HOOVER:return new v(t,s,i?.thermostatMass??1);default:return new f(t,s)}}(xe,R,A);ue(e)}),[xe,A]),(0,i.useEffect)((()=>{de&&de.setTargetTemperature(R)}),[R,de]),(0,i.useEffect)((()=>{const e=new S(1,2e3,10,100);me(e)}),[]),(0,i.useEffect)((()=>{Ee()}),[F,G,ve,g,w,ge,xe]);const Ee=()=>{const e=(t=F,{positions:new Float32Array(2*t),velocities:new Float32Array(2*t),accelerations:new Float32Array(2*t),oldAccelerations:new Float32Array(2*t),types:new Uint8Array(t),masses:new Float32Array(t),count:t,typeCounts:new Array(G).fill(0)});var t;const s=g/5,i=w/5,n=s/i;let r=Math.ceil(Math.sqrt(F*n)),a=Math.ceil(F/r);const l=s/Math.max(r-1,1),o=i/Math.max(a-1,1),c=4*_;(l<c||o<c)&&(r=Math.floor(s/c),a=Math.ceil(F/r)),e.typeCounts.fill(0);const h=(e=>{const t=[],s=(e,t)=>{let s=0,i=1/t,n=e;for(;n>0;)s+=i*(n%t),n=Math.floor(n/t),i/=t;return s};for(let i=0;i<e;i++){const e=s(i+1,2),n=s(i+1,3);t.push([e,n])}return t})(F),d=Math.floor(F*ve),u=F-d;e.typeCounts[0]=d,e.typeCounts[1]=u;for(let p=0;p<F;p++){const t=2*_,n=t+h[p][0]*(s-2*t),r=t+h[p][1]*(i-2*t),a=2*Math.random()*Math.PI,l=Math.sqrt(-2*Math.log(Math.max(.001,Math.random())))*Math.sqrt(R),o=p<d?0:1,c=2*p;e.positions[c]=n,e.positions[c+1]=r,e.velocities[c]=l*Math.cos(a),e.velocities[c+1]=l*Math.sin(a),e.accelerations[c]=0,e.accelerations[c+1]=0,e.oldAccelerations[c]=0,e.oldAccelerations[c+1]=0,e.types[p]=o,e.masses[p]=1}pe&&(pe.reset(),pe.setParticleTypes(e.types)),q(e)},Re=()=>{if(!H)return;const e=H.positions,t=H.velocities,s=H.accelerations,i=H.oldAccelerations,n=H.count,r=A,a=.5*r*r,l=.5*r;for(let o=0;o<n;o++){const n=2*o;e[n]+=t[n]*r+s[n]*a,e[n+1]+=t[n+1]*r+s[n+1]*a,i[n]=s[n],i[n+1]=s[n+1]}(()=>{if(!H||!le)return;H.accelerations.fill(0);const e=H.positions,t=H.accelerations,s=H.types,i=H.masses,n=H.count;let r=0,a=0;for(let l=0;l<n;l++){const o=2*l,c=s[l],h=i[l];for(let d=l+1;d<n;d++){const n=2*d,l=s[d],u=i[d],p=e[n]-e[o],m=e[n+1]-e[o+1],g=p*p+m*m;if(g<.001)continue;const f=Math.sqrt(g),x=le.calculateTotal(f,c,l);let y=x.force;r+=x.potential,y=.5*Math.min(Math.max(y,-50),50),a+=y*f;const v=1/f,b=y*p*v,S=y*m*v;t[o]+=b/h,t[o+1]+=S/h,t[n]-=b/u,t[n+1]-=S/u}}if(pe&&H){const e=g/5*(w/5);pe.updateTime(A),pe.calculateAndSample(H,r,e,a)}})();for(let o=0;o<n;o++){const e=2*o;t[e]+=(i[e]+s[e])*l,t[e+1]+=(i[e+1]+s[e+1])*l}ce&&ce.apply(H),de&&Math.random()<.1&&de.apply(H)},Pe=()=>{L(null)};(0,i.useEffect)((()=>{}),[te,ie,re]),(0,i.useEffect)((()=>{const e=()=>{if(d.current){const e=d.current.clientWidth;T(Math.min(e,800)),E(400)}};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),(0,i.useEffect)((()=>{if(!H)return;let e;const t=()=>{const s=r.current;if(!s)return;const i=s.getContext("2d",{alpha:!1});if(i.strokeStyle="#000000",i.fillStyle="#fff",i.fillRect(0,0,g,w),i.strokeRect(0,0,g,w),V)for(let e=0;e<D;e++)Re();const n=H.positions,a=H.types,l=_*W;i.strokeStyle="#000000",i.lineWidth=.5;for(let e=0;e<H.count;e++){const t=2*e,s=a[e],r=5*n[t],o=5*n[t+1];i.beginPath(),i.arc(r,o,l,0,2*Math.PI),i.fillStyle=Y[s],i.fill(),i.stroke()}e=window.requestAnimationFrame(t)};return t(),()=>{window.cancelAnimationFrame(e)}}),[H,V,_,g,w,A,te,ie,re,D,W,Y,Z,U]);return(0,j.jsxs)("div",{style:{width:"100vw",minHeight:"100vh",display:"grid",gridTemplateColumns:"75% 25%",gap:"1rem",padding:"1rem",boxSizing:"border-box"},children:[(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{style:{margin:"0 0 1rem 0"},children:"Molecular Dynamics Simulation"}),(0,j.jsxs)("div",{ref:d,style:{width:`${e+10}px`,height:`${s+10}px`,border:g===e&&w===s?"none":"1px solid #ccc",backgroundColor:"#f8f9fa",position:"relative",padding:"5px"},children:[(0,j.jsx)("canvas",{ref:r,width:g,height:w,style:{display:"block",backgroundColor:"#ffffff"},onMouseDown:e=>{if(!r.current||!H)return;const t=r.current.getBoundingClientRect(),s=e.clientX-t.left,i=e.clientY-t.top,n=H.positions;for(let r=0;r<H.count;r++){const e=2*r,t=5*n[e],a=5*n[e+1],l=Math.abs(t-s),o=Math.abs(a-i),c=_*W*5*1.2;if(l<=c&&o<=c){L(r);break}}},onMouseMove:e=>{if(null===B||!r.current||!H)return;const t=r.current.getBoundingClientRect(),s=(e.clientX-t.left)/5,i=(e.clientY-t.top)/5,n=2*B;H.positions[n]=s,H.positions[n+1]=i,H.velocities[n]=0,H.velocities[n+1]=0,H.accelerations[n]=0,H.accelerations[n+1]=0,q({...H})},onMouseUp:Pe,onMouseLeave:Pe}),(0,j.jsx)("div",{onMouseDown:t=>{je(!0),Me.current={x:t.clientX,y:t.clientY},Ce.current={width:e,height:s},t.preventDefault()},style:{position:"absolute",bottom:"0px",right:"0px",width:"20px",height:"20px",cursor:"nw-resize",background:"linear-gradient(-45deg, transparent 40%, #666 40%, #666 60%, transparent 60%)",opacity:.7,pointerEvents:"auto"}})]})]}),(0,j.jsx)(C,{analytics:pe,particleData:H})]}),(0,j.jsx)(M,{running:V,setRunning:z,initializeParticles:Ee,numParticles:F,setNumParticles:k,temperature:R,setTemperature:P,timeStep:A,setTimeStep:I,stepsPerFrame:D,setStepsPerFrame:O,orangeRatio:ve,setOrangeRatio:be,boundaryType:ge,setBoundaryType:fe,thermostatType:xe,setThermostatType:ye,epsilonScale:te,setEpsilonScale:se,sigmaScale:ie,setSigmaScale:ne,setBaseParticleRadius:$,chargeScale:re,setChargeScale:ae,visualScale:W,setVisualScale:N,charges:Z,setCharges:ee,typeColors:Y,setTypeColors:J,epsilonMatrix:U,sigmaMatrix:K,updateInteractionParameter:(e,t,s,i)=>{if("epsilon"===e){const e=[...U];e[t][s]=i,e[s][t]=i,X(e)}else if("sigma"===e){const e=[...K];e[t][s]=i,e[s][t]=i,Q(e)}},numTypes:G})]})};function w(){const[e,t]=(0,i.useState)("1D");return(0,j.jsx)(n.A,{title:"Molecular Dynamics",description:"Interactive visualizations of molecular dynamics for",children:(0,j.jsx)("main",{style:{width:"100%",maxWidth:"none",padding:0},children:(0,j.jsx)(T,{})})})}}}]);